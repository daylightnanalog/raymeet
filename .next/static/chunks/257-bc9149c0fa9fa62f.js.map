{"version":3,"file":"static/chunks/257-bc9149c0fa9fa62f.js","mappings":"+FAEAA,EAAQ,OAAO,EACfA,EAAQ,EAAO,CACX,MACA,OACA,MACA,SACA,SACA,MACA,OACA,UACA,WACA,KACA,UACA,YACA,aACA,cACA,MACA,QACA,KACA,MACA,QACA,KACA,MACA,OACA,QACA,KACA,MACA,SACA,KACA,UACA,SACA,KACA,MACA,SACA,WACA,SACA,OACA,KACA,UACA,SACA,YACA,WACA,OACA,SACA,SACA,KACA,SACA,kBACA,iBACA,OACA,QACA,QACA,YACA,YACA,UACA,SACA,MACA,KACA,MACA,aACA,MACA,QACA,KACA,YACA,KACA,OACA,SACA,QACA,OACA,OACA,MACA,OACA,KACA,OACA,OACA,aACA,KACA,UACA,WACA,KACA,UACA,OACA,UACA,QACA,UACA,SACA,OACA,QACA,UACA,KACA,MACA,KACA,MACA,KACA,QACA,KACA,OACA,QACA,UACA,iBACA,OACA,OACA,MACA,YACA,cACA,WACA,WACA,WACA,WACA,aACA,UACA,SACA,KACA,MACA,MACA,OACA,MACA,MACA,KACA,KACA,QACA,SACA,OACA,UACA,SACA,OACA,UACA,MACA,KACA,KACA,KACA,SACA,KACA,QACA,MACA,OACA,OACA,QACA,MACA,MACA,KACA,QACA,cACA,cACA,OACA,YACA,OACA,KACA,MACA,MACA,KACA,aACA,KACA,QACA,aACA,OACA,MACA,OACA,MACA,OACA,UACA,QACA,SACA,SACA,MACA,WACA,MACA,KACA,WACA,cACA,WACA,SACA,UACA,WACA,KACA,KACA,QACA,WACA,WACA,MACA,OACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,OACA,MACA,OACA,cACA,MACA,SACA,OACA,QACA,WACA,UACA,aACA,MACA,UACA,QACA,OACA,SACA,UACA,OACA,OACA,OACA,OACA,SACA,MACA,WACA,WACA,MACA,MACA,OACA,MACA,KACA,KACA,SACA,MACA,OACA,KACA,MACA,MACA,KACA,KACA,SACA,UACA,UACA,QACA,OACA,QACA,UACA,YACA,SACA,SACA,KACA,WACA,SACA,QACA,UACA,OACA,QACA,OACA,WACA,KACA,KACA,SACA,WACA,QACA,SACA,WACA,WACA,QACA,OACA,UACA,KACA,KACA,KACA,QACA,QACA,SACA,UACA,UACA,MACA,UACA,WACA,YACA,UACA,UACA,WACA,SACA,SACA,eACA,aACA,UACA,cACA,UACA,OACA,OACA,UACA,UACA,SACA,UACA,UACA,MACA,KACA,SACA,aACA,cACA,UACA,QACA,MACA,SACA,UACA,KACA,aACA,KACA,KACA,KACA,KACA,QACA,OACA,KACA,QACA,MACA,QACA,OACA,OACA,SACA,SACA,MACA,OACA,MACA,KACA,OACA,SACA,QACA,SACA,WACA,OACA,WACA,QACA,WACA,SACA,UACA,OACA,SACA,MACA,MACA,WACA,OACA,UACA,SACA,YACA,WACA,WACA,OACA,MACA,KACA,KACA,KACA,MACA,KACA,OACA,SACA,MACA,UACA,MACA,WACA,QACA,MACA,QACA,SACA,SACA,SACA,OACA,MACA,KACA,QACA,MACA,KACA,MACA,QACA,MACA,YACA,KACA,KACA,QACA,SACA,SACA,WACA,cACA,cACA,QACA,YACA,KACA,WACA,OACA,KACA,MACA,SACA,KACA,WACA,KACA,aACA,MACA,SACA,WACA,SACA,UACA,UACA,aACA,OACA,OACA,YACA,QACA,SACA,MACA,OACA,OACA,UACA,UACA,OACA,QACA,WACA,UACA,UACA,KACA,WACA,OACA,OACA,QACA,UACA,YACA,OACA,YACA,WACA,OACA,UACA,MACA,UACA,KACA,KACA,SACA,UACA,OACA,UACA,UACA,MACA,KACA,KACA,MACA,OACA,WACA,OACA,QACA,UACA,QACA,aACA,MACA,KACA,OACA,YACA,MACA,UACA,YACA,WACA,MACA,UACA,MACA,OACA,YACA,SACA,MACA,KACA,MACA,UACA,QACA,SACA,OACA,QACA,MACA,SACA,MACA,KACA,OACA,KACA,MACA,KACA,MACA,OACA,UACA,SACA,KACA,KACA,OACA,KACA,KACA,OACA,QACA,QACA,SACA,KACA,QACA,MACA,SACA,QACA,KACA,QACA,OACA,MACA,MACA,KACA,UACA,OACA,YACA,OACA,MACA,WACA,OACA,SACA,MACA,MACA,MACA,KACA,KACA,KACA,WACA,WACA,SACA,QACA,QACA,UACA,QACA,KACA,KACA,KACA,WACA,QACA,OACA,QACA,UACA,OACA,KACA,KACA,OACA,UACA,UACA,OACA,MACA,OACA,WACA,SACA,aACA,OACA,WACA,OACA,SACA,SACA,YACA,UACA,MACA,KACA,MACA,KACA,KACA,SACA,WACA,UACA,YACA,YACA,QACA,YACA,QACA,QACA,WACA,OACA,UACA,MACA,UACA,SACA,UACA,QACA,MACA,KACA,OACA,KACA,KACA,SACA,QACA,UACA,MACA,OACA,MACA,MACA,KACA,KACA,OACA,MACA,QACA,KACA,KACA,SACA,OACA,OACA,aACA,KACA,MACA,aACA,WACA,OACA,MACA,MACA,YACA,YACA,SACA,MACA,gBACA,SACA,cACA,KACA,WACA,KACA,KACA,QACA,KACA,UACA,MACA,WACA,KACA,OACA,MACA,SACA,OACA,MACA,KACA,OACA,QACA,UACA,MACA,MACA,KACA,MACA,MACA,KACA,OACA,SACA,MACA,MACA,KACA,WACA,OACA,SACA,UACA,SACA,OACA,KACA,cACA,iBACA,kBACA,MACA,KACA,KACA,KACA,MACA,OACA,MACA,SACA,SACA,UACA,OACA,KACA,KACA,QACA,UACA,SACA,KACA,OACA,MACA,KACA,MACA,OACA,YACA,KACA,KACA,QACA,KACA,KACA,UACA,cACA,QACA,YACA,OACA,YACA,UACA,UACA,MACA,SACA,UACA,MACA,SACA,KACA,KACA,MACA,QACA,UACA,SACA,QACA,OACA,QACA,OACA,KACA,OACA,OACA,gBACA,YACA,WACA,OACA,QACA,UACA,OACA,UACA,OACA,QACA,OACA,SACA,KACA,MACA,MACA,OACA,QACA,SACA,QACA,MACA,SACA,QACA,QACA,OACA,MACA,eACA,KACA,KACA,KACA,MACA,OACA,KACA,WACA,OACA,SACA,KACA,KACA,KACA,SACA,OACA,SACA,SACA,MACA,aACA,QACA,MACA,SACA,YACA,UACA,WACA,YACA,SACA,MACA,KACA,WACA,KACA,KACA,MACA,QACA,OACA,YACA,OACA,WACA,MACA,OACA,WACA,KACA,KACA,QACA,YACA,MACA,OACA,OACA,MACA,aACA,KACA,KACA,MACA,MACA,KACA,MACA,KACA,KACA,OACA,SACA,OACA,MACA,MACA,MACA,SACA,QACA,UACA,SACA,WACA,SACA,OACA,cACA,MACA,QACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,MACA,KACA,SACA,QACA,SACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,SACA,OACA,SACA,OACA,MACA,KACA,KACA,MACA,MACA,UACA,UACA,UACA,UACA,MACA,OACA,OACA,aACA,QACA,KACA,MACA,KACA,MACA,MACA,KACA,OACA,OACA,QACA,QACA,SACA,SACA,KACA,KACA,QACA,qBACA,SACA,MACA,SACA,QACA,KACA,KACA,MACA,MACA,MACA,KACA,MACA,KACA,MACA,WACA,SACA,UACA,SACA,cACA,UACA,OACA,KACA,QACA,MACA,MACA,MACA,SACA,MACA,OACA,SACA,SACA,MACA,UACA,UACA,QACA,SACA,MACA,MACA,KACA,OACA,YACA,QACA,OACA,WACA,QACA,QACA,YACA,MACA,OACA,KACA,MACA,KACA,SACA,KACA,KACA,WACA,MACA,UACA,QACA,QACA,cACA,SACA,SACA,OACA,SACA,WACA,MACA,MACA,OACA,OACA,UACA,QACA,KACA,KACA,QACA,OACA,cACA,WACA,OACA,KACA,KACA,MACA,OACA,QACA,UACA,OACA,OACA,KACA,YACA,QACA,QACA,QACA,MACA,OACA,cACA,OACA,cACA,QACA,aACA,WACA,aACA,MACA,aACA,KACA,KACA,MACA,KACA,MACA,KACA,KACA,OACA,SACA,QACA,SACA,QACA,KACA,OACA,aACA,UACA,SACA,UACA,MACA,WACA,cACA,QACA,QACA,SACA,OACA,WACA,MACA,OACA,UACA,SACA,SACA,aACA,OACA,aACA,SACA,UACA,UACA,OACA,YACA,QACA,MACA,MACA,MACA,KACA,SACA,QACA,QACA,SACA,OACA,KACA,OACA,KACA,QACA,OACA,MACA,KACA,MACA,SACA,KACA,WACA,OACA,SACA,SACA,OACA,QACA,WACA,UACA,UACA,kBACA,SACA,MACA,OACA,MACA,OACA,OACA,KACA,MACA,MACA,KACA,MACA,MACA,aACA,UACA,eACA,SACA,SACA,UACA,UACA,OACA,KACA,KACA,SACA,OACA,SACA,WACA,OACA,SACA,QACA,WACA,QACA,MACA,MACA,OACA,MACA,KACA,KACA,YACA,QACA,OACA,QACA,OACA,UACA,QACA,OACA,WACA,SACA,OACA,WACA,KACA,OACA,OACA,UACA,OACA,KACA,KACA,MACA,OACA,MACA,QACA,KACA,QACA,KACA,QACA,QACA,KACA,OACA,KACA,SACA,SACA,WACA,WACA,OACA,QACA,YACA,OACA,OACA,MACA,MACA,QACA,QACA,OACA,KACA,MACA,KACA,KACA,QACA,UACA,OACA,YACA,YACA,MACA,WACA,YACA,UACA,QACA,SACA,SACA,QACA,QACA,KACA,QACA,WACA,SACA,UACA,OACA,UACA,SACA,KACA,SACA,QACA,KACA,KACA,SACA,UACA,KACA,MACA,SACA,OACA,SACA,SACA,aACA,QACA,SACA,MACA,OACA,KACA,MACA,KACA,MACA,OACA,OACA,aACA,MACA,UACA,SACA,OACA,KACA,KACA,KACA,MACA,UACA,UACA,OACA,UACA,SACA,UACA,OACA,QACA,QACA,KACA,SACA,MACA,KACA,SACA,KACA,KACA,QACA,KACA,KACA,QACA,QACA,QACA,MACA,QACA,UACA,QACA,QACA,OACA,SACA,OACA,KACA,QACA,UACA,WACA,SACA,YACA,qBACA,QACA,MACA,KACA,OACA,MACA,QACA,QACA,KACA,MACA,KACA,KACA,KACA,QACA,MACA,KACA,KACA,SACA,aACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,YACA,OACA,WACA,KACA,KACA,QACA,WACA,WACA,eACA,MACA,KACA,KACA,SACA,QACA,MACA,SACA,SACA,MACA,MACA,SACA,OACA,SACA,OACA,OACA,aACA,KACA,QACA,aACA,QACA,OACA,SACA,OACA,SACA,KACA,SACA,QACA,UACA,SACA,OACA,UACA,QACA,UACA,UACA,iBACA,SACA,QACA,UACA,MACA,UACA,QACA,OACA,KACA,UACA,OACA,OACA,cACA,MACA,UACA,OACA,UACA,MACA,gBACA,WACA,OACA,QACA,QACA,MACA,KACA,MACA,MACA,OACA,QACA,UACA,SACA,MACA,qBACA,qBACA,eACA,2BACA,eACA,eACA,eACA,eACA,2BACA,eACA,qBACA,2BACA,2BACA,eACA,iCACA,2BACA,iCACA,eACA,eACA,2BACA,eACA,eACA,qBACA,uCACA,qBACA,6CACA,uCACA,2BACA,eACA,qBACA,eACA,qBACA,qBACA,eACA,eACA,qBACA,uCACA,qBACA,qBACA,qBACA,2BACA,eACA,qEACA,eACA,eACA,eACA,2BACA,qBACA,eACA,2BACA,eACA,eACA,qBACA,qBACA,eACA,eACA,eACA,eACA,eACA,iCACA,2BACA,2BACA,eACA,2BACA,2BACA,eACA,uCACA,2BACA,iCACA,eACA,iCACA,eACA,eACA,qBACA,qBACA,eACA,qBACA,eACA,qBACA,eACA,eACA,eACA,qBACA,6CACA,2BACA,uCACA,iCACA,6CACA,6CACA,uCACA,iCACA,yDACA,6CACA,uCACA,2BACA,iCACA,uCACA,uCACA,6CACA,mDACA,2BACA,6CACA,iCACA,iCACA,2BACA,uCACA,eACA,eACA,eACA,2BACA,2BACA,qBACA,eACA,eACA,2BACA,eACA,qBACA,iCACA,eACA,qBACA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","sources":["webpack://_N_E/./node_modules/global-tld-list/dist/index.js","webpack://_N_E/./node_modules/loglevel/lib/loglevel.js","webpack://_N_E/./node_modules/next/dist/build/polyfills/process.js","webpack://_N_E/./node_modules/next/dist/compiled/process/browser.js","webpack://_N_E/./node_modules/next/router.js","webpack://_N_E/./node_modules/tinykeys/dist/tinykeys.module.js","webpack://_N_E/./node_modules/@react-hook/latest/dist/module/index.js","webpack://_N_E/./node_modules/email-regex/index.js","webpack://_N_E/./node_modules/@floating-ui/core/dist/floating-ui.core.browser.min.mjs","webpack://_N_E/./node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.min.mjs","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/lift.js","webpack://_N_E/./node_modules/tslib/tslib.es6.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/config.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/map.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isPromise.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/symbol/iterator.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isIterable.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/mergeInternals.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/concatAll.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/mergeAll.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/args.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isScheduler.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/observeOn.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/subscribeOn.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduled/scheduleAsyncIterable.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduled/scheduled.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduled/scheduleObservable.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduled/scheduleArray.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduled/schedulePromise.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduled/scheduleIterable.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduled/scheduleReadableStreamLike.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/observable/from.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/observable/concat.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/startWith.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/Subject.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/filter.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/scanInternals.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/observable/of.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduler/Action.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduler/intervalProvider.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduler/AsyncAction.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/Scheduler.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduler/async.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/scheduler/AsyncScheduler.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/timeout.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/util/isDate.js","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js","webpack://_N_E/./node_modules/@livekit/components-core/src/utils.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/helper/detectMobileBrowser.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/helper/urlRegex.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/helper/floating-menu.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/helper/eventGroups.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/logger.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/helper/grid-layouts.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/types.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/track-reference/track-reference.types.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/track-reference/track-reference.utils.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/sorting/base-sort-functions.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/sorting/sort-track-bundles.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/helper/array-helper.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/track-reference/test-utils.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/sorting/tile-array-update.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/observables/room.ts","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/finalize.js","webpack://_N_E/./node_modules/@livekit/components-core/src/styles-interface/class-prefixer.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/mediaTrack.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/observables/participant.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/mediaDeviceSelect.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/connectionQualityIndicator.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/participantName.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/observables/dataChannel.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/chat.ts","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/scan.js","webpack://_N_E/./node_modules/@livekit/components-core/src/observables/track.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/observables/dom-event.ts","webpack://_N_E/./node_modules/@livekit/components-core/node_modules/rxjs/dist/esm5/internal/operators/skipUntil.js","webpack://_N_E/./node_modules/clsx/dist/clsx.m.js","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/internal/useResizeObserver.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/internal/useObservableState.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/context/chat-context.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/context/pin-context.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/context/layout-context.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/context/track-context.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/context/participant-context.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/context/room-context.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/mergeProps.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useConnectionStatus.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useDisconnectButton.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/disconnectButton.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useFocusToggle.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/focusToggle.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useGridLayout.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useIsMuted.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useIsSpeaking.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useLiveKitRoom.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useLocalParticipantPermissions.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/utils.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useMediaTrackBySourceOrName.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useVisualStableUpdate.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useParticipantTile.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/participantTile.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useFacingMode.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/usePinnedTracks.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useStartAudio.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/startAudio.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useChatToggle.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/chatToggle.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useToken.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useTrackMutedIndicator.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/trackMutedIndicator.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useTrackToggle.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/components/mediaToggle.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useTracks.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/components/controls/ChatToggle.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/controls/DisconnectButton.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/CameraDisabledIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/CameraIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/ChatIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/Chevron.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/FocusToggleIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/LeaveIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/MicDisabledIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/MicIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/QualityExcellentIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/QualityGoodIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/QualityPoorIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/QualityUnknownIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/ScreenShareIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/ScreenShareStopIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/SpinnerIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/UnfocusToggleIcon.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/controls/FocusToggle.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/controls/MediaDeviceSelect.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useMediaDeviceSelect.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/components/controls/StartAudio.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/icons/util.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/controls/TrackToggle.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/participant/ConnectionQualityIndicator.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useConnectionQualityIndicator.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/components/participant/ParticipantName.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/participant/TrackMutedIndicator.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/assets/images/ParticipantPlaceholder.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/participant/VideoTrack.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/participant/AudioTrack.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/participant/ParticipantTile.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/layout/FocusLayout.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/TrackLoop.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/controls/PaginationControl.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/controls/PaginationIndicator.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/layout/GridLayout.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/usePagination.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/useSwipe.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/components/layout/CarouselLayout.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/layout/LayoutContextProvider.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/LiveKitRoom.tsx","webpack://_N_E/./node_modules/@livekit/components-core/src/components/room.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/components/RoomAudioRenderer.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/Toast.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/components/ChatEntry.tsx","webpack://_N_E/./node_modules/@livekit/components-core/src/helper/tokenizer.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/prefabs/Chat.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/prefabs/MediaDeviceMenu.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/prefabs/PreJoin.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/prefabs/ControlBar.tsx","webpack://_N_E/./node_modules/@livekit/components-react/src/hooks/internal/useMediaQuery.ts","webpack://_N_E/./node_modules/@livekit/components-core/src/helper/featureDetection.ts","webpack://_N_E/./node_modules/@livekit/components-react/src/prefabs/VideoConference.tsx","webpack://_N_E/./node_modules/@swc/helpers/src/_array_like_to_array.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_sliced_to_array.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_array_with_holes.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_iterable_to_array.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_unsupported_iterable_to_array.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_non_iterable_rest.mjs"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TLDs = void 0;\nexports.TLDs = [\n    'aaa',\n    'aarp',\n    'abb',\n    'abbott',\n    'abbvie',\n    'abc',\n    'able',\n    'abogado',\n    'abudhabi',\n    'ac',\n    'academy',\n    'accenture',\n    'accountant',\n    'accountants',\n    'aco',\n    'actor',\n    'ad',\n    'ads',\n    'adult',\n    'ae',\n    'aeg',\n    'aero',\n    'aetna',\n    'af',\n    'afl',\n    'africa',\n    'ag',\n    'agakhan',\n    'agency',\n    'ai',\n    'aig',\n    'airbus',\n    'airforce',\n    'airtel',\n    'akdn',\n    'al',\n    'alibaba',\n    'alipay',\n    'allfinanz',\n    'allstate',\n    'ally',\n    'alsace',\n    'alstom',\n    'am',\n    'amazon',\n    'americanexpress',\n    'americanfamily',\n    'amex',\n    'amfam',\n    'amica',\n    'amsterdam',\n    'analytics',\n    'android',\n    'anquan',\n    'anz',\n    'ao',\n    'aol',\n    'apartments',\n    'app',\n    'apple',\n    'aq',\n    'aquarelle',\n    'ar',\n    'arab',\n    'aramco',\n    'archi',\n    'army',\n    'arpa',\n    'art',\n    'arte',\n    'as',\n    'asda',\n    'asia',\n    'associates',\n    'at',\n    'athleta',\n    'attorney',\n    'au',\n    'auction',\n    'audi',\n    'audible',\n    'audio',\n    'auspost',\n    'author',\n    'auto',\n    'autos',\n    'avianca',\n    'aw',\n    'aws',\n    'ax',\n    'axa',\n    'az',\n    'azure',\n    'ba',\n    'baby',\n    'baidu',\n    'banamex',\n    'bananarepublic',\n    'band',\n    'bank',\n    'bar',\n    'barcelona',\n    'barclaycard',\n    'barclays',\n    'barefoot',\n    'bargains',\n    'baseball',\n    'basketball',\n    'bauhaus',\n    'bayern',\n    'bb',\n    'bbc',\n    'bbt',\n    'bbva',\n    'bcg',\n    'bcn',\n    'bd',\n    'be',\n    'beats',\n    'beauty',\n    'beer',\n    'bentley',\n    'berlin',\n    'best',\n    'bestbuy',\n    'bet',\n    'bf',\n    'bg',\n    'bh',\n    'bharti',\n    'bi',\n    'bible',\n    'bid',\n    'bike',\n    'bing',\n    'bingo',\n    'bio',\n    'biz',\n    'bj',\n    'black',\n    'blackfriday',\n    'blockbuster',\n    'blog',\n    'bloomberg',\n    'blue',\n    'bm',\n    'bms',\n    'bmw',\n    'bn',\n    'bnpparibas',\n    'bo',\n    'boats',\n    'boehringer',\n    'bofa',\n    'bom',\n    'bond',\n    'boo',\n    'book',\n    'booking',\n    'bosch',\n    'bostik',\n    'boston',\n    'bot',\n    'boutique',\n    'box',\n    'br',\n    'bradesco',\n    'bridgestone',\n    'broadway',\n    'broker',\n    'brother',\n    'brussels',\n    'bs',\n    'bt',\n    'build',\n    'builders',\n    'business',\n    'buy',\n    'buzz',\n    'bv',\n    'bw',\n    'by',\n    'bz',\n    'bzh',\n    'ca',\n    'cab',\n    'cafe',\n    'cal',\n    'call',\n    'calvinklein',\n    'cam',\n    'camera',\n    'camp',\n    'canon',\n    'capetown',\n    'capital',\n    'capitalone',\n    'car',\n    'caravan',\n    'cards',\n    'care',\n    'career',\n    'careers',\n    'cars',\n    'casa',\n    'case',\n    'cash',\n    'casino',\n    'cat',\n    'catering',\n    'catholic',\n    'cba',\n    'cbn',\n    'cbre',\n    'cbs',\n    'cc',\n    'cd',\n    'center',\n    'ceo',\n    'cern',\n    'cf',\n    'cfa',\n    'cfd',\n    'cg',\n    'ch',\n    'chanel',\n    'channel',\n    'charity',\n    'chase',\n    'chat',\n    'cheap',\n    'chintai',\n    'christmas',\n    'chrome',\n    'church',\n    'ci',\n    'cipriani',\n    'circle',\n    'cisco',\n    'citadel',\n    'citi',\n    'citic',\n    'city',\n    'cityeats',\n    'ck',\n    'cl',\n    'claims',\n    'cleaning',\n    'click',\n    'clinic',\n    'clinique',\n    'clothing',\n    'cloud',\n    'club',\n    'clubmed',\n    'cm',\n    'cn',\n    'co',\n    'coach',\n    'codes',\n    'coffee',\n    'college',\n    'cologne',\n    'com',\n    'comcast',\n    'commbank',\n    'community',\n    'company',\n    'compare',\n    'computer',\n    'comsec',\n    'condos',\n    'construction',\n    'consulting',\n    'contact',\n    'contractors',\n    'cooking',\n    'cool',\n    'coop',\n    'corsica',\n    'country',\n    'coupon',\n    'coupons',\n    'courses',\n    'cpa',\n    'cr',\n    'credit',\n    'creditcard',\n    'creditunion',\n    'cricket',\n    'crown',\n    'crs',\n    'cruise',\n    'cruises',\n    'cu',\n    'cuisinella',\n    'cv',\n    'cw',\n    'cx',\n    'cy',\n    'cymru',\n    'cyou',\n    'cz',\n    'dabur',\n    'dad',\n    'dance',\n    'data',\n    'date',\n    'dating',\n    'datsun',\n    'day',\n    'dclk',\n    'dds',\n    'de',\n    'deal',\n    'dealer',\n    'deals',\n    'degree',\n    'delivery',\n    'dell',\n    'deloitte',\n    'delta',\n    'democrat',\n    'dental',\n    'dentist',\n    'desi',\n    'design',\n    'dev',\n    'dhl',\n    'diamonds',\n    'diet',\n    'digital',\n    'direct',\n    'directory',\n    'discount',\n    'discover',\n    'dish',\n    'diy',\n    'dj',\n    'dk',\n    'dm',\n    'dnp',\n    'do',\n    'docs',\n    'doctor',\n    'dog',\n    'domains',\n    'dot',\n    'download',\n    'drive',\n    'dtv',\n    'dubai',\n    'dunlop',\n    'dupont',\n    'durban',\n    'dvag',\n    'dvr',\n    'dz',\n    'earth',\n    'eat',\n    'ec',\n    'eco',\n    'edeka',\n    'edu',\n    'education',\n    'ee',\n    'eg',\n    'email',\n    'emerck',\n    'energy',\n    'engineer',\n    'engineering',\n    'enterprises',\n    'epson',\n    'equipment',\n    'er',\n    'ericsson',\n    'erni',\n    'es',\n    'esq',\n    'estate',\n    'et',\n    'etisalat',\n    'eu',\n    'eurovision',\n    'eus',\n    'events',\n    'exchange',\n    'expert',\n    'exposed',\n    'express',\n    'extraspace',\n    'fage',\n    'fail',\n    'fairwinds',\n    'faith',\n    'family',\n    'fan',\n    'fans',\n    'farm',\n    'farmers',\n    'fashion',\n    'fast',\n    'fedex',\n    'feedback',\n    'ferrari',\n    'ferrero',\n    'fi',\n    'fidelity',\n    'fido',\n    'film',\n    'final',\n    'finance',\n    'financial',\n    'fire',\n    'firestone',\n    'firmdale',\n    'fish',\n    'fishing',\n    'fit',\n    'fitness',\n    'fj',\n    'fk',\n    'flickr',\n    'flights',\n    'flir',\n    'florist',\n    'flowers',\n    'fly',\n    'fm',\n    'fo',\n    'foo',\n    'food',\n    'football',\n    'ford',\n    'forex',\n    'forsale',\n    'forum',\n    'foundation',\n    'fox',\n    'fr',\n    'free',\n    'fresenius',\n    'frl',\n    'frogans',\n    'frontdoor',\n    'frontier',\n    'ftr',\n    'fujitsu',\n    'fun',\n    'fund',\n    'furniture',\n    'futbol',\n    'fyi',\n    'ga',\n    'gal',\n    'gallery',\n    'gallo',\n    'gallup',\n    'game',\n    'games',\n    'gap',\n    'garden',\n    'gay',\n    'gb',\n    'gbiz',\n    'gd',\n    'gdn',\n    'ge',\n    'gea',\n    'gent',\n    'genting',\n    'george',\n    'gf',\n    'gg',\n    'ggee',\n    'gh',\n    'gi',\n    'gift',\n    'gifts',\n    'gives',\n    'giving',\n    'gl',\n    'glass',\n    'gle',\n    'global',\n    'globo',\n    'gm',\n    'gmail',\n    'gmbh',\n    'gmo',\n    'gmx',\n    'gn',\n    'godaddy',\n    'gold',\n    'goldpoint',\n    'golf',\n    'goo',\n    'goodyear',\n    'goog',\n    'google',\n    'gop',\n    'got',\n    'gov',\n    'gp',\n    'gq',\n    'gr',\n    'grainger',\n    'graphics',\n    'gratis',\n    'green',\n    'gripe',\n    'grocery',\n    'group',\n    'gs',\n    'gt',\n    'gu',\n    'guardian',\n    'gucci',\n    'guge',\n    'guide',\n    'guitars',\n    'guru',\n    'gw',\n    'gy',\n    'hair',\n    'hamburg',\n    'hangout',\n    'haus',\n    'hbo',\n    'hdfc',\n    'hdfcbank',\n    'health',\n    'healthcare',\n    'help',\n    'helsinki',\n    'here',\n    'hermes',\n    'hiphop',\n    'hisamitsu',\n    'hitachi',\n    'hiv',\n    'hk',\n    'hkt',\n    'hm',\n    'hn',\n    'hockey',\n    'holdings',\n    'holiday',\n    'homedepot',\n    'homegoods',\n    'homes',\n    'homesense',\n    'honda',\n    'horse',\n    'hospital',\n    'host',\n    'hosting',\n    'hot',\n    'hoteles',\n    'hotels',\n    'hotmail',\n    'house',\n    'how',\n    'hr',\n    'hsbc',\n    'ht',\n    'hu',\n    'hughes',\n    'hyatt',\n    'hyundai',\n    'ibm',\n    'icbc',\n    'ice',\n    'icu',\n    'id',\n    'ie',\n    'ieee',\n    'ifm',\n    'ikano',\n    'il',\n    'im',\n    'imamat',\n    'imdb',\n    'immo',\n    'immobilien',\n    'in',\n    'inc',\n    'industries',\n    'infiniti',\n    'info',\n    'ing',\n    'ink',\n    'institute',\n    'insurance',\n    'insure',\n    'int',\n    'international',\n    'intuit',\n    'investments',\n    'io',\n    'ipiranga',\n    'iq',\n    'ir',\n    'irish',\n    'is',\n    'ismaili',\n    'ist',\n    'istanbul',\n    'it',\n    'itau',\n    'itv',\n    'jaguar',\n    'java',\n    'jcb',\n    'je',\n    'jeep',\n    'jetzt',\n    'jewelry',\n    'jio',\n    'jll',\n    'jm',\n    'jmp',\n    'jnj',\n    'jo',\n    'jobs',\n    'joburg',\n    'jot',\n    'joy',\n    'jp',\n    'jpmorgan',\n    'jprs',\n    'juegos',\n    'juniper',\n    'kaufen',\n    'kddi',\n    'ke',\n    'kerryhotels',\n    'kerrylogistics',\n    'kerryproperties',\n    'kfh',\n    'kg',\n    'kh',\n    'ki',\n    'kia',\n    'kids',\n    'kim',\n    'kinder',\n    'kindle',\n    'kitchen',\n    'kiwi',\n    'km',\n    'kn',\n    'koeln',\n    'komatsu',\n    'kosher',\n    'kp',\n    'kpmg',\n    'kpn',\n    'kr',\n    'krd',\n    'kred',\n    'kuokgroup',\n    'kw',\n    'ky',\n    'kyoto',\n    'kz',\n    'la',\n    'lacaixa',\n    'lamborghini',\n    'lamer',\n    'lancaster',\n    'land',\n    'landrover',\n    'lanxess',\n    'lasalle',\n    'lat',\n    'latino',\n    'latrobe',\n    'law',\n    'lawyer',\n    'lb',\n    'lc',\n    'lds',\n    'lease',\n    'leclerc',\n    'lefrak',\n    'legal',\n    'lego',\n    'lexus',\n    'lgbt',\n    'li',\n    'lidl',\n    'life',\n    'lifeinsurance',\n    'lifestyle',\n    'lighting',\n    'like',\n    'lilly',\n    'limited',\n    'limo',\n    'lincoln',\n    'link',\n    'lipsy',\n    'live',\n    'living',\n    'lk',\n    'llc',\n    'llp',\n    'loan',\n    'loans',\n    'locker',\n    'locus',\n    'lol',\n    'london',\n    'lotte',\n    'lotto',\n    'love',\n    'lpl',\n    'lplfinancial',\n    'lr',\n    'ls',\n    'lt',\n    'ltd',\n    'ltda',\n    'lu',\n    'lundbeck',\n    'luxe',\n    'luxury',\n    'lv',\n    'ly',\n    'ma',\n    'madrid',\n    'maif',\n    'maison',\n    'makeup',\n    'man',\n    'management',\n    'mango',\n    'map',\n    'market',\n    'marketing',\n    'markets',\n    'marriott',\n    'marshalls',\n    'mattel',\n    'mba',\n    'mc',\n    'mckinsey',\n    'md',\n    'me',\n    'med',\n    'media',\n    'meet',\n    'melbourne',\n    'meme',\n    'memorial',\n    'men',\n    'menu',\n    'merckmsd',\n    'mg',\n    'mh',\n    'miami',\n    'microsoft',\n    'mil',\n    'mini',\n    'mint',\n    'mit',\n    'mitsubishi',\n    'mk',\n    'ml',\n    'mlb',\n    'mls',\n    'mm',\n    'mma',\n    'mn',\n    'mo',\n    'mobi',\n    'mobile',\n    'moda',\n    'moe',\n    'moi',\n    'mom',\n    'monash',\n    'money',\n    'monster',\n    'mormon',\n    'mortgage',\n    'moscow',\n    'moto',\n    'motorcycles',\n    'mov',\n    'movie',\n    'mp',\n    'mq',\n    'mr',\n    'ms',\n    'msd',\n    'mt',\n    'mtn',\n    'mtr',\n    'mu',\n    'museum',\n    'music',\n    'mutual',\n    'mv',\n    'mw',\n    'mx',\n    'my',\n    'mz',\n    'na',\n    'nab',\n    'nagoya',\n    'name',\n    'natura',\n    'navy',\n    'nba',\n    'nc',\n    'ne',\n    'nec',\n    'net',\n    'netbank',\n    'netflix',\n    'network',\n    'neustar',\n    'new',\n    'news',\n    'next',\n    'nextdirect',\n    'nexus',\n    'nf',\n    'nfl',\n    'ng',\n    'ngo',\n    'nhk',\n    'ni',\n    'nico',\n    'nike',\n    'nikon',\n    'ninja',\n    'nissan',\n    'nissay',\n    'nl',\n    'no',\n    'nokia',\n    'northwesternmutual',\n    'norton',\n    'now',\n    'nowruz',\n    'nowtv',\n    'np',\n    'nr',\n    'nra',\n    'nrw',\n    'ntt',\n    'nu',\n    'nyc',\n    'nz',\n    'obi',\n    'observer',\n    'office',\n    'okinawa',\n    'olayan',\n    'olayangroup',\n    'oldnavy',\n    'ollo',\n    'om',\n    'omega',\n    'one',\n    'ong',\n    'onl',\n    'online',\n    'ooo',\n    'open',\n    'oracle',\n    'orange',\n    'org',\n    'organic',\n    'origins',\n    'osaka',\n    'otsuka',\n    'ott',\n    'ovh',\n    'pa',\n    'page',\n    'panasonic',\n    'paris',\n    'pars',\n    'partners',\n    'parts',\n    'party',\n    'passagens',\n    'pay',\n    'pccw',\n    'pe',\n    'pet',\n    'pf',\n    'pfizer',\n    'pg',\n    'ph',\n    'pharmacy',\n    'phd',\n    'philips',\n    'phone',\n    'photo',\n    'photography',\n    'photos',\n    'physio',\n    'pics',\n    'pictet',\n    'pictures',\n    'pid',\n    'pin',\n    'ping',\n    'pink',\n    'pioneer',\n    'pizza',\n    'pk',\n    'pl',\n    'place',\n    'play',\n    'playstation',\n    'plumbing',\n    'plus',\n    'pm',\n    'pn',\n    'pnc',\n    'pohl',\n    'poker',\n    'politie',\n    'porn',\n    'post',\n    'pr',\n    'pramerica',\n    'praxi',\n    'press',\n    'prime',\n    'pro',\n    'prod',\n    'productions',\n    'prof',\n    'progressive',\n    'promo',\n    'properties',\n    'property',\n    'protection',\n    'pru',\n    'prudential',\n    'ps',\n    'pt',\n    'pub',\n    'pw',\n    'pwc',\n    'py',\n    'qa',\n    'qpon',\n    'quebec',\n    'quest',\n    'racing',\n    'radio',\n    're',\n    'read',\n    'realestate',\n    'realtor',\n    'realty',\n    'recipes',\n    'red',\n    'redstone',\n    'redumbrella',\n    'rehab',\n    'reise',\n    'reisen',\n    'reit',\n    'reliance',\n    'ren',\n    'rent',\n    'rentals',\n    'repair',\n    'report',\n    'republican',\n    'rest',\n    'restaurant',\n    'review',\n    'reviews',\n    'rexroth',\n    'rich',\n    'richardli',\n    'ricoh',\n    'ril',\n    'rio',\n    'rip',\n    'ro',\n    'rocher',\n    'rocks',\n    'rodeo',\n    'rogers',\n    'room',\n    'rs',\n    'rsvp',\n    'ru',\n    'rugby',\n    'ruhr',\n    'run',\n    'rw',\n    'rwe',\n    'ryukyu',\n    'sa',\n    'saarland',\n    'safe',\n    'safety',\n    'sakura',\n    'sale',\n    'salon',\n    'samsclub',\n    'samsung',\n    'sandvik',\n    'sandvikcoromant',\n    'sanofi',\n    'sap',\n    'sarl',\n    'sas',\n    'save',\n    'saxo',\n    'sb',\n    'sbi',\n    'sbs',\n    'sc',\n    'sca',\n    'scb',\n    'schaeffler',\n    'schmidt',\n    'scholarships',\n    'school',\n    'schule',\n    'schwarz',\n    'science',\n    'scot',\n    'sd',\n    'se',\n    'search',\n    'seat',\n    'secure',\n    'security',\n    'seek',\n    'select',\n    'sener',\n    'services',\n    'seven',\n    'sew',\n    'sex',\n    'sexy',\n    'sfr',\n    'sg',\n    'sh',\n    'shangrila',\n    'sharp',\n    'shaw',\n    'shell',\n    'shia',\n    'shiksha',\n    'shoes',\n    'shop',\n    'shopping',\n    'shouji',\n    'show',\n    'showtime',\n    'si',\n    'silk',\n    'sina',\n    'singles',\n    'site',\n    'sj',\n    'sk',\n    'ski',\n    'skin',\n    'sky',\n    'skype',\n    'sl',\n    'sling',\n    'sm',\n    'smart',\n    'smile',\n    'sn',\n    'sncf',\n    'so',\n    'soccer',\n    'social',\n    'softbank',\n    'software',\n    'sohu',\n    'solar',\n    'solutions',\n    'song',\n    'sony',\n    'soy',\n    'spa',\n    'space',\n    'sport',\n    'spot',\n    'sr',\n    'srl',\n    'ss',\n    'st',\n    'stada',\n    'staples',\n    'star',\n    'statebank',\n    'statefarm',\n    'stc',\n    'stcgroup',\n    'stockholm',\n    'storage',\n    'store',\n    'stream',\n    'studio',\n    'study',\n    'style',\n    'su',\n    'sucks',\n    'supplies',\n    'supply',\n    'support',\n    'surf',\n    'surgery',\n    'suzuki',\n    'sv',\n    'swatch',\n    'swiss',\n    'sx',\n    'sy',\n    'sydney',\n    'systems',\n    'sz',\n    'tab',\n    'taipei',\n    'talk',\n    'taobao',\n    'target',\n    'tatamotors',\n    'tatar',\n    'tattoo',\n    'tax',\n    'taxi',\n    'tc',\n    'tci',\n    'td',\n    'tdk',\n    'team',\n    'tech',\n    'technology',\n    'tel',\n    'temasek',\n    'tennis',\n    'teva',\n    'tf',\n    'tg',\n    'th',\n    'thd',\n    'theater',\n    'theatre',\n    'tiaa',\n    'tickets',\n    'tienda',\n    'tiffany',\n    'tips',\n    'tires',\n    'tirol',\n    'tj',\n    'tjmaxx',\n    'tjx',\n    'tk',\n    'tkmaxx',\n    'tl',\n    'tm',\n    'tmall',\n    'tn',\n    'to',\n    'today',\n    'tokyo',\n    'tools',\n    'top',\n    'toray',\n    'toshiba',\n    'total',\n    'tours',\n    'town',\n    'toyota',\n    'toys',\n    'tr',\n    'trade',\n    'trading',\n    'training',\n    'travel',\n    'travelers',\n    'travelersinsurance',\n    'trust',\n    'trv',\n    'tt',\n    'tube',\n    'tui',\n    'tunes',\n    'tushu',\n    'tv',\n    'tvs',\n    'tw',\n    'tz',\n    'ua',\n    'ubank',\n    'ubs',\n    'ug',\n    'uk',\n    'unicom',\n    'university',\n    'uno',\n    'uol',\n    'ups',\n    'us',\n    'uy',\n    'uz',\n    'va',\n    'vacations',\n    'vana',\n    'vanguard',\n    'vc',\n    've',\n    'vegas',\n    'ventures',\n    'verisign',\n    'versicherung',\n    'vet',\n    'vg',\n    'vi',\n    'viajes',\n    'video',\n    'vig',\n    'viking',\n    'villas',\n    'vin',\n    'vip',\n    'virgin',\n    'visa',\n    'vision',\n    'viva',\n    'vivo',\n    'vlaanderen',\n    'vn',\n    'vodka',\n    'volkswagen',\n    'volvo',\n    'vote',\n    'voting',\n    'voto',\n    'voyage',\n    'vu',\n    'vuelos',\n    'wales',\n    'walmart',\n    'walter',\n    'wang',\n    'wanggou',\n    'watch',\n    'watches',\n    'weather',\n    'weatherchannel',\n    'webcam',\n    'weber',\n    'website',\n    'wed',\n    'wedding',\n    'weibo',\n    'weir',\n    'wf',\n    'whoswho',\n    'wien',\n    'wiki',\n    'williamhill',\n    'win',\n    'windows',\n    'wine',\n    'winners',\n    'wme',\n    'wolterskluwer',\n    'woodside',\n    'work',\n    'works',\n    'world',\n    'wow',\n    'ws',\n    'wtc',\n    'wtf',\n    'xbox',\n    'xerox',\n    'xfinity',\n    'xihuan',\n    'xin',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    'vermgensberater',\n    'vermgensberatung',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    '',\n    'xxx',\n    'xyz',\n    'yachts',\n    'yahoo',\n    'yamaxun',\n    'yandex',\n    'ye',\n    'yodobashi',\n    'yoga',\n    'yokohama',\n    'you',\n    'youtube',\n    'yt',\n    'yun',\n    'za',\n    'zappos',\n    'zara',\n    'zero',\n    'zip',\n    'zm',\n    'zone',\n    'zuerich',\n    'zw',\n];\n","/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (typeof window.navigator !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      defaultLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n\n      var storageKey = \"loglevel\";\n      if (typeof name === \"string\") {\n        storageKey += \":\" + name;\n      } else if (typeof name === \"symbol\") {\n        storageKey = undefined;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType || !storageKey) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      function clearPersistedLevel() {\n          if (typeof window === undefinedType || !storageKey) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage.removeItem(storageKey);\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\n          } catch (ignore) {}\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          defaultLevel = level;\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.resetLevel = function () {\n          self.setLevel(defaultLevel, false);\n          clearPersistedLevel();\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if ((typeof name !== \"symbol\" && typeof name !== \"string\") || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    // ES6 default export, for compatibility\n    defaultLogger['default'] = defaultLogger;\n\n    return defaultLogger;\n}));\n","\"use strict\";\nvar ref, ref1;\nmodule.exports = ((ref = global.process) == null ? void 0 : ref.env) && typeof ((ref1 = global.process) == null ? void 0 : ref1.env) === \"object\" ? global.process : require(\"../../compiled/process\");\n\n//# sourceMappingURL=process.js.map","(function(){var e={229:function(e){var t=e.exports={};var r;var n;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){r=setTimeout}else{r=defaultSetTimout}}catch(e){r=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){n=clearTimeout}else{n=defaultClearTimeout}}catch(e){n=defaultClearTimeout}})();function runTimeout(e){if(r===setTimeout){return setTimeout(e,0)}if((r===defaultSetTimout||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout){return clearTimeout(e)}if((n===defaultClearTimeout||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var i=[];var o=false;var u;var a=-1;function cleanUpNextTick(){if(!o||!u){return}o=false;if(u.length){i=u.concat(i)}else{a=-1}if(i.length){drainQueue()}}function drainQueue(){if(o){return}var e=runTimeout(cleanUpNextTick);o=true;var t=i.length;while(t){u=i;i=[];while(++a<t){if(u){u[a].run()}}a=-1;t=i.length}u=null;o=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new Item(e,t));if(i.length===1&&!o){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title=\"browser\";t.browser=true;t.env={};t.argv=[];t.version=\"\";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error(\"process.binding is not supported\")};t.cwd=function(){return\"/\"};t.chdir=function(e){throw new Error(\"process.chdir is not supported\")};t.umask=function(){return 0}}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(229);module.exports=r})();","module.exports = require('./dist/client/router')\n","var t=[\"Shift\",\"Meta\",\"Alt\",\"Control\"],e=\"object\"==typeof navigator?navigator.platform:\"\",n=/Mac|iPod|iPhone|iPad/.test(e),r=n?\"Meta\":\"Control\",o=\"Win32\"===e?[\"Control\",\"Alt\"]:n?[\"Alt\"]:[];function i(t,e){return\"function\"==typeof t.getModifierState&&(t.getModifierState(e)||o.includes(e)&&t.getModifierState(\"AltGraph\"))}function a(t){return t.trim().split(\" \").map(function(t){var e=t.split(/\\b\\+/),n=e.pop();return[e=e.map(function(t){return\"$mod\"===t?r:t}),n]})}function u(e,n){var r;void 0===n&&(n={});var o=null!=(r=n.timeout)?r:1e3,u=Object.keys(e).map(function(t){return[a(t),e[t]]}),c=new Map,f=null;return function(e){e instanceof KeyboardEvent&&(u.forEach(function(n){var r=n[0],o=n[1],a=c.get(r)||r;!function(e,n){return!(n[1].toUpperCase()!==e.key.toUpperCase()&&n[1]!==e.code||n[0].find(function(t){return!i(e,t)})||t.find(function(t){return!n[0].includes(t)&&n[1]!==t&&i(e,t)}))}(e,a[0])?i(e,e.key)||c.delete(r):a.length>1?c.set(r,a.slice(1)):(c.delete(r),o(e))}),f&&clearTimeout(f),f=setTimeout(c.clear.bind(c),o))}}function c(t,e,n){var r;void 0===n&&(n={});var o=null!=(r=n.event)?r:\"keydown\",i=u(e,n);return t.addEventListener(o,i),function(){t.removeEventListener(o,i)}}export{u as createKeybindingsHandler,a as parseKeybinding,c as tinykeys};\n//# sourceMappingURL=tinykeys.module.js.map\n","import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","const regex = '[^\\\\.\\\\s@:](?:[^\\\\s@:]*[^\\\\s@:\\\\.])?@[^\\\\.\\\\s@]+(?:\\\\.[^\\\\.\\\\s@]+)*';\n\nexport default function emailRegex({exact} = {}) {\n\treturn exact ? new RegExp(`^${regex}$`) : new RegExp(regex, 'g');\n}\n","function t(t){return t.split(\"-\")[1]}function e(t){return\"y\"===t?\"height\":\"width\"}function n(t){return t.split(\"-\")[0]}function o(t){return[\"top\",\"bottom\"].includes(n(t))?\"x\":\"y\"}function i(i,r,a){let{reference:l,floating:s}=i;const c=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2,u=o(r),m=e(u),g=l[m]/2-s[m]/2,d=\"x\"===u;let p;switch(n(r)){case\"top\":p={x:c,y:l.y-s.height};break;case\"bottom\":p={x:c,y:l.y+l.height};break;case\"right\":p={x:l.x+l.width,y:f};break;case\"left\":p={x:l.x-s.width,y:f};break;default:p={x:l.x,y:l.y}}switch(t(r)){case\"start\":p[u]-=g*(a&&d?-1:1);break;case\"end\":p[u]+=g*(a&&d?-1:1)}return p}const r=async(t,e,n)=>{const{placement:o=\"bottom\",strategy:r=\"absolute\",middleware:a=[],platform:l}=n,s=a.filter(Boolean),c=await(null==l.isRTL?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:m}=i(f,o,c),g=o,d={},p=0;for(let n=0;n<s.length;n++){const{name:a,fn:h}=s[n],{x:y,y:x,data:w,reset:v}=await h({x:u,y:m,initialPlacement:o,placement:g,strategy:r,middlewareData:d,rects:f,platform:l,elements:{reference:t,floating:e}});u=null!=y?y:u,m=null!=x?x:m,d={...d,[a]:{...d[a],...w}},v&&p<=50&&(p++,\"object\"==typeof v&&(v.placement&&(g=v.placement),v.rects&&(f=!0===v.rects?await l.getElementRects({reference:t,floating:e,strategy:r}):v.rects),({x:u,y:m}=i(f,g,c))),n=-1)}return{x:u,y:m,placement:g,strategy:r,middlewareData:d}};function a(t){return\"number\"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function l(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function s(t,e){var n;void 0===e&&(e={});const{x:o,y:i,platform:r,rects:s,elements:c,strategy:f}=t,{boundary:u=\"clippingAncestors\",rootBoundary:m=\"viewport\",elementContext:g=\"floating\",altBoundary:d=!1,padding:p=0}=e,h=a(p),y=c[d?\"floating\"===g?\"reference\":\"floating\":g],x=l(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(y)))||n?y:y.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(c.floating)),boundary:u,rootBoundary:m,strategy:f})),w=\"floating\"===g?{...s.floating,x:o,y:i}:s.reference,v=await(null==r.getOffsetParent?void 0:r.getOffsetParent(c.floating)),b=await(null==r.isElement?void 0:r.isElement(v))&&await(null==r.getScale?void 0:r.getScale(v))||{x:1,y:1},R=l(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:v,strategy:f}):w);return{top:(x.top-R.top+h.top)/b.y,bottom:(R.bottom-x.bottom+h.bottom)/b.y,left:(x.left-R.left+h.left)/b.x,right:(R.right-x.right+h.right)/b.x}}const c=Math.min,f=Math.max;function u(t,e,n){return f(t,c(e,n))}const m=n=>({name:\"arrow\",options:n,async fn(i){const{element:r,padding:l=0}=n||{},{x:s,y:c,placement:f,rects:m,platform:g}=i;if(null==r)return{};const d=a(l),p={x:s,y:c},h=o(f),y=e(h),x=await g.getDimensions(r),w=\"y\"===h?\"top\":\"left\",v=\"y\"===h?\"bottom\":\"right\",b=m.reference[y]+m.reference[h]-p[h]-m.floating[y],R=p[h]-m.reference[h],A=await(null==g.getOffsetParent?void 0:g.getOffsetParent(r));let P=A?\"y\"===h?A.clientHeight||0:A.clientWidth||0:0;0===P&&(P=m.floating[y]);const T=b/2-R/2,O=d[w],D=P-x[y]-d[v],E=P/2-x[y]/2+T,L=u(O,E,D),k=null!=t(f)&&E!=L&&m.reference[y]/2-(E<O?d[w]:d[v])-x[y]/2<0;return{[h]:p[h]-(k?E<O?O-E:D-E:0),data:{[h]:L,centerOffset:E-L}}}}),g=[\"top\",\"right\",\"bottom\",\"left\"],d=g.reduce(((t,e)=>t.concat(e,e+\"-start\",e+\"-end\")),[]),p={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function h(t){return t.replace(/left|right|bottom|top/g,(t=>p[t]))}function y(n,i,r){void 0===r&&(r=!1);const a=t(n),l=o(n),s=e(l);let c=\"x\"===l?a===(r?\"end\":\"start\")?\"right\":\"left\":\"start\"===a?\"bottom\":\"top\";return i.reference[s]>i.floating[s]&&(c=h(c)),{main:c,cross:h(c)}}const x={start:\"end\",end:\"start\"};function w(t){return t.replace(/start|end/g,(t=>x[t]))}const v=function(e){return void 0===e&&(e={}),{name:\"autoPlacement\",options:e,async fn(o){var i,r,a;const{rects:l,middlewareData:c,placement:f,platform:u,elements:m}=o,{alignment:g,allowedPlacements:p=d,autoAlignment:h=!0,...x}=e,v=void 0!==g||p===d?function(e,o,i){return(e?[...i.filter((n=>t(n)===e)),...i.filter((n=>t(n)!==e))]:i.filter((t=>n(t)===t))).filter((n=>!e||t(n)===e||!!o&&w(n)!==n))}(g||null,h,p):p,b=await s(o,x),R=(null==(i=c.autoPlacement)?void 0:i.index)||0,A=v[R];if(null==A)return{};const{main:P,cross:T}=y(A,l,await(null==u.isRTL?void 0:u.isRTL(m.floating)));if(f!==A)return{reset:{placement:v[0]}};const O=[b[n(A)],b[P],b[T]],D=[...(null==(r=c.autoPlacement)?void 0:r.overflows)||[],{placement:A,overflows:O}],E=v[R+1];if(E)return{data:{index:R+1,overflows:D},reset:{placement:E}};const L=D.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),k=null==(a=L.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:a.placement,B=k||L[0].placement;return B!==f?{data:{index:R+1,overflows:D},reset:{placement:B}}:{}}}};const b=function(e){return void 0===e&&(e={}),{name:\"flip\",options:e,async fn(o){var i;const{placement:r,middlewareData:a,rects:l,initialPlacement:c,platform:f,elements:u}=o,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:d,fallbackStrategy:p=\"bestFit\",fallbackAxisSideDirection:x=\"none\",flipAlignment:v=!0,...b}=e,R=n(r),A=n(c)===c,P=await(null==f.isRTL?void 0:f.isRTL(u.floating)),T=d||(A||!v?[h(c)]:function(t){const e=h(t);return[w(t),e,w(e)]}(c));d||\"none\"===x||T.push(...function(e,o,i,r){const a=t(e);let l=function(t,e,n){const o=[\"left\",\"right\"],i=[\"right\",\"left\"],r=[\"top\",\"bottom\"],a=[\"bottom\",\"top\"];switch(t){case\"top\":case\"bottom\":return n?e?i:o:e?o:i;case\"left\":case\"right\":return e?r:a;default:return[]}}(n(e),\"start\"===i,r);return a&&(l=l.map((t=>t+\"-\"+a)),o&&(l=l.concat(l.map(w)))),l}(c,v,x,P));const O=[c,...T],D=await s(o,b),E=[];let L=(null==(i=a.flip)?void 0:i.overflows)||[];if(m&&E.push(D[R]),g){const{main:t,cross:e}=y(r,l,P);E.push(D[t],D[e])}if(L=[...L,{placement:r,overflows:E}],!E.every((t=>t<=0))){var k;const t=((null==(k=a.flip)?void 0:k.index)||0)+1,e=O[t];if(e)return{data:{index:t,overflows:L},reset:{placement:e}};let n=\"bottom\";switch(p){case\"bestFit\":{var B;const t=null==(B=L.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:B[0].placement;t&&(n=t);break}case\"initialPlacement\":n=c}if(r!==n)return{reset:{placement:n}}}return{}}}};function R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A(t){return g.some((e=>t[e]>=0))}const P=function(t){return void 0===t&&(t={}),{name:\"hide\",options:t,async fn(e){const{strategy:n=\"referenceHidden\",...o}=t,{rects:i}=e;switch(n){case\"referenceHidden\":{const t=R(await s(e,{...o,elementContext:\"reference\"}),i.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:A(t)}}}case\"escaped\":{const t=R(await s(e,{...o,altBoundary:!0}),i.floating);return{data:{escapedOffsets:t,escaped:A(t)}}}default:return{}}}}},T=function(t){return void 0===t&&(t={}),{name:\"inline\",options:t,async fn(e){const{placement:i,elements:r,rects:s,platform:u,strategy:m}=e,{padding:g=2,x:d,y:p}=t,h=l(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(null==u.getOffsetParent?void 0:u.getOffsetParent(r.floating)),strategy:m}):s.reference),y=await(null==u.getClientRects?void 0:u.getClientRects(r.reference))||[],x=a(g);const w=await u.getElementRects({reference:{getBoundingClientRect:function(){if(2===y.length&&y[0].left>y[1].right&&null!=d&&null!=p)return y.find((t=>d>t.left-x.left&&d<t.right+x.right&&p>t.top-x.top&&p<t.bottom+x.bottom))||h;if(y.length>=2){if(\"x\"===o(i)){const t=y[0],e=y[y.length-1],o=\"top\"===n(i),r=t.top,a=e.bottom,l=o?t.left:e.left,s=o?t.right:e.right;return{top:r,bottom:a,left:l,right:s,width:s-l,height:a-r,x:l,y:r}}const t=\"left\"===n(i),e=f(...y.map((t=>t.right))),r=c(...y.map((t=>t.left))),a=y.filter((n=>t?n.left===r:n.right===e)),l=a[0].top,s=a[a.length-1].bottom;return{top:l,bottom:s,left:r,right:e,width:e-r,height:s-l,x:r,y:l}}return h}},floating:r.floating,strategy:m});return s.reference.x!==w.reference.x||s.reference.y!==w.reference.y||s.reference.width!==w.reference.width||s.reference.height!==w.reference.height?{reset:{rects:w}}:{}}}};const O=function(e){return void 0===e&&(e=0),{name:\"offset\",options:e,async fn(i){const{x:r,y:a}=i,l=await async function(e,i){const{placement:r,platform:a,elements:l}=e,s=await(null==a.isRTL?void 0:a.isRTL(l.floating)),c=n(r),f=t(r),u=\"x\"===o(r),m=[\"left\",\"top\"].includes(c)?-1:1,g=s&&u?-1:1,d=\"function\"==typeof i?i(e):i;let{mainAxis:p,crossAxis:h,alignmentAxis:y}=\"number\"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return f&&\"number\"==typeof y&&(h=\"end\"===f?-1*y:y),u?{x:h*g,y:p*m}:{x:p*m,y:h*g}}(i,e);return{x:r+l.x,y:a+l.y,data:l}}}};function D(t){return\"x\"===t?\"y\":\"x\"}const E=function(t){return void 0===t&&(t={}),{name:\"shift\",options:t,async fn(e){const{x:i,y:r,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...m}=t,g={x:i,y:r},d=await s(e,m),p=o(n(a)),h=D(p);let y=g[p],x=g[h];if(l){const t=\"y\"===p?\"bottom\":\"right\";y=u(y+d[\"y\"===p?\"top\":\"left\"],y,y-d[t])}if(c){const t=\"y\"===h?\"bottom\":\"right\";x=u(x+d[\"y\"===h?\"top\":\"left\"],x,x-d[t])}const w=f.fn({...e,[p]:y,[h]:x});return{...w,data:{x:w.x-i,y:w.y-r}}}}},L=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:i,y:r,placement:a,rects:l,middlewareData:s}=e,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=t,m={x:i,y:r},g=o(a),d=D(g);let p=m[g],h=m[d];const y=\"function\"==typeof c?c(e):c,x=\"number\"==typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const t=\"y\"===g?\"height\":\"width\",e=l.reference[g]-l.floating[t]+x.mainAxis,n=l.reference[g]+l.reference[t]-x.mainAxis;p<e?p=e:p>n&&(p=n)}if(u){var w,v;const t=\"y\"===g?\"width\":\"height\",e=[\"top\",\"left\"].includes(n(a)),o=l.reference[d]-l.floating[t]+(e&&(null==(w=s.offset)?void 0:w[d])||0)+(e?0:x.crossAxis),i=l.reference[d]+l.reference[t]+(e?0:(null==(v=s.offset)?void 0:v[d])||0)-(e?x.crossAxis:0);h<o?h=o:h>i&&(h=i)}return{[g]:p,[d]:h}}}},k=function(e){return void 0===e&&(e={}),{name:\"size\",options:e,async fn(o){const{placement:i,rects:r,platform:a,elements:l}=o,{apply:c=(()=>{}),...u}=e,m=await s(o,u),g=n(i),d=t(i);let p,h;\"top\"===g||\"bottom\"===g?(p=g,h=d===(await(null==a.isRTL?void 0:a.isRTL(l.floating))?\"start\":\"end\")?\"left\":\"right\"):(h=g,p=\"end\"===d?\"top\":\"bottom\");const y=f(m.left,0),x=f(m.right,0),w=f(m.top,0),v=f(m.bottom,0),b={availableHeight:r.floating.height-([\"left\",\"right\"].includes(i)?2*(0!==w||0!==v?w+v:f(m.top,m.bottom)):m[p]),availableWidth:r.floating.width-([\"top\",\"bottom\"].includes(i)?2*(0!==y||0!==x?y+x:f(m.left,m.right)):m[h])};await c({...o,...b});const R=await a.getDimensions(l.floating);return r.floating.width!==R.width||r.floating.height!==R.height?{reset:{rects:!0}}:{}}}};export{m as arrow,v as autoPlacement,r as computePosition,s as detectOverflow,b as flip,P as hide,T as inline,L as limitShift,O as offset,l as rectToClientRect,E as shift,k as size};\n","import{rectToClientRect as t,computePosition as e}from\"@floating-ui/core\";export{arrow,autoPlacement,detectOverflow,flip,hide,inline,limitShift,offset,shift,size}from\"@floating-ui/core\";function n(t){var e;return(null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function o(t){return n(t).getComputedStyle(t)}function i(t){return f(t)?(t.nodeName||\"\").toLowerCase():\"\"}let r;function l(){if(r)return r;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(r=t.brands.map((t=>t.brand+\"/\"+t.version)).join(\" \"),r):navigator.userAgent}function c(t){return t instanceof n(t).HTMLElement}function s(t){return t instanceof n(t).Element}function f(t){return t instanceof n(t).Node}function u(t){if(\"undefined\"==typeof ShadowRoot)return!1;return t instanceof n(t).ShadowRoot||t instanceof ShadowRoot}function a(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=o(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&![\"inline\",\"contents\"].includes(r)}function d(t){return[\"table\",\"td\",\"th\"].includes(i(t))}function h(t){const e=/firefox/i.test(l()),n=o(t),i=n.backdropFilter||n.WebkitBackdropFilter;return\"none\"!==n.transform||\"none\"!==n.perspective||!!i&&\"none\"!==i||e&&\"filter\"===n.willChange||e&&!!n.filter&&\"none\"!==n.filter||[\"transform\",\"perspective\"].some((t=>n.willChange.includes(t)))||[\"paint\",\"layout\",\"strict\",\"content\"].some((t=>{const e=n.contain;return null!=e&&e.includes(t)}))}function p(){return!/^((?!chrome|android).)*safari/i.test(l())}function g(t){return[\"html\",\"body\",\"#document\"].includes(i(t))}const m=Math.min,y=Math.max,x=Math.round;function w(t){const e=o(t);let n=parseFloat(e.width),i=parseFloat(e.height);const r=t.offsetWidth,l=t.offsetHeight,c=x(n)!==r||x(i)!==l;return c&&(n=r,i=l),{width:n,height:i,fallback:c}}function v(t){return s(t)?t:t.contextElement}const b={x:1,y:1};function L(t){const e=v(t);if(!c(e))return b;const n=e.getBoundingClientRect(),{width:o,height:i,fallback:r}=w(e);let l=(r?x(n.width):n.width)/o,s=(r?x(n.height):n.height)/i;return l&&Number.isFinite(l)||(l=1),s&&Number.isFinite(s)||(s=1),{x:l,y:s}}function E(t,e,o,i){var r,l;void 0===e&&(e=!1),void 0===o&&(o=!1);const c=t.getBoundingClientRect(),f=v(t);let u=b;e&&(i?s(i)&&(u=L(i)):u=L(t));const a=f?n(f):window,d=!p()&&o;let h=(c.left+(d&&(null==(r=a.visualViewport)?void 0:r.offsetLeft)||0))/u.x,g=(c.top+(d&&(null==(l=a.visualViewport)?void 0:l.offsetTop)||0))/u.y,m=c.width/u.x,y=c.height/u.y;if(f){const t=n(f),e=i&&s(i)?n(i):i;let o=t.frameElement;for(;o&&i&&e!==t;){const t=L(o),e=o.getBoundingClientRect(),i=getComputedStyle(o);e.x+=(o.clientLeft+parseFloat(i.paddingLeft))*t.x,e.y+=(o.clientTop+parseFloat(i.paddingTop))*t.y,h*=t.x,g*=t.y,m*=t.x,y*=t.y,h+=e.x,g+=e.y,o=n(o).frameElement}}return{width:m,height:y,top:g,right:h+m,bottom:g+y,left:h,x:h,y:g}}function R(t){return((f(t)?t.ownerDocument:t.document)||window.document).documentElement}function T(t){return s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function C(t){return E(R(t)).left+T(t).scrollLeft}function F(t,e,n){const o=c(e),r=R(e),l=E(t,!0,\"fixed\"===n,e);let s={scrollLeft:0,scrollTop:0};const f={x:0,y:0};if(o||!o&&\"fixed\"!==n)if((\"body\"!==i(e)||a(r))&&(s=T(e)),c(e)){const t=E(e,!0);f.x=t.x+e.clientLeft,f.y=t.y+e.clientTop}else r&&(f.x=C(r));return{x:l.left+s.scrollLeft-f.x,y:l.top+s.scrollTop-f.y,width:l.width,height:l.height}}function W(t){if(\"html\"===i(t))return t;const e=t.assignedSlot||t.parentNode||(u(t)?t.host:null)||R(t);return u(e)?e.host:e}function D(t){return c(t)&&\"fixed\"!==o(t).position?t.offsetParent:null}function S(t){const e=n(t);let r=D(t);for(;r&&d(r)&&\"static\"===o(r).position;)r=D(r);return r&&(\"html\"===i(r)||\"body\"===i(r)&&\"static\"===o(r).position&&!h(r))?e:r||function(t){let e=W(t);for(;c(e)&&!g(e);){if(h(e))return e;e=W(e)}return null}(t)||e}function A(t){const e=W(t);return g(e)?t.ownerDocument.body:c(e)&&a(e)?e:A(e)}function H(t,e){var o;void 0===e&&(e=[]);const i=A(t),r=i===(null==(o=t.ownerDocument)?void 0:o.body),l=n(i);return r?e.concat(l,l.visualViewport||[],a(i)?i:[]):e.concat(i,H(i))}function O(e,i,r){return\"viewport\"===i?t(function(t,e){const o=n(t),i=R(t),r=o.visualViewport;let l=i.clientWidth,c=i.clientHeight,s=0,f=0;if(r){l=r.width,c=r.height;const t=p();(t||!t&&\"fixed\"===e)&&(s=r.offsetLeft,f=r.offsetTop)}return{width:l,height:c,x:s,y:f}}(e,r)):s(i)?function(t,e){const n=E(t,!0,\"fixed\"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=c(t)?L(t):{x:1,y:1},l=t.clientWidth*r.x,s=t.clientHeight*r.y,f=i*r.x,u=o*r.y;return{top:u,left:f,right:f+l,bottom:u+s,x:f,y:u,width:l,height:s}}(i,r):t(function(t){var e;const n=R(t),i=T(t),r=null==(e=t.ownerDocument)?void 0:e.body,l=y(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),c=y(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let s=-i.scrollLeft+C(t);const f=-i.scrollTop;return\"rtl\"===o(r||n).direction&&(s+=y(n.clientWidth,r?r.clientWidth:0)-l),{width:l,height:c,x:s,y:f}}(R(e)))}const P={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:l}=t;const c=\"clippingAncestors\"===n?function(t,e){const n=e.get(t);if(n)return n;let r=H(t).filter((t=>s(t)&&\"body\"!==i(t))),l=null;const c=\"fixed\"===o(t).position;let f=c?W(t):t;for(;s(f)&&!g(f);){const t=o(f),e=h(f);(c?e||l:e||\"static\"!==t.position||!l||![\"absolute\",\"fixed\"].includes(l.position))?l=t:r=r.filter((t=>t!==f)),f=W(f)}return e.set(t,r),r}(e,this._c):[].concat(n),f=[...c,r],u=f[0],a=f.reduce(((t,n)=>{const o=O(e,n,l);return t.top=y(o.top,t.top),t.right=m(o.right,t.right),t.bottom=m(o.bottom,t.bottom),t.left=y(o.left,t.left),t}),O(e,u,l));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const r=c(n),l=R(n);if(n===l)return e;let s={scrollLeft:0,scrollTop:0},f={x:1,y:1};const u={x:0,y:0};if((r||!r&&\"fixed\"!==o)&&((\"body\"!==i(n)||a(l))&&(s=T(n)),c(n))){const t=E(n);f=L(n),u.x=t.x+n.clientLeft,u.y=t.y+n.clientTop}return{width:e.width*f.x,height:e.height*f.y,x:e.x*f.x-s.scrollLeft*f.x+u.x,y:e.y*f.y-s.scrollTop*f.y+u.y}},isElement:s,getDimensions:function(t){return w(t)},getOffsetParent:S,getDocumentElement:R,getScale:L,async getElementRects(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||S,r=this.getDimensions;return{reference:F(e,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>\"rtl\"===o(t).direction};function z(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=!0,animationFrame:c=!1}=o,f=i&&!c,u=f||r?[...s(t)?H(t):t.contextElement?H(t.contextElement):[],...H(e)]:[];u.forEach((t=>{f&&t.addEventListener(\"scroll\",n,{passive:!0}),r&&t.addEventListener(\"resize\",n)}));let a,d=null;if(l){let o=!0;d=new ResizeObserver((()=>{o||n(),o=!1})),s(t)&&!c&&d.observe(t),s(t)||!t.contextElement||c||d.observe(t.contextElement),d.observe(e)}let h=c?E(t):null;return c&&function e(){const o=E(t);!h||o.x===h.x&&o.y===h.y&&o.width===h.width&&o.height===h.height||n();h=o,a=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{f&&t.removeEventListener(\"scroll\",n),r&&t.removeEventListener(\"resize\",n)})),null==(t=d)||t.disconnect(),d=null,c&&cancelAnimationFrame(a)}}const V=(t,n,o)=>{const i=new Map,r={platform:P,...o},l={...r.platform,_c:i};return e(t,n,{...r,platform:l})};export{z as autoUpdate,V as computePosition,H as getOverflowAncestors,P as platform};\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","export var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n//# sourceMappingURL=throwUnobservableError.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await, __generator } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    if (!true) return [3, 8];\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","import { __asyncValues, __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","export function executeSchedule(parentSubscription, scheduler, work, delay, repeat) {\n    if (delay === void 0) { delay = 0; }\n    if (repeat === void 0) { repeat = false; }\n    var scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n//# sourceMappingURL=executeSchedule.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/innerFrom';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    if (isFunction(resultSelector)) {\n        return mergeMap(function (a, i) { return map(function (b, ii) { return resultSelector(a, b, i, ii); })(innerFrom(project(a, i))); }, concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate(function (source, subscriber) { return mergeInternals(source, subscriber, project, concurrent); });\n}\n//# sourceMappingURL=mergeMap.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { executeSchedule } from '../util/executeSchedule';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalFinalizer) {\n    var buffer = [];\n    var active = 0;\n    var index = 0;\n    var isComplete = false;\n    var checkComplete = function () {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    var outerNext = function (value) { return (active < concurrent ? doInnerSub(value) : buffer.push(value)); };\n    var doInnerSub = function (value) {\n        expand && subscriber.next(value);\n        active++;\n        var innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(createOperatorSubscriber(subscriber, function (innerValue) {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, function () {\n            innerComplete = true;\n        }, undefined, function () {\n            if (innerComplete) {\n                try {\n                    active--;\n                    var _loop_1 = function () {\n                        var bufferedValue = buffer.shift();\n                        if (innerSubScheduler) {\n                            executeSchedule(subscriber, innerSubScheduler, function () { return doInnerSub(bufferedValue); });\n                        }\n                        else {\n                            doInnerSub(bufferedValue);\n                        }\n                    };\n                    while (buffer.length && active < concurrent) {\n                        _loop_1();\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(createOperatorSubscriber(subscriber, outerNext, function () {\n        isComplete = true;\n        checkComplete();\n    }));\n    return function () {\n        additionalFinalizer === null || additionalFinalizer === void 0 ? void 0 : additionalFinalizer();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { mergeAll } from './mergeAll';\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map","import { isFunction } from './isFunction';\nimport { isScheduler } from './isScheduler';\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\nexport function popResultSelector(args) {\n    return isFunction(last(args)) ? args.pop() : undefined;\n}\nexport function popScheduler(args) {\n    return isScheduler(last(args)) ? args.pop() : undefined;\n}\nexport function popNumber(args, defaultValue) {\n    return typeof last(args) === 'number' ? args.pop() : defaultValue;\n}\n//# sourceMappingURL=args.js.map","import { isFunction } from './isFunction';\nexport function isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n//# sourceMappingURL=isScheduler.js.map","import { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return executeSchedule(subscriber, scheduler, function () { return subscriber.next(value); }, delay); }, function () { return executeSchedule(subscriber, scheduler, function () { return subscriber.complete(); }, delay); }, function (err) { return executeSchedule(subscriber, scheduler, function () { return subscriber.error(err); }, delay); }));\n    });\n}\n//# sourceMappingURL=observeOn.js.map","import { operate } from '../util/lift';\nexport function subscribeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        subscriber.add(scheduler.schedule(function () { return source.subscribe(subscriber); }, delay));\n    });\n}\n//# sourceMappingURL=subscribeOn.js.map","import { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        executeSchedule(subscriber, scheduler, function () {\n            var iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, function () {\n                iterator.next().then(function (result) {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n//# sourceMappingURL=scheduleAsyncIterable.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n//# sourceMappingURL=scheduled.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var iterator;\n        executeSchedule(subscriber, scheduler, function () {\n            iterator = input[Symbol_iterator]();\n            executeSchedule(subscriber, scheduler, function () {\n                var _a;\n                var value;\n                var done;\n                try {\n                    (_a = iterator.next(), value = _a.value, done = _a.done);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return function () { return isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return(); };\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","import { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n//# sourceMappingURL=scheduleReadableStreamLike.js.map","import { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n//# sourceMappingURL=from.js.map","import { concatAll } from '../operators/concatAll';\nimport { popScheduler } from '../util/args';\nimport { from } from './from';\nexport function concat() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return concatAll()(from(args, popScheduler(args)));\n}\n//# sourceMappingURL=concat.js.map","import { concat } from '../observable/concat';\nimport { popScheduler } from '../util/args';\nimport { operate } from '../util/lift';\nexport function startWith() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(values);\n    return operate(function (source, subscriber) {\n        (scheduler ? concat(values, source, scheduler) : concat(values, source)).subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=startWith.js.map","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n    return function ObjectUnsubscribedErrorImpl() {\n        _super(this);\n        this.name = 'ObjectUnsubscribedError';\n        this.message = 'object unsubscribed';\n    };\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.closed = false;\n        _this.currentObservers = null;\n        _this.observers = [];\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype._throwIfClosed = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    };\n    Subject.prototype.next = function (value) {\n        var _this = this;\n        errorContext(function () {\n            var e_1, _a;\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                if (!_this.currentObservers) {\n                    _this.currentObservers = Array.from(_this.observers);\n                }\n                try {\n                    for (var _b = __values(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var observer = _c.value;\n                        observer.next(value);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n        });\n    };\n    Subject.prototype.error = function (err) {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.hasError = _this.isStopped = true;\n                _this.thrownError = err;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    };\n    Subject.prototype.complete = function () {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.isStopped = true;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    };\n    Object.defineProperty(Subject.prototype, \"observed\", {\n        get: function () {\n            var _a;\n            return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subject.prototype._trySubscribe = function (subscriber) {\n        this._throwIfClosed();\n        return _super.prototype._trySubscribe.call(this, subscriber);\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    };\n    Subject.prototype._innerSubscribe = function (subscriber) {\n        var _this = this;\n        var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(function () {\n            _this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    };\n    Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        !subscription.closed && subscriber.next(this._value);\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, _value = _a._value;\n        if (hasError) {\n            throw thrownError;\n        }\n        this._throwIfClosed();\n        return _value;\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, (this._value = value));\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function takeUntil(notifier) {\n    return operate(function (source, subscriber) {\n        innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, function () { return subscriber.complete(); }, noop));\n        !subscriber.closed && source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=takeUntil.js.map","import { createOperatorSubscriber } from './OperatorSubscriber';\nexport function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {\n    return function (source, subscriber) {\n        var hasState = hasSeed;\n        var state = seed;\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var i = index++;\n            state = hasState\n                ?\n                    accumulator(state, value, i)\n                :\n                    ((hasState = true), value);\n            emitOnNext && subscriber.next(state);\n        }, emitBeforeComplete &&\n            (function () {\n                hasState && subscriber.next(state);\n                subscriber.complete();\n            })));\n    };\n}\n//# sourceMappingURL=scanInternals.js.map","import { popScheduler } from '../util/args';\nimport { from } from './from';\nexport function of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    return from(args, scheduler);\n}\n//# sourceMappingURL=of.js.map","import { __read, __spreadArray } from \"tslib\";\nimport { map } from \"../operators/map\";\nvar isArray = Array.isArray;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn.apply(void 0, __spreadArray([], __read(args))) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(function (args) { return callOrApply(fn, args); });\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","import { __read } from \"tslib\";\nimport { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nvar nodeEventEmitterMethods = ['addListener', 'removeListener'];\nvar eventTargetMethods = ['addEventListener', 'removeEventListener'];\nvar jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    var _a = __read(isEventTarget(target)\n        ? eventTargetMethods.map(function (methodName) { return function (handler) { return target[methodName](eventName, handler, options); }; })\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [], 2), add = _a[0], remove = _a[1];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap(function (subTarget) { return fromEvent(subTarget, eventName, options); })(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable(function (subscriber) {\n        var handler = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subscriber.next(1 < args.length ? args : args[0]);\n        };\n        add(handler);\n        return function () { return remove(handler); };\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return function (methodName) { return function (handler) { return target[methodName](eventName, handler); }; };\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map","import { __extends } from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var intervalProvider = {\n    setInterval: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = intervalProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setInterval.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearInterval: function (handle) {\n        var delegate = intervalProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=intervalProvider.js.map","import { __extends } from \"tslib\";\nimport { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        var _a;\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, _id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (_scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, _delay) {\n        var errored = false;\n        var errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            var _a = this, id = _a.id, scheduler = _a.scheduler;\n            var actions = scheduler.actions;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            _super.prototype.unsubscribe.call(this);\n        }\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map","export var dateTimestampProvider = {\n    now: function () {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nvar Scheduler = (function () {\n    function Scheduler(schedulerActionCtor, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    };\n    Scheduler.now = dateTimestampProvider.now;\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var asyncScheduler = new AsyncScheduler(AsyncAction);\nexport var async = asyncScheduler;\n//# sourceMappingURL=async.js.map","import { __extends } from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        var _this = _super.call(this, SchedulerAction, now) || this;\n        _this.actions = [];\n        _this._active = false;\n        return _this;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { isValidDate } from '../util/isDate';\nimport { operate } from '../util/lift';\nimport { innerFrom } from '../observable/innerFrom';\nimport { createErrorClass } from '../util/createErrorClass';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { executeSchedule } from '../util/executeSchedule';\nexport var TimeoutError = createErrorClass(function (_super) {\n    return function TimeoutErrorImpl(info) {\n        if (info === void 0) { info = null; }\n        _super(this);\n        this.message = 'Timeout has occurred';\n        this.name = 'TimeoutError';\n        this.info = info;\n    };\n});\nexport function timeout(config, schedulerArg) {\n    var _a = (isValidDate(config) ? { first: config } : typeof config === 'number' ? { each: config } : config), first = _a.first, each = _a.each, _b = _a.with, _with = _b === void 0 ? timeoutErrorFactory : _b, _c = _a.scheduler, scheduler = _c === void 0 ? schedulerArg !== null && schedulerArg !== void 0 ? schedulerArg : asyncScheduler : _c, _d = _a.meta, meta = _d === void 0 ? null : _d;\n    if (first == null && each == null) {\n        throw new TypeError('No timeout provided.');\n    }\n    return operate(function (source, subscriber) {\n        var originalSourceSubscription;\n        var timerSubscription;\n        var lastValue = null;\n        var seen = 0;\n        var startTimer = function (delay) {\n            timerSubscription = executeSchedule(subscriber, scheduler, function () {\n                try {\n                    originalSourceSubscription.unsubscribe();\n                    innerFrom(_with({\n                        meta: meta,\n                        lastValue: lastValue,\n                        seen: seen,\n                    })).subscribe(subscriber);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }, delay);\n        };\n        originalSourceSubscription = source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();\n            seen++;\n            subscriber.next((lastValue = value));\n            each > 0 && startTimer(each);\n        }, undefined, undefined, function () {\n            if (!(timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.closed)) {\n                timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();\n            }\n            lastValue = null;\n        }));\n        !seen && startTimer(first != null ? (typeof first === 'number' ? first : +first - scheduler.now()) : each);\n    });\n}\nfunction timeoutErrorFactory(info) {\n    throw new TimeoutError(info);\n}\n//# sourceMappingURL=timeout.js.map","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n//# sourceMappingURL=isDate.js.map","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector) {\n    if (keySelector === void 0) { keySelector = identity; }\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate(function (source, subscriber) {\n        var previousKey;\n        var first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import type { Participant, Track, TrackPublication } from 'livekit-client';\nimport { LocalParticipant, RemoteParticipant } from 'livekit-client';\n\nimport type { PinState } from './types';\n\nexport function isLocal(p: Participant) {\n  return p instanceof LocalParticipant;\n}\n\nexport function isRemote(p: Participant) {\n  return p instanceof RemoteParticipant;\n}\n\nexport const attachIfSubscribed = (\n  publication: TrackPublication | undefined,\n  element: HTMLMediaElement | null | undefined,\n) => {\n  if (!publication) return;\n  const { isSubscribed, track } = publication;\n  if (element && track) {\n    if (isSubscribed) {\n      track.attach(element);\n    } else {\n      track.detach(element);\n    }\n  }\n};\n\n/**\n * Check if the participant track source is pinned.\n */\nexport function isParticipantSourcePinned(\n  participant: Participant,\n  source: Track.Source,\n  pinState: PinState | undefined,\n): boolean {\n  if (pinState === undefined) {\n    return false;\n  }\n\n  return pinState.some(\n    ({ source: pinnedSource, participant: pinnedParticipant }) =>\n      pinnedSource === source && pinnedParticipant.identity === participant.identity,\n  );\n}\n\n/**\n * Calculates the scrollbar width by creating two HTML elements\n * and messaging the difference.\n * @internal\n */\nexport function getScrollBarWidth() {\n  const inner = document.createElement('p');\n  inner.style.width = '100%';\n  inner.style.height = '200px';\n\n  const outer = document.createElement('div');\n  outer.style.position = 'absolute';\n  outer.style.top = '0px';\n  outer.style.left = '0px';\n  outer.style.visibility = 'hidden';\n  outer.style.width = '200px';\n  outer.style.height = '150px';\n  outer.style.overflow = 'hidden';\n  outer.appendChild(inner);\n\n  document.body.appendChild(outer);\n  const w1 = inner.offsetWidth;\n  outer.style.overflow = 'scroll';\n  let w2 = inner.offsetWidth;\n  if (w1 === w2) {\n    w2 = outer.clientWidth;\n  }\n  document.body.removeChild(outer);\n  const scrollBarWidth = w1 - w2;\n  return scrollBarWidth;\n}\n","/**\n * @internal\n */\nexport function isWeb(): boolean {\n  return typeof document !== 'undefined';\n}\n\n/**\n * Mobile browser detection based on `navigator.userAgent` string.\n * Defaults to returning `false` if not in a browser.\n *\n * @remarks\n * This should only be used if feature detection or other methods do not work!\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent#mobile_device_detection\n */\nexport function isMobileBrowser(): boolean {\n  return isWeb() ? /Mobi/i.test(window.navigator.userAgent) : false;\n}\n","// The MIT License (MIT)\n\n// Copyright (c) Kevin Mrtensson <kevinmartensson@gmail.com> and Diego Perini\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport { TLDs } from 'global-tld-list';\ninterface RegExOptions {\n  /**\n\t\tOnly match an exact string. Useful with `RegExp#test` to check if a string is a URL.\n\t\t@default false\n\t\t*/\n  readonly exact?: boolean;\n\n  /**\n\t\tForce URLs to start with a valid protocol or `www`. If set to `false` it'll match the TLD against a list of valid [TLDs](https://github.com/stephenmathieson/node-tlds).\n\t\t@default true\n\t\t*/\n  readonly strict?: boolean;\n}\n\nexport const createUrlRegExp = (options: RegExOptions) => {\n  options = {\n    strict: true,\n    ...options,\n  };\n\n  const protocol = `(?:(?:[a-z]+:)?//)${options.strict ? '' : '?'}`;\n  const auth = '(?:\\\\S+(?::\\\\S*)?@)?';\n  const ip = new RegExp(\n    '(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}',\n    'g',\n  ).source;\n  const host = '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9][-_]*)*[a-z\\\\u00a1-\\\\uffff0-9]+)';\n  const domain = '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*';\n  const tld = `(?:\\\\.${\n    options.strict\n      ? '(?:[a-z\\\\u00a1-\\\\uffff]{2,})'\n      : `(?:${TLDs.sort((a, b) => b.length - a.length).join('|')})`\n  })\\\\.?`;\n  const port = '(?::\\\\d{2,5})?';\n  const path = '(?:[/?#][^\\\\s\"]*)?';\n  const regex = `(?:${protocol}|www\\\\.)${auth}(?:localhost|${ip}|${host}${domain}${tld})${port}${path}`;\n\n  return options.exact ? new RegExp(`(?:^${regex}$)`, 'i') : new RegExp(regex, 'ig');\n};\n","import { computePosition, flip, offset, shift } from '@floating-ui/dom';\n\nexport async function computeMenuPosition(\n  button: HTMLElement,\n  menu: HTMLElement,\n): Promise<{ x: number; y: number }> {\n  const { x, y } = await computePosition(button, menu, {\n    placement: 'top',\n    middleware: [offset(6), flip(), shift({ padding: 5 })],\n  });\n  return { x, y };\n}\n\nexport function wasClickOutside(insideElement: HTMLElement, event: MouseEvent): boolean {\n  const isOutside = !insideElement.contains(event.target as Node);\n  return isOutside;\n}\n","import { ParticipantEvent, RoomEvent } from 'livekit-client';\n\nexport const allRemoteParticipantRoomEvents = [\n  RoomEvent.ConnectionStateChanged,\n  RoomEvent.RoomMetadataChanged,\n\n  RoomEvent.ActiveSpeakersChanged,\n  RoomEvent.ConnectionQualityChanged,\n\n  RoomEvent.ParticipantConnected,\n  RoomEvent.ParticipantDisconnected,\n  RoomEvent.ParticipantPermissionsChanged,\n  RoomEvent.ParticipantMetadataChanged,\n\n  RoomEvent.TrackMuted,\n  RoomEvent.TrackUnmuted,\n  RoomEvent.TrackPublished,\n  RoomEvent.TrackUnpublished,\n  RoomEvent.TrackStreamStateChanged,\n  RoomEvent.TrackSubscriptionFailed,\n  RoomEvent.TrackSubscriptionPermissionChanged,\n  RoomEvent.TrackSubscriptionStatusChanged,\n];\n\nexport const allParticipantRoomEvents = [\n  ...allRemoteParticipantRoomEvents,\n  RoomEvent.LocalTrackPublished,\n  RoomEvent.LocalTrackUnpublished,\n];\n\nexport const allRemoteParticipantEvents = [\n  ParticipantEvent.ConnectionQualityChanged,\n  ParticipantEvent.IsSpeakingChanged,\n  ParticipantEvent.ParticipantMetadataChanged,\n  ParticipantEvent.ParticipantPermissionsChanged,\n\n  ParticipantEvent.TrackMuted,\n  ParticipantEvent.TrackUnmuted,\n  ParticipantEvent.TrackPublished,\n  ParticipantEvent.TrackUnpublished,\n  ParticipantEvent.TrackStreamStateChanged,\n  ParticipantEvent.TrackSubscriptionFailed,\n  ParticipantEvent.TrackSubscriptionPermissionChanged,\n  ParticipantEvent.TrackSubscriptionStatusChanged,\n];\n\nexport const allParticipantEvents = [\n  ...allRemoteParticipantEvents,\n  ParticipantEvent.LocalTrackPublished,\n  ParticipantEvent.LocalTrackUnpublished,\n];\n","import { setLogLevel as setClientSdkLogLevel } from 'livekit-client';\nimport loglevel from 'loglevel';\n\nexport const log = loglevel.getLogger('lk-components-js');\nlog.setDefaultLevel('WARN');\n\ntype LogLevel = Parameters<typeof setClientSdkLogLevel>[0];\ntype SetLogLevelOptions = {\n  liveKitClientLogLevel?: LogLevel;\n};\n\n/**\n * Set the log level for both the `@livekit/components-react` package and the `@livekit-client` package.\n * To set the `@livekit-client` log independently, use the `liveKitClientLogLevel` prop on the `options` object.\n * @public\n */\nexport function setLogLevel(level: LogLevel, options: SetLogLevelOptions = {}): void {\n  log.setLevel(level);\n  setClientSdkLogLevel(options.liveKitClientLogLevel ?? level);\n}\n","import { log } from '../logger';\n\nexport type GridLayoutDefinition = {\n  /** Layout name (convention `<column_count>x<row_count>`). */\n  name: string;\n  /** Column count of the layout. */\n  columns: number;\n  /** Row count of the layout. */\n  rows: number;\n  // # Constraints that have to be meet to use this layout.\n  // ## 1. Participant range:\n  /** Minimum number of tiles needed to use this layout. */\n  minTiles: number;\n  /** Maximum tiles that fit into this layout. */\n  maxTiles: number;\n  // ## 2. Screen size limits:\n  /** Minimum width required to use this layout. */\n  minWidth: number;\n  /** Minimum height required to use this layout. */\n  minHeight: number;\n};\n\nexport const GRID_LAYOUTS: GridLayoutDefinition[] = [\n  {\n    columns: 1,\n    rows: 1,\n    name: '1x1',\n    minTiles: 1,\n    maxTiles: 1,\n    minWidth: 0,\n    minHeight: 0,\n  },\n  {\n    columns: 1,\n    rows: 2,\n    name: '1x2',\n    minTiles: 2,\n    maxTiles: 2,\n    minWidth: 0,\n    minHeight: 0,\n  },\n  {\n    columns: 2,\n    rows: 1,\n    name: '2x1',\n    minTiles: 2,\n    maxTiles: 2,\n    minWidth: 900,\n    minHeight: 0,\n  },\n  {\n    columns: 2,\n    rows: 2,\n    name: '2x2',\n    minTiles: 3,\n    maxTiles: 4,\n    minWidth: 560,\n    minHeight: 0,\n  },\n  {\n    columns: 3,\n    rows: 3,\n    name: '3x3',\n    minTiles: 5,\n    maxTiles: 9,\n    minWidth: 700,\n    minHeight: 0,\n  },\n  {\n    columns: 4,\n    rows: 4,\n    name: '4x4',\n    minTiles: 10,\n    maxTiles: 16,\n    minWidth: 960,\n    minHeight: 0,\n  },\n  {\n    columns: 5,\n    rows: 5,\n    name: '5x5',\n    minTiles: 17,\n    maxTiles: 25,\n    minWidth: 1100,\n    minHeight: 0,\n  },\n];\n\nexport function selectGridLayout(\n  layouts: GridLayoutDefinition[],\n  participantCount: number,\n  width: number,\n  height: number,\n): GridLayoutDefinition {\n  // Find the best layout to fit all participants.\n  let currentLayoutIndex = 0;\n  let layout = layouts.find((layout_, index, allLayouts) => {\n    currentLayoutIndex = index;\n    const isBiggerLayoutAvailable =\n      allLayouts.findIndex((l, i) => {\n        const layoutIsBiggerThanCurrent = i > index;\n        const layoutFitsSameAmountOfParticipants = l.maxTiles === layout_.maxTiles;\n        return layoutIsBiggerThanCurrent && layoutFitsSameAmountOfParticipants;\n      }) !== -1;\n    return layout_.maxTiles >= participantCount && !isBiggerLayoutAvailable;\n  });\n  if (layout === undefined) {\n    layout = layouts[layouts.length - 1];\n    if (layout) {\n      log.warn(\n        `No layout found for: participantCount: ${participantCount}, width/height: ${width}/${height} fallback to biggest available layout (${layout.name}).`,\n      );\n    } else {\n      throw new Error(`No layout or fallback layout found.`);\n    }\n  }\n\n  // Check if the layout fits into the screen constraints. If not, recursively check the next smaller layout.\n  if (width < layout.minWidth || height < layout.minHeight) {\n    // const currentLayoutIndex = layouts.indexOf(layout);\n    if (currentLayoutIndex > 0) {\n      const smallerLayout = layouts[currentLayoutIndex - 1];\n      layout = selectGridLayout(\n        layouts.slice(0, currentLayoutIndex),\n        smallerLayout.maxTiles,\n        width,\n        height,\n      );\n    }\n  }\n  return layout;\n}\n","import type { Participant, Track, TrackPublication } from 'livekit-client';\nimport type { TrackReference, TrackReferenceOrPlaceholder } from './track-reference';\n\n// ## PinState Type\nexport type PinState = TrackReferenceOrPlaceholder[];\nexport const PIN_DEFAULT_STATE: PinState = [];\n\n// ## WidgetState Types\nexport type WidgetState = {\n  showChat: boolean;\n  unreadMessages: number;\n};\nexport const WIDGET_DEFAULT_STATE: WidgetState = { showChat: false, unreadMessages: 0 };\n\n// ## Track Source Types\nexport type TrackSourceWithOptions = { source: Track.Source; withPlaceholder: boolean };\n\nexport type SourcesArray = Track.Source[] | TrackSourceWithOptions[];\n\n// ### Track Source Type Predicates\nexport function isSourceWitOptions(source: SourcesArray[number]): source is TrackSourceWithOptions {\n  return typeof source === 'object';\n}\n\nexport function isSourcesWithOptions(sources: SourcesArray): sources is TrackSourceWithOptions[] {\n  return (\n    Array.isArray(sources) &&\n    (sources as TrackSourceWithOptions[]).filter(isSourceWitOptions).length > 0\n  );\n}\n\n// ## Loop Filter Types\nexport type TrackReferenceFilter = Parameters<TrackReferenceOrPlaceholder[]['filter']>['0'];\nexport type ParticipantFilter = Parameters<Participant[]['filter']>['0'];\n\n// ## Other Types\nexport interface ParticipantClickEvent {\n  participant: Participant;\n  track?: TrackPublication;\n}\n\nexport type TrackSource<T extends Track.Source> = RequireAtLeastOne<\n  { source: T; name: string; participant: Participant },\n  'name' | 'source'\n>;\n\n/**\n * The TrackIdentifier type is used to select Tracks either based on\n * - Track.Source and/or name of the track, e.g. `{source: Track.Source.Camera}` or `{name: \"my-track\"}`\n * - TrackReference (participant and publication)\n */\nexport type TrackIdentifier<T extends Track.Source = Track.Source> =\n  | TrackSource<T>\n  | TrackReference;\n\n// ## Util Types\ntype RequireAtLeastOne<T, Keys extends keyof T = keyof T> = Pick<T, Exclude<keyof T, Keys>> &\n  {\n    [K in Keys]-?: Required<Pick<T, K>> & Partial<Pick<T, Exclude<Keys, K>>>;\n  }[Keys];\n\nexport type RequireOnlyOne<T, Keys extends keyof T = keyof T> = Pick<T, Exclude<keyof T, Keys>> &\n  {\n    [K in Keys]-?: Required<Pick<T, K>> & Partial<Record<Exclude<Keys, K>, undefined>>;\n  }[Keys];\n\nexport type AudioSource = Track.Source.Microphone | Track.Source.ScreenShareAudio;\nexport type VideoSource = Track.Source.Camera | Track.Source.ScreenShare;\n","/**\n * The TrackReference type is a logical grouping of participant publication and/or subscribed track.\n *\n */\n\nimport type { Participant, Track, TrackPublication } from 'livekit-client';\n// ## TrackReference Types\n\nexport type TrackReferencePlaceholder = {\n  participant: Participant;\n  publication?: never;\n  source: Track.Source;\n};\n\nexport type TrackReference = {\n  participant: Participant;\n  publication: TrackPublication;\n  source: Track.Source;\n};\n\nexport type TrackReferenceOrPlaceholder = TrackReference | TrackReferencePlaceholder;\n\n// ### TrackReference Type Predicates\nexport function isTrackReference(trackReference: unknown): trackReference is TrackReference {\n  if (typeof trackReference === 'undefined') {\n    return false;\n  }\n  return (\n    isTrackReferenceSubscribed(trackReference as TrackReference) ||\n    isTrackReferencePublished(trackReference as TrackReference)\n  );\n}\n\nfunction isTrackReferenceSubscribed(trackReference?: TrackReferenceOrPlaceholder): boolean {\n  if (!trackReference) {\n    return false;\n  }\n  return (\n    trackReference.hasOwnProperty('participant') &&\n    trackReference.hasOwnProperty('source') &&\n    trackReference.hasOwnProperty('track') &&\n    typeof trackReference.publication?.track !== 'undefined'\n  );\n}\n\nfunction isTrackReferencePublished(trackReference?: TrackReferenceOrPlaceholder): boolean {\n  if (!trackReference) {\n    return false;\n  }\n  return (\n    trackReference.hasOwnProperty('participant') &&\n    trackReference.hasOwnProperty('source') &&\n    trackReference.hasOwnProperty('publication') &&\n    typeof trackReference.publication !== 'undefined'\n  );\n}\n\nexport function isTrackReferencePlaceholder(\n  trackReference?: TrackReferenceOrPlaceholder,\n): trackReference is TrackReferencePlaceholder {\n  if (!trackReference) {\n    return false;\n  }\n  return (\n    trackReference.hasOwnProperty('participant') &&\n    trackReference.hasOwnProperty('source') &&\n    typeof trackReference.publication === 'undefined'\n  );\n}\n","import type { Track } from 'livekit-client';\nimport type { PinState } from '../types';\nimport type { TrackReferenceOrPlaceholder } from './track-reference.types';\nimport { isTrackReference, isTrackReferencePlaceholder } from './track-reference.types';\n\n/** Returns a id to identify the `TrackReference` based on participant and source. */\nexport function getTrackReferenceId(trackReference: TrackReferenceOrPlaceholder | number): string {\n  if (typeof trackReference === 'string' || typeof trackReference === 'number') {\n    return `${trackReference}`;\n  } else if (isTrackReference(trackReference)) {\n    return `${trackReference.participant.identity}_${trackReference.publication.source}`;\n  } else {\n    return `${trackReference.participant.identity}_${trackReference.source}`;\n  }\n}\n\n/** Returns the Source of the TrackReference. */\nexport function getTrackReferenceSource(trackReference: TrackReferenceOrPlaceholder): Track.Source {\n  if (isTrackReference(trackReference)) {\n    return trackReference.publication.source;\n  } else {\n    return trackReference.source;\n  }\n}\n\nexport function isEqualTrackRef(\n  a?: TrackReferenceOrPlaceholder,\n  b?: TrackReferenceOrPlaceholder,\n): boolean {\n  if (isTrackReference(a) && isTrackReference(b)) {\n    return a.publication.trackSid === b.publication.trackSid;\n  } else if (isTrackReferencePlaceholder(a) && isTrackReferencePlaceholder(b)) {\n    return a.participant.identity === b.participant.identity && a.source === b.source;\n  }\n  return false;\n}\n\n/**\n * Check if the `TrackReference` is pinned.\n */\nexport function isTrackReferencePinned(\n  trackReference: TrackReferenceOrPlaceholder,\n  pinState: PinState | undefined,\n): boolean {\n  if (typeof pinState === 'undefined') {\n    return false;\n  }\n  if (isTrackReference(trackReference)) {\n    return pinState.some(\n      (pinnedTrackReference) =>\n        pinnedTrackReference.participant.identity === trackReference.participant.identity &&\n        isTrackReference(pinnedTrackReference) &&\n        pinnedTrackReference.publication.trackSid === trackReference.publication.trackSid,\n    );\n  } else if (isTrackReferencePlaceholder(trackReference)) {\n    return pinState.some(\n      (pinnedTrackReference) =>\n        pinnedTrackReference.participant.identity === trackReference.participant.identity &&\n        isTrackReferencePlaceholder(pinnedTrackReference) &&\n        pinnedTrackReference.source === trackReference.source,\n    );\n  } else {\n    return false;\n  }\n}\n","import type { Participant } from 'livekit-client';\nimport { Track } from 'livekit-client';\nimport type { TrackReferenceOrPlaceholder } from '../track-reference';\nimport { getTrackReferenceSource, isTrackReference } from '../track-reference';\n\nexport function sortParticipantsByAudioLevel(\n  a: Pick<Participant, 'audioLevel'>,\n  b: Pick<Participant, 'audioLevel'>,\n): number {\n  return b.audioLevel - a.audioLevel;\n}\n\nexport function sortParticipantsByIsSpeaking(\n  a: Pick<Participant, 'isSpeaking'>,\n  b: Pick<Participant, 'isSpeaking'>,\n): number {\n  if (a.isSpeaking === b.isSpeaking) {\n    return 0;\n  } else {\n    return a.isSpeaking ? -1 : 1;\n  }\n}\n\nexport function sortParticipantsByLastSpokenAT(\n  a: Pick<Participant, 'lastSpokeAt'>,\n  b: Pick<Participant, 'lastSpokeAt'>,\n): number {\n  if (a.lastSpokeAt !== undefined || b.lastSpokeAt !== undefined) {\n    return (b.lastSpokeAt?.getTime() ?? 0) - (a.lastSpokeAt?.getTime() ?? 0);\n  } else {\n    return 0;\n  }\n}\n\nexport function sortParticipantsByJoinedAt(\n  a: Pick<Participant, 'joinedAt'>,\n  b: Pick<Participant, 'joinedAt'>,\n) {\n  return (a.joinedAt?.getTime() ?? 0) - (b.joinedAt?.getTime() ?? 0);\n}\n\nexport function sortTrackReferencesByType(\n  a: TrackReferenceOrPlaceholder,\n  b: TrackReferenceOrPlaceholder,\n) {\n  if (isTrackReference(a)) {\n    if (isTrackReference(b)) {\n      return 0;\n    } else {\n      return -1;\n    }\n  } else if (isTrackReference(b)) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\n/** TrackReference with screen share source goes first. */\nexport function sortTrackReferencesByScreenShare(\n  a: TrackReferenceOrPlaceholder,\n  b: TrackReferenceOrPlaceholder,\n): number {\n  const sourceA = getTrackReferenceSource(a);\n  const sourceB = getTrackReferenceSource(b);\n\n  if (sourceA === sourceB) {\n    if (sourceA === Track.Source.ScreenShare) {\n      if (a.participant.isLocal === b.participant.isLocal) {\n        return 0;\n      } else {\n        return a.participant.isLocal ? 1 : -1;\n      }\n    }\n    return 0;\n  } else if (sourceA === Track.Source.ScreenShare) {\n    return -1;\n  } else if (sourceB === Track.Source.ScreenShare) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n\nexport function sortTrackRefsByIsCameraEnabled(\n  a: { participant: { isCameraEnabled: boolean } },\n  b: { participant: { isCameraEnabled: boolean } },\n) {\n  const aVideo = a.participant.isCameraEnabled;\n  const bVideo = b.participant.isCameraEnabled;\n\n  if (aVideo !== bVideo) {\n    if (aVideo) {\n      return -1;\n    } else {\n      return 1;\n    }\n  } else {\n    return 0;\n  }\n}\n","import { Track } from 'livekit-client';\nimport type { TrackReferenceOrPlaceholder } from '../track-reference';\nimport { isTrackReference } from '../track-reference';\nimport {\n  sortParticipantsByAudioLevel,\n  sortParticipantsByIsSpeaking,\n  sortParticipantsByJoinedAt,\n  sortParticipantsByLastSpokenAT,\n  sortTrackReferencesByType,\n  sortTrackRefsByIsCameraEnabled,\n} from './base-sort-functions';\n\n/**\n * Default sort for `TrackReferenceOrPlaceholder`, it'll order participants by:\n * 1. local camera track (publication.isLocal)\n * 2. remote screen_share track\n * 3. local screen_share track\n * 4. remote dominant speaker camera track (sorted by speaker with the loudest audio level)\n * 5. other remote speakers that are recently active\n * 6. remote unmuted camera tracks\n * 7. remote tracks sorted by joinedAt\n */\nexport function sortTrackReferences(\n  tracks: TrackReferenceOrPlaceholder[],\n): TrackReferenceOrPlaceholder[] {\n  const localTracks: TrackReferenceOrPlaceholder[] = [];\n  const screenShareTracks: TrackReferenceOrPlaceholder[] = [];\n  const cameraTracks: TrackReferenceOrPlaceholder[] = [];\n  const undefinedTracks: TrackReferenceOrPlaceholder[] = [];\n\n  tracks.forEach((trackRef) => {\n    if (trackRef.participant.isLocal && trackRef.source === Track.Source.Camera) {\n      localTracks.push(trackRef);\n    } else if (trackRef.source === Track.Source.ScreenShare) {\n      screenShareTracks.push(trackRef);\n    } else if (trackRef.source === Track.Source.Camera) {\n      cameraTracks.push(trackRef);\n    } else {\n      undefinedTracks.push(trackRef);\n    }\n  });\n\n  const sortedScreenShareTracks = sortScreenShareTracks(screenShareTracks);\n  const sortedCameraTracks = sortCameraTracks(cameraTracks);\n\n  return [...localTracks, ...sortedScreenShareTracks, ...sortedCameraTracks, ...undefinedTracks];\n}\n\n/**\n * Sort an array of `TrackReference` screen shares.\n * Main sorting order:\n * 1. remote screen shares\n * 2. local screen shares\n * Secondary sorting by participant's joining time.\n */\nfunction sortScreenShareTracks(\n  screenShareTracks: TrackReferenceOrPlaceholder[],\n): TrackReferenceOrPlaceholder[] {\n  const localScreenShares: TrackReferenceOrPlaceholder[] = [];\n  const remoteScreenShares: TrackReferenceOrPlaceholder[] = [];\n\n  screenShareTracks.forEach((trackRef) => {\n    if (trackRef.participant.isLocal) {\n      localScreenShares.push(trackRef);\n    } else {\n      remoteScreenShares.push(trackRef);\n    }\n  });\n\n  localScreenShares.sort((a, b) => sortParticipantsByJoinedAt(a.participant, b.participant));\n  remoteScreenShares.sort((a, b) => sortParticipantsByJoinedAt(a.participant, b.participant));\n\n  const sortedScreenShareTrackRefs = [...remoteScreenShares, ...localScreenShares];\n  return sortedScreenShareTrackRefs;\n}\n\nfunction sortCameraTracks(\n  cameraTrackReferences: TrackReferenceOrPlaceholder[],\n): TrackReferenceOrPlaceholder[] {\n  const localCameraTracks: TrackReferenceOrPlaceholder[] = [];\n  const remoteCameraTracks: TrackReferenceOrPlaceholder[] = [];\n\n  cameraTrackReferences.forEach((trackRef) => {\n    if (trackRef.participant.isLocal) {\n      localCameraTracks.push(trackRef);\n    } else {\n      remoteCameraTracks.push(trackRef);\n    }\n  });\n\n  remoteCameraTracks.sort((a, b) => {\n    // Participant with higher audio level goes first.\n    if (a.participant.isSpeaking && b.participant.isSpeaking) {\n      return sortParticipantsByAudioLevel(a.participant, b.participant);\n    }\n\n    // A speaking participant goes before one that is not speaking.\n    if (a.participant.isSpeaking !== b.participant.isSpeaking) {\n      return sortParticipantsByIsSpeaking(a.participant, b.participant);\n    }\n\n    // A participant that spoke recently goes before a participant that spoke a while back.\n    if (a.participant.lastSpokeAt !== b.participant.lastSpokeAt) {\n      return sortParticipantsByLastSpokenAT(a.participant, b.participant);\n    }\n\n    // TrackReference before TrackReferencePlaceholder\n    if (isTrackReference(a) !== isTrackReference(b)) {\n      return sortTrackReferencesByType(a, b);\n    }\n\n    // Tiles with video on before tiles with muted video track.\n    if (a.participant.isCameraEnabled !== b.participant.isCameraEnabled) {\n      return sortTrackRefsByIsCameraEnabled(a, b);\n    }\n\n    // A participant that joined a long time ago goes before one that joined recently.\n    return sortParticipantsByJoinedAt(a.participant, b.participant);\n  });\n\n  return [...localCameraTracks, ...remoteCameraTracks];\n}\n","export function chunk<T>(input: Array<T>, size: number) {\n  return input.reduce((arr, item, idx) => {\n    return idx % size === 0 ? [...arr, [item]] : [...arr.slice(0, -1), [...arr.slice(-1)[0], item]];\n  }, [] as Array<Array<T>>);\n}\n\nexport function zip<T, U>(a1: Array<T>, a2: Array<U>) {\n  const resultLength = Math.max(a1.length, a2.length);\n  return new Array(resultLength).fill([]).map((_val, idx) => [a1[idx], a2[idx]]);\n}\n\nexport function differenceBy<T>(a1: Array<T>, a2: Array<T>, by: (arg: T) => string) {\n  return a1.filter((c) => !a2.map((v) => by(v)).includes(by(c)));\n}\n","/**\n * Internal test function.\n *\n * @internal\n */\n\nimport { Participant, Track, TrackPublication } from 'livekit-client';\nimport type { UpdatableItem } from '../sorting/tile-array-update';\nimport type { TrackReference, TrackReferencePlaceholder } from './track-reference.types';\nimport { getTrackReferenceId } from './track-reference.utils';\n\n// Test function:\nexport const mockTrackReferencePlaceholder = (\n  id: string,\n  source: Track.Source,\n): TrackReferencePlaceholder => {\n  return { participant: new Participant(`${id}`, `${id}`), source };\n};\n\nexport const mockTrackReferencePublished = (id: string, source: Track.Source): TrackReference => {\n  const kind = [Track.Source.Camera, Track.Source.ScreenShare].includes(source)\n    ? Track.Kind.Video\n    : Track.Kind.Audio;\n  return {\n    participant: new Participant(`${id}`, `${id}`),\n    publication: new TrackPublication(kind, `${id}`, `${id}`),\n    source: source,\n  };\n};\n\ntype mockTrackReferenceSubscribedOptions = {\n  mockPublication?: boolean;\n  mockParticipant?: boolean;\n  mockIsLocal?: boolean;\n};\n\nexport const mockTrackReferenceSubscribed = (\n  id: string,\n  source: Track.Source,\n  options: mockTrackReferenceSubscribedOptions = {},\n): TrackReference => {\n  const kind = [Track.Source.Camera, Track.Source.ScreenShare].includes(source)\n    ? Track.Kind.Video\n    : Track.Kind.Audio;\n\n  const publication = new TrackPublication(kind, `${id}`, `${id}`);\n  // @ts-expect-error\n  publication.track = {};\n  return {\n    participant: options.mockParticipant\n      ? (mockParticipant(id, options.mockIsLocal ?? false) as Participant)\n      : new Participant(`${id}`, `${id}`),\n    publication: options.mockPublication\n      ? (mockTrackPublication(id, kind, source) as TrackPublication)\n      : publication,\n    source,\n  };\n};\n\nconst mockTrackPublication = (\n  id: string,\n  kind: Track.Kind,\n  source: Track.Source,\n): Pick<TrackPublication, 'kind' | 'trackSid' | 'trackName' | 'source'> => {\n  return {\n    kind,\n    trackSid: id,\n    trackName: `name_${id}`,\n    source: source,\n  };\n};\n\nfunction mockParticipant(\n  id: string,\n  isLocal: boolean,\n): Pick<Participant, 'sid' | 'identity' | 'isLocal'> {\n  return {\n    sid: `${id}_sid`,\n    identity: `${id}`,\n    isLocal: isLocal,\n  };\n}\n\nexport function flatTrackReferenceArray<T extends UpdatableItem>(list: T[]): string[] {\n  return list.map((item) => {\n    if (typeof item === 'string' || typeof item === 'number') {\n      return `${item}`;\n    } else {\n      return getTrackReferenceId(item);\n    }\n  });\n}\n","import { differenceBy, chunk, zip } from '../helper/array-helper';\nimport { log } from '../logger';\nimport type { TrackReferenceOrPlaceholder } from '../track-reference';\nimport { getTrackReferenceId } from '../track-reference';\nimport { flatTrackReferenceArray } from '../track-reference/test-utils';\n\ntype VisualChanges<T> = {\n  dropped: T[];\n  added: T[];\n};\n\nexport type UpdatableItem = TrackReferenceOrPlaceholder | number;\n\n/** Check to see if anything visually changes on the page. */\nexport function visualPageChange<T extends UpdatableItem>(state: T[], next: T[]): VisualChanges<T> {\n  return {\n    dropped: differenceBy(state, next, getTrackReferenceId),\n    added: differenceBy(next, state, getTrackReferenceId),\n  };\n}\n\nfunction listNeedsUpdating<T>(changes: VisualChanges<T>): boolean {\n  return changes.added.length !== 0 || changes.dropped.length !== 0;\n}\n\nexport function findIndex<T extends UpdatableItem>(\n  trackReference: T,\n  trackReferences: T[],\n): number {\n  const indexToReplace = trackReferences.findIndex(\n    (trackReference_) =>\n      getTrackReferenceId(trackReference_) === getTrackReferenceId(trackReference),\n  );\n  if (indexToReplace === -1) {\n    throw new Error(\n      `Element not part of the array: ${getTrackReferenceId(\n        trackReference,\n      )} not in ${flatTrackReferenceArray(trackReferences)}`,\n    );\n  }\n  return indexToReplace;\n}\n\n/** Swap items in the complete list of all elements */\nexport function swapItems<T extends UpdatableItem>(\n  moveForward: T,\n  moveBack: T,\n  trackReferences: T[],\n): T[] {\n  const indexToReplace = findIndex(moveForward, trackReferences);\n  const indexReplaceWith = findIndex(moveBack, trackReferences);\n\n  trackReferences.splice(indexToReplace, 1, moveBack);\n  trackReferences.splice(indexReplaceWith, 1, moveForward);\n\n  return trackReferences;\n}\n\nexport function dropItem<T extends UpdatableItem>(itemToDrop: T, list: T[]): T[] {\n  const indexOfElementToDrop = findIndex(itemToDrop, list);\n  // const indexOfElementToDrop = list.findIndex((item) => item === itemToDrop, list);\n  list.splice(indexOfElementToDrop, 1);\n  return list;\n}\n\nfunction addItem<T extends UpdatableItem>(itemToAdd: T, list: T[]): T[] {\n  return [...list, itemToAdd];\n}\n\nexport function divideIntoPages<T>(list: T[], maxElementsOnPage: number): Array<T[]> {\n  const pages = chunk(list, maxElementsOnPage);\n  return pages;\n}\n\n/** Divide the list of elements into pages and and check if pages need updating. */\nexport function updatePages<T extends UpdatableItem>(\n  currentList: T[],\n  nextList: T[],\n  maxItemsOnPage: number,\n): T[] {\n  let updatedList: T[] = refreshList(currentList, nextList);\n\n  if (currentList.length < nextList.length) {\n    // Items got added: Find newly added items and add them to the end of the list.\n    const addedItems = differenceBy(nextList, currentList, getTrackReferenceId);\n    updatedList = [...updatedList, ...addedItems];\n  }\n  const currentPages = divideIntoPages(currentList, maxItemsOnPage);\n  const nextPages = divideIntoPages(nextList, maxItemsOnPage);\n\n  zip(currentPages, nextPages).forEach(([currentPage, nextPage], pageIndex) => {\n    if (currentPage && nextPage) {\n      // 1) Identify  missing tile.\n      const updatedPage = divideIntoPages(updatedList, maxItemsOnPage)[pageIndex];\n      const changes = visualPageChange(updatedPage, nextPage);\n\n      if (listNeedsUpdating(changes)) {\n        log.debug(\n          `Detected visual changes on page: ${pageIndex}, current: ${flatTrackReferenceArray(\n            currentPage,\n          )}, next: ${flatTrackReferenceArray(nextPage)}`,\n          { changes },\n        );\n        // ## Swap Items\n        if (changes.added.length === changes.dropped.length) {\n          zip(changes.added, changes.dropped).forEach(([added, dropped]) => {\n            if (added && dropped) {\n              updatedList = swapItems<T>(added, dropped, updatedList);\n            } else {\n              throw new Error(\n                `For a swap action we need a addition and a removal one is missing: ${added}, ${dropped}`,\n              );\n            }\n          });\n        }\n        // ## Handle Drop Items\n        if (changes.added.length === 0 && changes.dropped.length > 0) {\n          changes.dropped.forEach((item) => {\n            updatedList = dropItem<T>(item, updatedList);\n          });\n        }\n        // ## Handle Item added\n        if (changes.added.length > 0 && changes.dropped.length === 0) {\n          changes.added.forEach((item) => {\n            updatedList = addItem<T>(item, updatedList);\n          });\n        }\n      }\n    }\n  });\n\n  if (updatedList.length > nextList.length) {\n    // Items got removed: Find items that got completely removed from the list.\n    const missingItems = differenceBy(currentList, nextList, getTrackReferenceId);\n    updatedList = updatedList.filter(\n      (item) => !missingItems.map(getTrackReferenceId).includes(getTrackReferenceId(item)),\n    );\n  }\n\n  return updatedList;\n}\n\n/**\n * Update the first list with the items from the second list whenever the ids are the same.\n * @remarks\n * This is needed because `TrackReference`s can change their internal state while keeping the same id.\n */\nfunction refreshList<T extends UpdatableItem>(currentList: T[], nextList: T[]): T[] {\n  return currentList.map((currentItem) => {\n    const updateForCurrentItem = nextList.find(\n      (newItem_) => getTrackReferenceId(currentItem) === getTrackReferenceId(newItem_),\n    );\n    if (updateForCurrentItem) {\n      return updateForCurrentItem;\n    } else {\n      return currentItem;\n    }\n  });\n}\n","import type { Subscriber, Subscription } from 'rxjs';\nimport { Subject, map, Observable, startWith, finalize, filter, concat } from 'rxjs';\nimport type { Participant, TrackPublication } from 'livekit-client';\nimport { Room, RoomEvent, Track } from 'livekit-client';\nimport type { RoomEventCallbacks } from 'livekit-client/dist/src/room/Room';\nimport { log } from '../logger';\nexport function observeRoomEvents(room: Room, ...events: RoomEvent[]): Observable<Room> {\n  const observable = new Observable<Room>((subscribe) => {\n    const onRoomUpdate = () => {\n      subscribe.next(room);\n    };\n\n    events.forEach((evt) => {\n      room.on(evt, onRoomUpdate);\n    });\n\n    const unsubscribe = () => {\n      events.forEach((evt) => {\n        room.off(evt, onRoomUpdate);\n      });\n    };\n    return unsubscribe;\n  }).pipe(startWith(room));\n\n  return observable;\n}\n\nexport function roomEventSelector<T extends RoomEvent>(room: Room, event: T) {\n  const observable = new Observable<Parameters<RoomEventCallbacks[T]>>((subscribe) => {\n    const update = (...params: Parameters<RoomEventCallbacks[T]>) => {\n      subscribe.next(params);\n    };\n    room.on(event as keyof RoomEventCallbacks, update);\n\n    const unsubscribe = () => {\n      room.off(event as keyof RoomEventCallbacks, update);\n    };\n    return unsubscribe;\n  });\n\n  return observable;\n}\n\nexport function roomObserver(room: Room) {\n  const observable = observeRoomEvents(\n    room,\n    RoomEvent.ParticipantConnected,\n    RoomEvent.ParticipantDisconnected,\n    RoomEvent.ActiveSpeakersChanged,\n    RoomEvent.TrackSubscribed,\n    RoomEvent.TrackUnsubscribed,\n    RoomEvent.LocalTrackPublished,\n    RoomEvent.LocalTrackUnpublished,\n    RoomEvent.AudioPlaybackStatusChanged,\n    RoomEvent.ConnectionStateChanged,\n  ).pipe(startWith(room));\n\n  return observable;\n}\n\nexport function connectionStateObserver(room: Room) {\n  return roomEventSelector(room, RoomEvent.ConnectionStateChanged).pipe(\n    map(([connectionState]) => connectionState),\n    startWith(room.state),\n  );\n}\nexport type ScreenShareTrackMap = Array<{\n  participant: Participant;\n  tracks: Array<TrackPublication>;\n}>;\n\nexport function screenShareObserver(room: Room) {\n  let screenShareSubscriber: Subscriber<ScreenShareTrackMap>;\n  const observers: Array<Subscription> = [];\n\n  const observable = new Observable<ScreenShareTrackMap>((subscriber) => {\n    screenShareSubscriber = subscriber;\n    return () => {\n      observers.forEach((observer) => {\n        observer.unsubscribe();\n      });\n    };\n  });\n  const screenShareTracks: ScreenShareTrackMap = [];\n\n  const handleSub = (publication: TrackPublication, participant: Participant) => {\n    if (\n      publication.source !== Track.Source.ScreenShare &&\n      publication.source !== Track.Source.ScreenShareAudio\n    ) {\n      return;\n    }\n    let trackMap = screenShareTracks.find((tr) => tr.participant.identity === participant.identity);\n    const getScreenShareTracks = (participant: Participant) => {\n      return participant\n        .getTracks()\n        .filter(\n          (track) =>\n            (track.source === Track.Source.ScreenShare ||\n              track.source === Track.Source.ScreenShareAudio) &&\n            track.track,\n        );\n    };\n    if (!trackMap) {\n      trackMap = {\n        participant,\n        tracks: getScreenShareTracks(participant),\n      };\n    } else {\n      const index = screenShareTracks.indexOf(trackMap);\n      screenShareTracks.splice(index, 1);\n      trackMap.tracks = getScreenShareTracks(participant);\n    }\n    if (trackMap.tracks.length > 0) {\n      screenShareTracks.push(trackMap);\n    }\n\n    screenShareSubscriber.next(screenShareTracks);\n  };\n  observers.push(\n    roomEventSelector(room, RoomEvent.TrackSubscribed).subscribe(([, ...args]) =>\n      handleSub(...args),\n    ),\n  );\n  observers.push(\n    roomEventSelector(room, RoomEvent.TrackUnsubscribed).subscribe(([, ...args]) =>\n      handleSub(...args),\n    ),\n  );\n  observers.push(\n    roomEventSelector(room, RoomEvent.LocalTrackPublished).subscribe((args) => handleSub(...args)),\n  );\n  observers.push(\n    roomEventSelector(room, RoomEvent.LocalTrackUnpublished).subscribe((args) => {\n      handleSub(...args);\n    }),\n  );\n  observers.push(\n    roomEventSelector(room, RoomEvent.TrackMuted).subscribe((args) => {\n      handleSub(...args);\n    }),\n  );\n  observers.push(\n    roomEventSelector(room, RoomEvent.TrackUnmuted).subscribe((args) => {\n      handleSub(...args);\n    }),\n  );\n  setTimeout(() => {\n    // TODO find way to avoid this timeout\n    for (const p of room.participants.values()) {\n      p.getTracks().forEach((track) => {\n        handleSub(track, p);\n      });\n    }\n  }, 1);\n\n  return observable;\n}\n\nexport function roomInfoObserver(room: Room) {\n  const observer = observeRoomEvents(\n    room,\n    RoomEvent.RoomMetadataChanged,\n    RoomEvent.ConnectionStateChanged,\n  ).pipe(\n    map((r) => {\n      return { name: r.name, metadata: r.metadata };\n    }),\n  );\n  return observer;\n}\n\nexport function activeSpeakerObserver(room: Room) {\n  return roomEventSelector(room, RoomEvent.ActiveSpeakersChanged).pipe(\n    map(([speakers]) => speakers),\n  );\n}\n\nexport function createMediaDeviceObserver(kind?: MediaDeviceKind, requestPermissions = true) {\n  const onDeviceChange = async () => {\n    const newDevices = await Room.getLocalDevices(kind, requestPermissions);\n    deviceSubject.next(newDevices);\n  };\n  const deviceSubject = new Subject<MediaDeviceInfo[]>();\n\n  const observable = deviceSubject.pipe(\n    finalize(() => {\n      navigator?.mediaDevices?.removeEventListener('devicechange', onDeviceChange);\n    }),\n  );\n\n  if (typeof window !== 'undefined') {\n    if (!window.isSecureContext) {\n      throw new Error(\n        `Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices`,\n      );\n    }\n    navigator?.mediaDevices?.addEventListener('devicechange', onDeviceChange);\n  }\n  // because we rely on an async function, concat the promise to retrieve the initial values with the observable\n  return concat(Room.getLocalDevices(kind, requestPermissions), observable);\n}\n\nexport function createDataObserver(room: Room) {\n  return roomEventSelector(room, RoomEvent.DataReceived);\n}\n\nexport function roomAudioPlaybackAllowedObservable(room: Room) {\n  const observable = observeRoomEvents(room, RoomEvent.AudioPlaybackStatusChanged).pipe(\n    map((room) => {\n      return { canPlayAudio: room.canPlaybackAudio };\n    }),\n  );\n  return observable;\n}\n\nexport function createActiveDeviceObservable(room: Room, kind: MediaDeviceKind) {\n  return roomEventSelector(room, RoomEvent.ActiveDeviceChanged).pipe(\n    filter(([kindOfDevice]) => kindOfDevice === kind),\n    map(([kind, deviceId]) => {\n      log.debug('activeDeviceObservable | RoomEvent.ActiveDeviceChanged', { kind, deviceId });\n      return deviceId;\n    }),\n    startWith(room.getActiveDevice(kind)),\n  );\n}\n","import { operate } from '../util/lift';\nexport function finalize(callback) {\n    return operate(function (source, subscriber) {\n        try {\n            source.subscribe(subscriber);\n        }\n        finally {\n            subscriber.add(callback);\n        }\n    });\n}\n//# sourceMappingURL=finalize.js.map","import type { ClassNames as ComponentClasses } from '@livekit/components-styles/dist/types/general/index.css';\nimport type { ClassNames as PrefabClasses } from '@livekit/components-styles/dist/types/general/prefabs/index.css';\nimport type { UnprefixedClassNames as ComponentNoPrefixClasses } from '@livekit/components-styles/dist/types_unprefixed/index.scss';\nimport type { UnprefixedClassNames as PrefabNoPrefixClasses } from '@livekit/components-styles/dist/types_unprefixed/prefabs/index.scss';\nimport { cssPrefix } from './../constants';\n\ntype UnprefixedClassNames = ComponentNoPrefixClasses | PrefabNoPrefixClasses;\ntype Classes = PrefabClasses | ComponentClasses;\n\n/**\n * This function is a type safe way to add a prefix to a HTML class attribute.\n * Only classes defined in the styles module are valid, any other class produces a ts error.\n * @internal\n */\nexport function prefixClass(unprefixedClassName: UnprefixedClassNames): Classes {\n  // @ts-ignore\n  return `${cssPrefix}-${unprefixedClassName}`;\n}\n\nexport function kebabize(str: string) {\n  return str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\n}\n","import { Track } from 'livekit-client';\nimport { map, startWith } from 'rxjs';\nimport { observeParticipantMedia } from '../observables/participant';\nimport { prefixClass } from '../styles-interface';\nimport { isTrackReference } from '../track-reference/track-reference.types';\nimport type { TrackIdentifier } from '../types';\n\nexport function setupMediaTrack(trackIdentifier: TrackIdentifier) {\n  const initialPub = getTrackByIdentifier(trackIdentifier);\n  const trackObserver = observeParticipantMedia(trackIdentifier.participant).pipe(\n    map(() => {\n      return getTrackByIdentifier(trackIdentifier);\n    }),\n    startWith(initialPub),\n  );\n  const className: string = prefixClass(\n    trackIdentifier.source === Track.Source.Camera ||\n      trackIdentifier.source === Track.Source.ScreenShare\n      ? 'participant-media-video'\n      : 'participant-media-audio',\n  );\n  return { className, trackObserver };\n}\n\nexport function getTrackByIdentifier(options: TrackIdentifier) {\n  if (isTrackReference(options)) {\n    return options.publication;\n  } else {\n    const { source, name, participant } = options;\n    if (source && name) {\n      return participant.getTracks().find((pub) => pub.source === source && pub.trackName === name);\n    } else if (name) {\n      return participant.getTrackByName(name);\n    } else if (source) {\n      return participant.getTrack(source);\n    } else {\n      throw new Error('At least one of source and name needs to be defined');\n    }\n  }\n}\n","import type { Participant, RemoteParticipant, Room, TrackPublication } from 'livekit-client';\nimport { ParticipantEvent, RoomEvent, Track } from 'livekit-client';\nimport type { Subscriber } from 'rxjs';\nimport { map, switchMap, Observable, startWith } from 'rxjs';\nimport { observeRoomEvents } from './room';\nimport type { ParticipantEventCallbacks } from 'livekit-client/dist/src/room/participant/Participant';\nimport { allParticipantEvents, allParticipantRoomEvents } from '../helper/eventGroups';\nimport type { TrackIdentifier } from '../types';\nimport { getTrackByIdentifier } from '../components/mediaTrack';\n\nexport function observeParticipantEvents<T extends Participant>(\n  participant: T,\n  ...events: ParticipantEvent[]\n) {\n  const observable = new Observable<T>((subscribe) => {\n    const onParticipantUpdate = () => {\n      subscribe.next(participant);\n    };\n\n    events.forEach((evt) => {\n      participant.on(evt as keyof ParticipantEventCallbacks, onParticipantUpdate);\n    });\n\n    const unsubscribe = () => {\n      events.forEach((evt) => {\n        participant.off(evt as keyof ParticipantEventCallbacks, onParticipantUpdate);\n      });\n    };\n    return unsubscribe;\n  }).pipe(startWith(participant));\n\n  return observable;\n}\n\nexport interface ParticipantMedia<T extends Participant = Participant> {\n  isCameraEnabled: boolean;\n  isMicrophoneEnabled: boolean;\n  isScreenShareEnabled: boolean;\n  microphoneTrack?: TrackPublication;\n  cameraTrack?: TrackPublication;\n  participant: T;\n}\n\nexport function observeParticipantMedia<T extends Participant>(participant: T) {\n  const participantObserver = observeParticipantEvents(\n    participant,\n    ParticipantEvent.TrackMuted,\n    ParticipantEvent.TrackUnmuted,\n    ParticipantEvent.ParticipantPermissionsChanged,\n    // ParticipantEvent.IsSpeakingChanged,\n    ParticipantEvent.TrackPublished,\n    ParticipantEvent.TrackUnpublished,\n    ParticipantEvent.TrackSubscribed,\n    ParticipantEvent.TrackUnsubscribed,\n    ParticipantEvent.LocalTrackPublished,\n    ParticipantEvent.LocalTrackUnpublished,\n    ParticipantEvent.MediaDevicesError,\n    // ParticipantEvent.ConnectionQualityChanged,\n  ).pipe(\n    map((p) => {\n      const { isMicrophoneEnabled, isCameraEnabled, isScreenShareEnabled } = p;\n      const microphoneTrack = p.getTrack(Track.Source.Microphone);\n      const cameraTrack = p.getTrack(Track.Source.Camera);\n      const participantMedia: ParticipantMedia<T> = {\n        isCameraEnabled,\n        isMicrophoneEnabled,\n        isScreenShareEnabled,\n        cameraTrack,\n        microphoneTrack,\n        participant: p,\n      };\n      return participantMedia;\n    }),\n  );\n\n  return participantObserver;\n}\n\nexport function createTrackObserver(participant: Participant, options: TrackIdentifier) {\n  return observeParticipantMedia(participant).pipe(\n    map(() => {\n      return { publication: getTrackByIdentifier(options) };\n    }),\n  );\n}\n\nexport function participantInfoObserver(participant: Participant) {\n  const observer = observeParticipantEvents(\n    participant,\n    ParticipantEvent.ParticipantMetadataChanged,\n    // ParticipantEvent.LocalTrackPublished,\n  ).pipe(\n    map(({ name, identity, metadata }) => {\n      return {\n        name,\n        identity,\n        metadata,\n      };\n    }),\n    startWith({\n      name: participant.name,\n      identity: participant.identity,\n      metadata: participant.metadata,\n    }),\n  );\n  return observer;\n}\n\nexport function createConnectionQualityObserver(participant: Participant) {\n  const observer = participantEventSelector(\n    participant,\n    ParticipantEvent.ConnectionQualityChanged,\n  ).pipe(\n    map(([quality]) => quality),\n    startWith(participant.connectionQuality),\n  );\n  return observer;\n}\n\nexport function participantEventSelector<T extends ParticipantEvent>(\n  participant: Participant,\n  event: T,\n) {\n  const observable = new Observable<\n    Parameters<ParticipantEventCallbacks[Extract<T, keyof ParticipantEventCallbacks>]>\n  >((subscribe) => {\n    const update = (\n      ...params: Parameters<ParticipantEventCallbacks[Extract<T, keyof ParticipantEventCallbacks>]>\n    ) => {\n      subscribe.next(params);\n    };\n    // @ts-expect-error not a perfect overlap between ParticipantEvent and keyof ParticipantEventCallbacks\n    participant.on(event, update);\n\n    const unsubscribe = () => {\n      // @ts-expect-error not a perfect overlap between ParticipantEvent and keyof ParticipantEventCallbacks\n      participant.off(event, update);\n    };\n    return unsubscribe;\n  });\n\n  return observable;\n}\n\nexport function mutedObserver(participant: Participant, source: Track.Source) {\n  return observeParticipantEvents(\n    participant,\n    ParticipantEvent.TrackMuted,\n    ParticipantEvent.TrackUnmuted,\n    ParticipantEvent.TrackSubscribed,\n    ParticipantEvent.TrackUnsubscribed,\n    ParticipantEvent.LocalTrackPublished,\n    ParticipantEvent.LocalTrackUnpublished,\n  ).pipe(\n    map((participant) => {\n      const pub = participant.getTrack(source);\n      return pub?.isMuted ?? true;\n    }),\n    startWith(participant.getTrack(source)?.isMuted ?? true),\n  );\n}\n\nexport function createIsSpeakingObserver(participant: Participant) {\n  return participantEventSelector(participant, ParticipantEvent.IsSpeakingChanged).pipe(\n    map(([isSpeaking]) => isSpeaking),\n  );\n}\n\ntype ConnectedParticipantsObserverOptions = {\n  additionalRoomEvents?: RoomEvent[];\n};\n\nexport function connectedParticipantsObserver(\n  room: Room,\n  options: ConnectedParticipantsObserverOptions = {},\n) {\n  let subscriber: Subscriber<RemoteParticipant[]> | undefined;\n\n  const observable = new Observable<RemoteParticipant[]>((sub) => {\n    subscriber = sub;\n    return () => listener.unsubscribe();\n  }).pipe(startWith(Array.from(room.participants.values())));\n\n  const additionalRoomEvents = options.additionalRoomEvents ?? allParticipantRoomEvents;\n\n  const roomEvents = Array.from(\n    new Set([\n      RoomEvent.ParticipantConnected,\n      RoomEvent.ParticipantDisconnected,\n      RoomEvent.ConnectionStateChanged,\n      ...additionalRoomEvents,\n    ]),\n  );\n\n  const listener = observeRoomEvents(room, ...roomEvents).subscribe((r) =>\n    subscriber?.next(Array.from(r.participants.values())),\n  );\n  if (room.participants.size > 0) {\n    subscriber?.next(Array.from(room.participants.values()));\n  }\n  return observable;\n}\n\nexport type ConnectedParticipantObserverOptions = {\n  additionalEvents?: ParticipantEvent[];\n};\n\nexport function connectedParticipantObserver(\n  room: Room,\n  identity: string,\n  options: ConnectedParticipantObserverOptions = {},\n) {\n  const additionalEvents = options.additionalEvents ?? allParticipantEvents;\n  const observable = observeRoomEvents(\n    room,\n    RoomEvent.ParticipantConnected,\n    RoomEvent.ParticipantDisconnected,\n    RoomEvent.ConnectionStateChanged,\n  ).pipe(\n    switchMap((r) => {\n      const participant = r.getParticipantByIdentity(identity) as RemoteParticipant | undefined;\n      if (participant) {\n        return observeParticipantEvents(participant, ...additionalEvents);\n      } else {\n        return new Observable<undefined>((subscribe) => subscribe.next(undefined));\n      }\n    }),\n    startWith(room.getParticipantByIdentity(identity) as RemoteParticipant | undefined),\n  );\n\n  return observable;\n}\n\nexport function participantPermissionObserver(participant: Participant) {\n  const observer = participantEventSelector(\n    participant,\n    ParticipantEvent.ParticipantPermissionsChanged,\n  ).pipe(\n    map(() => participant.permissions),\n    startWith(participant.permissions),\n  );\n  return observer;\n}\n","import {\n  Track,\n  type LocalAudioTrack,\n  type LocalVideoTrack,\n  type Room,\n  type LocalTrack,\n} from 'livekit-client';\nimport { BehaviorSubject } from 'rxjs';\nimport { log } from '../logger';\nimport { prefixClass } from '../styles-interface';\nimport { createActiveDeviceObservable } from '../observables/room';\n\nexport type SetMediaDeviceOptions = {\n  /**\n   *  If true, adds an `exact` constraint to the getUserMedia request.\n   *  The request will fail if this option is true and the device specified is not actually available\n   */\n  exact?: boolean;\n};\n\nexport function setupDeviceSelector(\n  kind: MediaDeviceKind,\n  room?: Room,\n  localTrack?: LocalAudioTrack | LocalVideoTrack,\n) {\n  const activeDeviceSubject = new BehaviorSubject<string | undefined>(undefined);\n\n  const activeDeviceObservable = room\n    ? createActiveDeviceObservable(room, kind)\n    : activeDeviceSubject.asObservable();\n\n  const setActiveMediaDevice = async (id: string, options: SetMediaDeviceOptions = {}) => {\n    if (room) {\n      log.debug(`Switching active device of kind \"${kind}\" with id ${id}.`);\n      await room.switchActiveDevice(kind, id, options.exact);\n      const actualDeviceId: string | undefined = room.getActiveDevice(kind) ?? id;\n      if (actualDeviceId !== id && id !== 'default') {\n        log.info(\n          `We tried to select the device with id (${id}), but the browser decided to select the device with id (${actualDeviceId}) instead.`,\n        );\n      }\n      let targetTrack: LocalTrack | undefined = undefined;\n      if (kind === 'audioinput')\n        targetTrack = room.localParticipant.getTrack(Track.Source.Microphone)?.track;\n      else if (kind === 'videoinput') {\n        targetTrack = room.localParticipant.getTrack(Track.Source.Camera)?.track;\n      }\n      const useDefault =\n        (id === 'default' && !targetTrack) ||\n        (id === 'default' && targetTrack?.mediaStreamTrack.label.startsWith('Default'));\n      activeDeviceSubject.next(useDefault ? id : actualDeviceId);\n    } else if (localTrack) {\n      await localTrack.setDeviceId(options.exact ? { exact: id } : id);\n      const actualId = await localTrack.getDeviceId();\n      activeDeviceSubject.next(\n        id === 'default' && localTrack.mediaStreamTrack.label.startsWith('Default') ? id : actualId,\n      );\n    } else if (activeDeviceSubject.value !== id) {\n      log.warn(\n        'device switch skipped, please provide either a room or a local track to switch on. ',\n      );\n      activeDeviceSubject.next(id);\n    }\n  };\n  const className: string = prefixClass('media-device-select');\n  return {\n    className,\n    activeDeviceObservable,\n    setActiveMediaDevice,\n  };\n}\n","import type { Participant } from 'livekit-client';\nimport { createConnectionQualityObserver } from '../observables/participant';\nimport { prefixClass } from '../styles-interface';\n\nexport function setupConnectionQualityIndicator(participant: Participant) {\n  const className = prefixClass('connection-quality');\n  const connectionQualityObserver = createConnectionQualityObserver(participant);\n  return { className, connectionQualityObserver };\n}\n","import type { Participant } from 'livekit-client';\nimport { participantInfoObserver } from '../observables/participant';\n\nexport function setupParticipantName(participant: Participant) {\n  const infoObserver = participantInfoObserver(participant);\n  return { className: 'lk-participant-name', infoObserver };\n}\n","import type { LocalParticipant, Participant, Room } from 'livekit-client';\nimport { DataPacket_Kind } from 'livekit-client';\nimport type { Subscriber } from 'rxjs';\nimport { Observable, filter, map } from 'rxjs';\nimport { createDataObserver } from './room';\n\nexport const DataTopic = {\n  CHAT: 'lk-chat-topic',\n} as const;\n\nexport type DataSendOptions = {\n  kind?: DataPacket_Kind;\n  destination?: string[];\n};\n\n/** Publish data from the LocalParticipant. */\nexport async function sendMessage(\n  localParticipant: LocalParticipant,\n  payload: Uint8Array,\n  topic?: string,\n  options: DataSendOptions = {},\n) {\n  const { kind, destination } = options;\n\n  await localParticipant.publishData(payload, kind ?? DataPacket_Kind.RELIABLE, {\n    destination,\n    topic,\n  });\n}\n\nexport interface BaseDataMessage<T extends string | undefined> {\n  topic?: T;\n  payload: Uint8Array;\n}\n\nexport interface ReceivedDataMessage<T extends string | undefined = string>\n  extends BaseDataMessage<T> {\n  from?: Participant;\n}\n\nexport function setupDataMessageHandler<T extends string>(\n  room: Room,\n  topic?: T,\n  onMessage?: (msg: ReceivedDataMessage<T>) => void,\n) {\n  /** Setup a Observable that returns all data messages belonging to a topic. */\n  const messageObservable = createDataObserver(room).pipe(\n    filter(([, , , messageTopic]) => topic === undefined || messageTopic === topic),\n    map(([payload, participant, , messageTopic]) => {\n      const msg = {\n        payload,\n        topic: messageTopic as T,\n        from: participant,\n      } satisfies ReceivedDataMessage<T>;\n      onMessage?.(msg);\n      return msg;\n    }),\n  );\n\n  let isSendingSubscriber: Subscriber<boolean>;\n  const isSendingObservable = new Observable<boolean>((subscriber) => {\n    isSendingSubscriber = subscriber;\n  });\n\n  const send = async (payload: Uint8Array, options: DataSendOptions = {}) => {\n    isSendingSubscriber.next(true);\n    try {\n      await sendMessage(room.localParticipant, payload, topic, options);\n    } finally {\n      isSendingSubscriber.next(false);\n    }\n  };\n\n  return { messageObservable, isSendingObservable, send };\n}\n","/* eslint-disable camelcase */\nimport type { Participant, Room } from 'livekit-client';\nimport { DataPacket_Kind } from 'livekit-client';\nimport { BehaviorSubject, Subject, scan, map, takeUntil } from 'rxjs';\nimport { DataTopic, sendMessage, setupDataMessageHandler } from '../observables/dataChannel';\n\nexport interface ChatMessage {\n  timestamp: number;\n  message: string;\n}\n\nexport interface ReceivedChatMessage extends ChatMessage {\n  from?: Participant;\n}\n\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\n\nexport function setupChat(room: Room) {\n  const onDestroyObservable = new Subject<void>();\n  const messageSubject = new Subject<{\n    payload: Uint8Array;\n    topic: string | undefined;\n    from: Participant | undefined;\n  }>();\n\n  /** Subscribe to all messages send over the wire. */\n  const { messageObservable } = setupDataMessageHandler(room, DataTopic.CHAT);\n  messageObservable.pipe(takeUntil(onDestroyObservable)).subscribe(messageSubject);\n\n  /** Build up the message array over time. */\n  const messagesObservable = messageSubject.pipe(\n    map((msg) => {\n      const parsedMessage = JSON.parse(decoder.decode(msg.payload)) as ChatMessage;\n      const newMessage: ReceivedChatMessage = { ...parsedMessage, from: msg.from };\n      return newMessage;\n    }),\n    scan<ReceivedChatMessage, ReceivedChatMessage[]>((acc, value) => [...acc, value], []),\n    takeUntil(onDestroyObservable),\n  );\n\n  const isSending$ = new BehaviorSubject<boolean>(false);\n\n  const send = async (message: string) => {\n    const timestamp = Date.now();\n    const encodedMsg = encoder.encode(JSON.stringify({ timestamp, message }));\n    isSending$.next(true);\n    try {\n      await sendMessage(room.localParticipant, encodedMsg, DataTopic.CHAT, {\n        kind: DataPacket_Kind.RELIABLE,\n      });\n      messageSubject.next({\n        payload: encodedMsg,\n        topic: DataTopic.CHAT,\n        from: room.localParticipant,\n      });\n    } finally {\n      isSending$.next(false);\n    }\n  };\n\n  function destroy() {\n    onDestroyObservable.next();\n    onDestroyObservable.complete();\n  }\n\n  return { messageObservable: messagesObservable, isSendingObservable: isSending$, send, destroy };\n}\n","import { operate } from '../util/lift';\nimport { scanInternals } from './scanInternals';\nexport function scan(accumulator, seed) {\n    return operate(scanInternals(accumulator, seed, arguments.length >= 2, true));\n}\n//# sourceMappingURL=scan.js.map","import type {\n  LocalTrackPublication,\n  Participant,\n  RemoteTrackPublication,\n  Room,\n  Track,\n  TrackPublication,\n} from 'livekit-client';\nimport { RoomEvent, TrackEvent } from 'livekit-client';\nimport { map, Observable, startWith } from 'rxjs';\nimport { allParticipantRoomEvents } from '../helper';\nimport { log } from '../logger';\nimport type { TrackReference } from '../track-reference';\nimport { observeRoomEvents } from './room';\n\nexport function trackObservable(track: TrackPublication) {\n  const trackObserver = observeTrackEvents(\n    track,\n    TrackEvent.Muted,\n    TrackEvent.Unmuted,\n    TrackEvent.Subscribed,\n    TrackEvent.Unsubscribed,\n  );\n\n  return trackObserver;\n}\n\nexport function observeTrackEvents(track: TrackPublication, ...events: TrackEvent[]) {\n  const observable = new Observable<TrackPublication>((subscribe) => {\n    const onTrackUpdate = () => {\n      subscribe.next(track);\n    };\n\n    events.forEach((evt) => {\n      // @ts-expect-error type of `TrackEvent` and `PublicationCallbacks` are congruent\n      track.on(evt, onTrackUpdate);\n    });\n\n    const unsubscribe = () => {\n      events.forEach((evt) => {\n        // @ts-expect-error type of `TrackEvent` and `PublicationCallbacks` are congruent\n        track.off(evt, onTrackUpdate);\n      });\n    };\n    return unsubscribe;\n  }).pipe(startWith(track));\n\n  return observable;\n}\n\n/**\n * Create `TrackReferences` for all tracks that are included in the sources property.\n *  */\nfunction getTrackReferences(\n  room: Room,\n  sources: Track.Source[],\n  onlySubscribedTracks = true,\n): { trackReferences: TrackReference[]; participants: Participant[] } {\n  const localParticipant = room.localParticipant;\n  const allParticipants = [localParticipant, ...Array.from(room.participants.values())];\n  const trackReferences: TrackReference[] = [];\n\n  allParticipants.forEach((participant) => {\n    sources.forEach((source) => {\n      const sourceReferences = Array.from<RemoteTrackPublication | LocalTrackPublication>(\n        participant.tracks.values(),\n      )\n        .filter(\n          (track) =>\n            track.source === source &&\n            // either return all or only the ones that are subscribed\n            (!onlySubscribedTracks || track.track),\n        )\n        .map((track): TrackReference => {\n          return {\n            participant: participant,\n            publication: track,\n            source: track.source,\n          };\n        });\n\n      trackReferences.push(...sourceReferences);\n    });\n  });\n\n  return { trackReferences, participants: allParticipants };\n}\n\ntype TrackReferencesObservableOptions = {\n  additionalRoomEvents?: RoomEvent[];\n  onlySubscribed?: boolean;\n};\n\nexport function trackReferencesObservable(\n  room: Room,\n  sources: Track.Source[],\n  options: TrackReferencesObservableOptions,\n): Observable<{ trackReferences: TrackReference[]; participants: Participant[] }> {\n  const additionalRoomEvents = options.additionalRoomEvents ?? allParticipantRoomEvents;\n  const onlySubscribedTracks: boolean = options.onlySubscribed ?? true;\n  const roomEvents = Array.from(\n    new Set([\n      RoomEvent.ParticipantConnected,\n      RoomEvent.ConnectionStateChanged,\n      RoomEvent.LocalTrackPublished,\n      RoomEvent.LocalTrackUnpublished,\n      RoomEvent.TrackPublished,\n      RoomEvent.TrackUnpublished,\n      RoomEvent.TrackSubscriptionStatusChanged,\n      ...additionalRoomEvents,\n    ]).values(),\n  );\n\n  const observable = observeRoomEvents(room, ...roomEvents).pipe(\n    map((room) => {\n      const data = getTrackReferences(room, sources, onlySubscribedTracks);\n      log.debug(`TrackReference[] was updated. (length ${data.trackReferences.length})`, data);\n      return data;\n    }),\n    startWith(getTrackReferences(room, sources, onlySubscribedTracks)),\n  );\n\n  return observable;\n}\n","import type { Observable } from 'rxjs';\nimport { concat, distinctUntilChanged, fromEvent, map, of, skipUntil, timeout } from 'rxjs';\n\n/**\n * Returns true if the user is interacting with the HTML element,\n * and returns false if there is no interaction for a specified period of time.\n *\n * @internal\n */\nexport function createInteractingObservable(htmlElement: HTMLElement | null, inactiveAfter = 1000) {\n  if (htmlElement === null) return of(false);\n  const move$ = fromEvent(htmlElement, 'mousemove', { passive: true }).pipe(map(() => true));\n  const moveAndStop$: Observable<boolean> = move$.pipe(\n    timeout({\n      each: inactiveAfter,\n      with: () => concat(of(false), moveAndStop$.pipe(skipUntil(move$))),\n    }),\n    distinctUntilChanged(),\n  );\n  return moveAndStop$;\n}\n","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function skipUntil(notifier) {\n    return operate(function (source, subscriber) {\n        var taking = false;\n        var skipSubscriber = createOperatorSubscriber(subscriber, function () {\n            skipSubscriber === null || skipSubscriber === void 0 ? void 0 : skipSubscriber.unsubscribe();\n            taking = true;\n        }, noop);\n        innerFrom(notifier).subscribe(skipSubscriber);\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return taking && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=skipUntil.js.map","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/* eslint-disable no-return-assign */\n/* eslint-disable no-underscore-dangle */\nimport * as React from 'react';\nimport useLatest from '@react-hook/latest';\n\n/**\n * A React hook that fires a callback whenever ResizeObserver detects a change to its size\n * code extracted from https://github.com/jaredLunde/react-hook/blob/master/packages/resize-observer/src/index.tsx in order to not include the polyfill for resize-observer\n *\n * @internal\n */\nexport function useResizeObserver<T extends HTMLElement>(\n  target: React.RefObject<T>,\n  callback: UseResizeObserverCallback,\n) {\n  const resizeObserver = getResizeObserver();\n  const storedCallback = useLatest(callback);\n\n  React.useLayoutEffect(() => {\n    let didUnsubscribe = false;\n\n    const targetEl = target.current;\n    if (!targetEl) return;\n\n    function cb(entry: ResizeObserverEntry, observer: ResizeObserver) {\n      if (didUnsubscribe) return;\n      storedCallback.current(entry, observer);\n    }\n\n    resizeObserver?.subscribe(targetEl as HTMLElement, cb);\n\n    return () => {\n      didUnsubscribe = true;\n      resizeObserver?.unsubscribe(targetEl as HTMLElement, cb);\n    };\n  }, [target.current, resizeObserver, storedCallback]);\n\n  return resizeObserver?.observer;\n}\n\nfunction createResizeObserver() {\n  let ticking = false;\n  let allEntries: ResizeObserverEntry[] = [];\n\n  const callbacks: Map<unknown, Array<UseResizeObserverCallback>> = new Map();\n\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  const observer = new ResizeObserver((entries: ResizeObserverEntry[], obs: ResizeObserver) => {\n    allEntries = allEntries.concat(entries);\n    if (!ticking) {\n      window.requestAnimationFrame(() => {\n        const triggered = new Set<Element>();\n        for (let i = 0; i < allEntries.length; i++) {\n          if (triggered.has(allEntries[i].target)) continue;\n          triggered.add(allEntries[i].target);\n          const cbs = callbacks.get(allEntries[i].target);\n          cbs?.forEach((cb) => cb(allEntries[i], obs));\n        }\n        allEntries = [];\n        ticking = false;\n      });\n    }\n    ticking = true;\n  });\n\n  return {\n    observer,\n    subscribe(target: HTMLElement, callback: UseResizeObserverCallback) {\n      observer.observe(target);\n      const cbs = callbacks.get(target) ?? [];\n      cbs.push(callback);\n      callbacks.set(target, cbs);\n    },\n    unsubscribe(target: HTMLElement, callback: UseResizeObserverCallback) {\n      const cbs = callbacks.get(target) ?? [];\n      if (cbs.length === 1) {\n        observer.unobserve(target);\n        callbacks.delete(target);\n        return;\n      }\n      const cbIndex = cbs.indexOf(callback);\n      if (cbIndex !== -1) cbs.splice(cbIndex, 1);\n      callbacks.set(target, cbs);\n    },\n  };\n}\n\nlet _resizeObserver: ReturnType<typeof createResizeObserver>;\n\nconst getResizeObserver = () =>\n  !_resizeObserver ? (_resizeObserver = createResizeObserver()) : _resizeObserver;\n\nexport type UseResizeObserverCallback = (\n  entry: ResizeObserverEntry,\n  observer: ResizeObserver,\n) => unknown;\n\nexport const useSize = (target: React.RefObject<HTMLDivElement>) => {\n  const [size, setSize] = React.useState({ width: 0, height: 0 });\n  React.useLayoutEffect(() => {\n    if (target.current) {\n      const { width, height } = target.current.getBoundingClientRect();\n      setSize({ width, height });\n    }\n  }, [target.current]);\n\n  const resizeCallback = React.useCallback(\n    (entry: ResizeObserverEntry) => setSize(entry.contentRect),\n    [],\n  );\n  // Where the magic happens\n  useResizeObserver(target, resizeCallback);\n  return size;\n};\n","import * as React from 'react';\nimport type { Observable } from 'rxjs';\n\n/**\n * @internal\n */\nexport function useObservableState<T>(observable: Observable<T> | undefined, startWith: T) {\n  const [state, setState] = React.useState<T>(startWith);\n  React.useEffect(() => {\n    // observable state doesn't run in SSR\n    if (typeof window === 'undefined' || !observable) return;\n    const subscription = observable.subscribe(setState);\n    return () => subscription.unsubscribe();\n  }, [observable]);\n  return state;\n}\n","import type { WidgetState } from '@livekit/components-core';\nimport type * as React from 'react';\n\n/** @internal */\nexport type ChatContextAction =\n  | { msg: 'show_chat' }\n  | { msg: 'hide_chat' }\n  | { msg: 'toggle_chat' }\n  | { msg: 'unread_msg'; count: number };\n\n/** @internal */\nexport type ChatContextType = {\n  dispatch?: React.Dispatch<ChatContextAction>;\n  state?: WidgetState;\n};\n\n/** @internal */\nexport function chatReducer(state: WidgetState, action: ChatContextAction): WidgetState {\n  if (action.msg === 'show_chat') {\n    return { ...state, showChat: true, unreadMessages: 0 };\n  } else if (action.msg === 'hide_chat') {\n    return { ...state, showChat: false };\n  } else if (action.msg === 'toggle_chat') {\n    const newState = { ...state, showChat: !state.showChat };\n    if (newState.showChat === true) {\n      newState.unreadMessages = 0;\n    }\n    return newState;\n  } else if (action.msg === 'unread_msg') {\n    return { ...state, unreadMessages: action.count };\n  } else {\n    return { ...state };\n  }\n}\n","import type { PinState, TrackReference } from '@livekit/components-core';\nimport type * as React from 'react';\n\n/** @internal */\nexport type PinAction =\n  | {\n      msg: 'set_pin';\n      trackReference: TrackReference;\n    }\n  | { msg: 'clear_pin' };\n\n/** @internal */\nexport type PinContextType = {\n  dispatch?: React.Dispatch<PinAction>;\n  state?: PinState;\n};\n\n/** @internal */\nexport function pinReducer(state: PinState, action: PinAction): PinState {\n  if (action.msg === 'set_pin') {\n    return [action.trackReference];\n  } else if (action.msg === 'clear_pin') {\n    return [];\n  } else {\n    return { ...state };\n  }\n}\n","import { PIN_DEFAULT_STATE, WIDGET_DEFAULT_STATE } from '@livekit/components-core';\nimport * as React from 'react';\nimport type { PinContextType } from './pin-context';\nimport type { ChatContextType } from './chat-context';\nimport { chatReducer } from './chat-context';\nimport { pinReducer } from './pin-context';\n\n/** @public */\nexport type LayoutContextType = {\n  pin: PinContextType;\n  widget: ChatContextType;\n};\n\n/** @public */\nexport const LayoutContext = React.createContext<LayoutContextType | undefined>(undefined);\n\n/**\n * Ensures that a layout context is provided via context.\n * If no layout context is provided, an error is thrown.\n * @public\n */\nexport function useLayoutContext(): LayoutContextType {\n  const layoutContext = React.useContext(LayoutContext);\n  if (!layoutContext) {\n    throw Error('Tried to access LayoutContext context outside a LayoutContextProvider provider.');\n  }\n  return layoutContext;\n}\n\n/**\n * Ensures that a layout context is provided, either via context or explicitly as a parameter.\n * If not inside a `LayoutContext` and no layout context is provided, an error is thrown.\n * @public\n */\nexport function useEnsureLayoutContext(layoutContext?: LayoutContextType) {\n  const layout = useMaybeLayoutContext();\n  layoutContext ??= layout;\n  if (!layoutContext) {\n    throw Error('Tried to access LayoutContext context outside a LayoutContextProvider provider.');\n  }\n  return layoutContext;\n}\n\n/** @public */\nexport function useCreateLayoutContext(): LayoutContextType {\n  const [pinState, pinDispatch] = React.useReducer(pinReducer, PIN_DEFAULT_STATE);\n  const [widgetState, widgetDispatch] = React.useReducer(chatReducer, WIDGET_DEFAULT_STATE);\n  return {\n    pin: { dispatch: pinDispatch, state: pinState },\n    widget: { dispatch: widgetDispatch, state: widgetState },\n  };\n}\n\n/** @public */\nexport function useEnsureCreateLayoutContext(layoutContext?: LayoutContextType): LayoutContextType {\n  const [pinState, pinDispatch] = React.useReducer(pinReducer, PIN_DEFAULT_STATE);\n  const [widgetState, widgetDispatch] = React.useReducer(chatReducer, WIDGET_DEFAULT_STATE);\n  return (\n    layoutContext ?? {\n      pin: { dispatch: pinDispatch, state: pinState },\n      widget: { dispatch: widgetDispatch, state: widgetState },\n    }\n  );\n}\n\n/**\n * Returns a layout context from the `LayoutContext` if it exists, otherwise `undefined`.\n * @public\n */\nexport function useMaybeLayoutContext(): LayoutContextType | undefined {\n  return React.useContext(LayoutContext);\n}\n","import type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport * as React from 'react';\n\n/** @public */\nexport const TrackContext = React.createContext<TrackReferenceOrPlaceholder | undefined>(undefined);\n\n/**\n * Ensures that a track reference is provided via context.\n * If not inside a `TrackContext`, an error is thrown.\n * @public\n */\nexport function useTrackContext() {\n  const trackReference = React.useContext(TrackContext);\n  if (!trackReference) {\n    throw Error('tried to access track context outside of track context provider');\n  }\n  return trackReference;\n}\n\n/**\n * Returns a track reference from the `TrackContext` if it exists, otherwise `undefined`.\n * @public\n */\nexport function useMaybeTrackContext() {\n  return React.useContext(TrackContext);\n}\n\n/**\n * Ensures that a track reference is provided, either via context or explicitly as a parameter.\n * If not inside a `TrackContext` and no track reference is provided, an error is thrown.\n * @public\n */\nexport function useEnsureTrackReference(track?: TrackReferenceOrPlaceholder) {\n  const context = useMaybeTrackContext();\n  const trackRef = track ?? context;\n  if (!trackRef) {\n    throw new Error(\n      'No TrackReference provided, make sure you are inside a track context or pass the track reference explicitly',\n    );\n  }\n  return trackRef;\n}\n","import type { Participant } from 'livekit-client';\nimport * as React from 'react';\nimport { useMaybeTrackContext } from './track-context';\n\n/** @public */\nexport const ParticipantContext = React.createContext<Participant | undefined>(undefined);\n\n/**\n * Ensures that a participant is provided via context.\n * If not inside a `ParticipantContext`, an error is thrown.\n * @public\n */\nexport function useParticipantContext() {\n  const participant = React.useContext(ParticipantContext);\n  if (!participant) {\n    throw Error('tried to access participant context outside of participant context provider');\n  }\n  return participant;\n}\n\n/**\n * Returns a participant from the `ParticipantContext` if it exists, otherwise `undefined`.\n * @public\n */\nexport function useMaybeParticipantContext() {\n  return React.useContext(ParticipantContext);\n}\n\n/**\n * Ensures that a participant is provided, either via context or explicitly as a parameter.\n * If not inside a `ParticipantContext` and no participant is provided, an error is thrown.\n * @public\n */\nexport function useEnsureParticipant(participant?: Participant) {\n  const context = useMaybeParticipantContext();\n  const trackContext = useMaybeTrackContext();\n  const p = participant ?? context ?? trackContext?.participant;\n  if (!p) {\n    throw new Error(\n      'No participant provided, make sure you are inside a participant context or pass the participant explicitly',\n    );\n  }\n  return p;\n}\n","import type { Room } from 'livekit-client';\nimport * as React from 'react';\n\n/** @public */\nexport const RoomContext = React.createContext<Room | undefined>(undefined);\n\n/**\n * Ensures that a room is provided via context.\n * If no room is provided, an error is thrown.\n * @public\n */\nexport function useRoomContext() {\n  const ctx = React.useContext(RoomContext);\n  if (!ctx) {\n    throw Error('tried to access room context outside of livekit room component');\n  }\n  return ctx;\n}\n\n/**\n * Returns the room context if it exists, otherwise undefined.\n * @public\n */\nexport function useMaybeRoomContext() {\n  return React.useContext(RoomContext);\n}\n\n/**\n * Ensures that a room is provided, either via context or explicitly as a parameter.\n * If no room is provided, an error is thrown.\n * @public\n */\nexport function useEnsureRoom(room?: Room) {\n  const context = useMaybeRoomContext();\n  const r = room ?? context;\n  if (!r) {\n    throw new Error(\n      'No room provided, make sure you are inside a Room context or pass the room explicitly',\n    );\n  }\n  return r;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport clsx from 'clsx';\n\n/**\n * Calls all functions in the order they were chained with the same arguments.\n * @internal\n */\nexport function chain(...callbacks: any[]): (...args: any[]) => void {\n  return (...args: any[]) => {\n    for (const callback of callbacks) {\n      if (typeof callback === 'function') {\n        callback(...args);\n      }\n    }\n  };\n}\n\ninterface Props {\n  [key: string]: any;\n}\n\n// taken from: https://stackoverflow.com/questions/51603250/typescript-3-parameter-list-intersection-type/51604379#51604379\ntype TupleTypes<T> = { [P in keyof T]: T[P] } extends { [key: number]: infer V } ? V : never;\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends (k: infer I) => void\n  ? I\n  : never;\n\n/**\n * Merges multiple props objects together. Event handlers are chained,\n * classNames are combined, and ids are deduplicated - different ids\n * will trigger a side-effect and re-render components hooked up with `useId`.\n * For all other props, the last prop object overrides all previous ones.\n * @param args - Multiple sets of props to merge together.\n * @internal\n */\nexport function mergeProps<T extends Props[]>(...args: T): UnionToIntersection<TupleTypes<T>> {\n  // Start with a base clone of the first argument. This is a lot faster than starting\n  // with an empty object and adding properties as we go.\n  const result: Props = { ...args[0] };\n  for (let i = 1; i < args.length; i++) {\n    const props = args[i];\n    for (const key in props) {\n      const a = result[key];\n      const b = props[key];\n\n      // Chain events\n      if (\n        typeof a === 'function' &&\n        typeof b === 'function' &&\n        // This is a lot faster than a regex.\n        key[0] === 'o' &&\n        key[1] === 'n' &&\n        key.charCodeAt(2) >= /* 'A' */ 65 &&\n        key.charCodeAt(2) <= /* 'Z' */ 90\n      ) {\n        result[key] = chain(a, b);\n\n        // Merge classnames, sometimes classNames are empty string which eval to false, so we just need to do a type check\n      } else if (\n        (key === 'className' || key === 'UNSAFE_className') &&\n        typeof a === 'string' &&\n        typeof b === 'string'\n      ) {\n        result[key] = clsx(a, b);\n      } else {\n        result[key] = b !== undefined ? b : a;\n      }\n    }\n  }\n\n  return result as UnionToIntersection<TupleTypes<T>>;\n}\n","import { connectionStateObserver } from '@livekit/components-core';\nimport type { Room } from 'livekit-client';\nimport * as React from 'react';\nimport { useEnsureRoom } from '../context';\nimport { useObservableState } from './internal';\n\n/**\n * The `useConnectionState` hook allows you to simply implement your own `ConnectionState` component.\n *\n * @example\n * ```tsx\n * const connectionState = useConnectionState(room);\n * ```\n * @public\n */\nexport function useConnectionState(room?: Room) {\n  // passed room takes precedence, if not supplied get current room context\n  const r = useEnsureRoom(room);\n  const observable = React.useMemo(() => connectionStateObserver(r), [r]);\n  const connectionState = useObservableState(observable, r.state);\n  return connectionState;\n}\n","import { setupDisconnectButton } from '@livekit/components-core';\nimport { ConnectionState } from 'livekit-client';\nimport * as React from 'react';\nimport type { DisconnectButtonProps } from '../components';\nimport { useRoomContext } from '../context';\nimport { mergeProps } from '../mergeProps';\nimport { useConnectionState } from './useConnectionStatus';\n\n/** @public */\nexport function useDisconnectButton(props: DisconnectButtonProps) {\n  const room = useRoomContext();\n  const connectionState = useConnectionState(room);\n\n  const buttonProps = React.useMemo(() => {\n    const { className, disconnect } = setupDisconnectButton(room);\n    const mergedProps = mergeProps(props, {\n      className,\n      onClick: () => disconnect(props.stopTracks ?? true),\n      disabled: connectionState === ConnectionState.Disconnected,\n    });\n    return mergedProps;\n  }, [room, props, connectionState]);\n\n  return { buttonProps };\n}\n","import type { Room } from 'livekit-client';\nimport { prefixClass } from '../styles-interface';\n\nexport function setupDisconnectButton(room: Room) {\n  const disconnect = (stopTracks?: boolean) => {\n    room.disconnect(stopTracks);\n  };\n  const className: string = prefixClass('disconnect-button');\n  return { className, disconnect };\n}\n","import { setupFocusToggle, isTrackReferencePinned } from '@livekit/components-core';\nimport type { Track, Participant } from 'livekit-client';\nimport { useEnsureParticipant, useMaybeLayoutContext } from '../context';\nimport { mergeProps } from '../mergeProps';\nimport * as React from 'react';\n\n/** @public */\nexport interface UseFocusToggleProps {\n  props: React.ButtonHTMLAttributes<HTMLButtonElement>;\n  trackSource: Track.Source;\n  participant?: Participant;\n}\n\n/** @public */\nexport function useFocusToggle({ trackSource, participant, props }: UseFocusToggleProps) {\n  const p = useEnsureParticipant(participant);\n  const layoutContext = useMaybeLayoutContext();\n  const { className } = React.useMemo(() => setupFocusToggle(), []);\n\n  const inFocus: boolean = React.useMemo(() => {\n    const track = p.getTrack(trackSource);\n    if (layoutContext?.pin.state && track) {\n      return isTrackReferencePinned(\n        { participant: p, source: trackSource, publication: track },\n        layoutContext.pin.state,\n      );\n    } else {\n      return false;\n    }\n  }, [p, trackSource, layoutContext]);\n\n  const mergedProps = React.useMemo(\n    () =>\n      mergeProps(props, {\n        className,\n        onClick: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n          // Call user defined on click callbacks.\n          props.onClick?.(event);\n\n          // Set or clear focus based on current focus state.\n          const track = p.getTrack(trackSource);\n          if (layoutContext?.pin.dispatch && track) {\n            if (inFocus) {\n              layoutContext.pin.dispatch({\n                msg: 'clear_pin',\n              });\n            } else {\n              layoutContext.pin.dispatch({\n                msg: 'set_pin',\n                trackReference: {\n                  participant: p,\n                  publication: track,\n                  source: track.source,\n                },\n              });\n            }\n          }\n        },\n      }),\n    [props, className, p, trackSource, inFocus, layoutContext],\n  );\n\n  return { mergedProps, inFocus };\n}\n","import { prefixClass } from '../styles-interface';\n\nexport function setupFocusToggle() {\n  const className: string = [prefixClass('button'), prefixClass('focus-toggle-button')].join(' ');\n  return { className };\n}\n","import { GRID_LAYOUTS, selectGridLayout } from '@livekit/components-core';\nimport type { GridLayoutDefinition } from '@livekit/components-core';\nimport * as React from 'react';\nimport { useSize } from './internal';\n\n/**\n * The useGridLayout hook tries to select the best layout to fit all tiles.\n * If the available screen space is not enough, it will reduce the number of maximum visible\n * tiles and select a layout that still works visually within the given limitations.\n * As the order of tiles changes over time, the hook tries to keep visual updates to a minimum\n * while trying to display important tiles such as speaking participants or screen shares.\n * @public\n */\nexport function useGridLayout(\n  /** HTML element that contains the grid. */\n  gridElement: React.RefObject<HTMLDivElement>,\n  /** Count of tracks that should get layed out */\n  trackCount: number,\n): { layout: GridLayoutDefinition } {\n  const { width, height } = useSize(gridElement);\n\n  const layout =\n    width > 0 && height > 0\n      ? selectGridLayout(GRID_LAYOUTS, trackCount, width, height)\n      : GRID_LAYOUTS[0];\n\n  React.useEffect(() => {\n    if (gridElement.current && layout) {\n      gridElement.current.style.setProperty('--lk-col-count', layout?.columns.toString());\n      gridElement.current.style.setProperty('--lk-row-count', layout?.rows.toString());\n    }\n  }, [gridElement, layout]);\n\n  return {\n    layout,\n  };\n}\n","import { mutedObserver } from '@livekit/components-core';\nimport type { Participant, Track } from 'livekit-client';\nimport * as React from 'react';\nimport { useEnsureParticipant } from '../context';\n\n/** @public */\nexport interface UseIsMutedOptions {\n  participant?: Participant;\n}\n\n/** @public */\nexport function useIsMuted(source: Track.Source, options: UseIsMutedOptions = {}) {\n  const p = useEnsureParticipant(options.participant);\n  const [isMuted, setIsMuted] = React.useState(!!p.getTrack(source)?.isMuted);\n\n  React.useEffect(() => {\n    const listener = mutedObserver(p, source).subscribe(setIsMuted);\n    return () => listener.unsubscribe();\n  }, [p, source]);\n\n  return isMuted;\n}\n","import { createIsSpeakingObserver } from '@livekit/components-core';\nimport type { Participant } from 'livekit-client';\nimport * as React from 'react';\nimport { useEnsureParticipant } from '../context';\nimport { useObservableState } from './internal';\n\n/** @public */\nexport function useIsSpeaking(participant?: Participant) {\n  const p = useEnsureParticipant(participant);\n  const observable = React.useMemo(() => createIsSpeakingObserver(p), [p]);\n  const isSpeaking = useObservableState(observable, p.isSpeaking);\n\n  return isSpeaking;\n}\n","import { log, setupLiveKitRoom } from '@livekit/components-core';\nimport { Room, MediaDeviceFailure, RoomEvent, ConnectionState } from 'livekit-client';\nimport * as React from 'react';\nimport type { HTMLAttributes } from 'react';\n\nimport type { LiveKitRoomProps } from '../components';\nimport { mergeProps } from '../mergeProps';\n\nconst defaultRoomProps: Partial<LiveKitRoomProps> = {\n  connect: true,\n  audio: false,\n  video: false,\n};\n\n/** @public */\nexport function useLiveKitRoom<T extends HTMLElement>(\n  props: LiveKitRoomProps,\n): {\n  room: Room | undefined;\n  htmlProps: HTMLAttributes<T>;\n} {\n  const {\n    token,\n    serverUrl,\n    options,\n    room: passedRoom,\n    connectOptions,\n    connect,\n    audio,\n    video,\n    screen,\n    onConnected,\n    onDisconnected,\n    onError,\n    onMediaDeviceFailure,\n    simulateParticipants,\n    ...rest\n  } = { ...defaultRoomProps, ...props };\n  if (options && passedRoom) {\n    log.warn(\n      'when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.',\n    );\n  }\n\n  const [room, setRoom] = React.useState<Room | undefined>();\n\n  React.useEffect(() => {\n    setRoom(passedRoom ?? new Room(options));\n  }, [JSON.stringify(options), passedRoom]);\n\n  const htmlProps = React.useMemo(() => {\n    const { className } = setupLiveKitRoom();\n    return mergeProps(rest, { className }) as HTMLAttributes<T>;\n  }, [rest]);\n\n  React.useEffect(() => {\n    if (!room) return;\n    const onSignalConnected = () => {\n      const localP = room.localParticipant;\n\n      log.debug('trying to publish local tracks');\n      Promise.all([\n        localP.setMicrophoneEnabled(!!audio, typeof audio !== 'boolean' ? audio : undefined),\n        localP.setCameraEnabled(!!video, typeof video !== 'boolean' ? video : undefined),\n        localP.setScreenShareEnabled(!!screen, typeof screen !== 'boolean' ? screen : undefined),\n      ]).catch((e) => {\n        log.warn(e);\n        onError?.(e as Error);\n      });\n    };\n\n    const onMediaDeviceError = (e: Error) => {\n      const mediaDeviceFailure = MediaDeviceFailure.getFailure(e);\n      onMediaDeviceFailure?.(mediaDeviceFailure);\n    };\n    room.on(RoomEvent.SignalConnected, onSignalConnected);\n    room.on(RoomEvent.MediaDevicesError, onMediaDeviceError);\n\n    return () => {\n      room.off(RoomEvent.SignalConnected, onSignalConnected);\n      room.off(RoomEvent.MediaDevicesError, onMediaDeviceError);\n    };\n  }, [room, audio, video, screen, onError]);\n\n  React.useEffect(() => {\n    if (!room) return;\n\n    if (simulateParticipants) {\n      room.simulateParticipants({\n        participants: {\n          count: simulateParticipants,\n        },\n        publish: {\n          audio: true,\n          useRealTracks: true,\n        },\n      });\n      return;\n    }\n    if (!token) {\n      log.debug('no token yet');\n      return;\n    }\n    if (!serverUrl) {\n      log.warn('no livekit url provided');\n      onError?.(Error('no livekit url provided'));\n      return;\n    }\n    if (connect) {\n      log.debug('connecting');\n      room.connect(serverUrl, token, connectOptions).catch((e) => {\n        log.warn(e);\n        onError?.(e as Error);\n      });\n    } else {\n      log.debug('disconnecting because connect is false');\n      room.disconnect();\n    }\n  }, [\n    connect,\n    token,\n    JSON.stringify(connectOptions),\n    room,\n    onError,\n    serverUrl,\n    simulateParticipants,\n  ]);\n\n  React.useEffect(() => {\n    if (!room) return;\n    const connectionStateChangeListener = (state: ConnectionState) => {\n      switch (state) {\n        case ConnectionState.Disconnected:\n          if (onDisconnected) onDisconnected();\n          break;\n        case ConnectionState.Connected:\n          if (onConnected) onConnected();\n          break;\n\n        default:\n          break;\n      }\n    };\n    room.on(RoomEvent.ConnectionStateChanged, connectionStateChangeListener);\n    return () => {\n      room.off(RoomEvent.ConnectionStateChanged, connectionStateChangeListener);\n    };\n  }, [token, onConnected, onDisconnected, room]);\n\n  React.useEffect(() => {\n    if (!room) return;\n    return () => {\n      log.info('disconnecting on onmount');\n      room.disconnect();\n    };\n  }, [room]);\n\n  return { room, htmlProps };\n}\n","import { participantPermissionObserver } from '@livekit/components-core';\nimport * as React from 'react';\nimport { useRoomContext } from '../context';\nimport { useObservableState } from './internal';\n\n/** @public */\nexport function useLocalParticipantPermissions() {\n  const room = useRoomContext();\n  const permissionObserver = React.useMemo(\n    () => participantPermissionObserver(room.localParticipant),\n    [room],\n  );\n  const permissions = useObservableState(permissionObserver, room.localParticipant.permissions);\n  return permissions;\n}\n","import * as React from 'react';\nimport { mergeProps as mergePropsReactAria } from './mergeProps';\n\n/** @internal */\nexport function isProp<U extends HTMLElement, T extends React.HTMLAttributes<U>>(\n  prop: T | undefined,\n): prop is T {\n  return prop !== undefined;\n}\n\n/** @internal */\nexport function mergeProps<\n  U extends HTMLElement,\n  T extends Array<React.HTMLAttributes<U> | undefined>,\n>(...props: T) {\n  return mergePropsReactAria(...props.filter(isProp));\n}\n\n/** @internal */\nexport function cloneSingleChild(\n  children: React.ReactNode | React.ReactNode[],\n  props?: Record<string, any>,\n  key?: any,\n) {\n  return React.Children.map(children, (child) => {\n    // Checking isValidElement is the safe way and avoids a typescript\n    // error too.\n    if (React.isValidElement(child) && React.Children.only(children)) {\n      return React.cloneElement(child, { ...props, key });\n    }\n    return child;\n  });\n}\n","import type { TrackIdentifier } from '@livekit/components-core';\nimport { isTrackReference } from '@livekit/components-core';\nimport { setupMediaTrack, log, isLocal, getTrackByIdentifier } from '@livekit/components-core';\nimport * as React from 'react';\nimport { mergeProps } from '../utils';\nimport type { UseMediaTrackOptions } from './useMediaTrack';\n\n/**\n * @internal\n */\nexport function useMediaTrackBySourceOrName(\n  observerOptions: TrackIdentifier,\n  options: UseMediaTrackOptions = {},\n) {\n  const [publication, setPublication] = React.useState(getTrackByIdentifier(observerOptions));\n\n  const [isMuted, setMuted] = React.useState(publication?.isMuted);\n  const [isSubscribed, setSubscribed] = React.useState(publication?.isSubscribed);\n  const [track, setTrack] = React.useState(publication?.track);\n  const [orientation, setOrientation] = React.useState<'landscape' | 'portrait'>('landscape');\n  const previousElement = React.useRef<HTMLMediaElement | undefined | null>();\n\n  const { className, trackObserver } = React.useMemo(() => {\n    return setupMediaTrack(observerOptions);\n  }, [\n    observerOptions.participant.identity,\n    observerOptions.source,\n    isTrackReference(observerOptions) && observerOptions.publication.trackSid,\n  ]);\n\n  React.useEffect(() => {\n    const subscription = trackObserver.subscribe((publication) => {\n      log.debug('update track', publication);\n      setPublication(publication);\n      setMuted(publication?.isMuted);\n      setSubscribed(publication?.isSubscribed);\n      setTrack(publication?.track);\n    });\n    return () => subscription?.unsubscribe();\n  }, [trackObserver]);\n\n  React.useEffect(() => {\n    if (track) {\n      if (previousElement.current) {\n        track.detach(previousElement.current);\n      }\n      if (\n        options.element?.current &&\n        !(isLocal(observerOptions.participant) && track?.kind === 'audio')\n      ) {\n        track.attach(options.element.current);\n      }\n    }\n    previousElement.current = options.element?.current;\n    return () => {\n      if (previousElement.current) {\n        track?.detach(previousElement.current);\n      }\n    };\n  }, [track, options.element]);\n\n  React.useEffect(() => {\n    // Set the orientation of the video track.\n    // TODO: This does not handle changes in orientation after a track got published (e.g when rotating a phone camera from portrait to landscape).\n    if (\n      typeof publication?.dimensions?.width === 'number' &&\n      typeof publication?.dimensions?.height === 'number'\n    ) {\n      const orientation_ =\n        publication.dimensions.width > publication.dimensions.height ? 'landscape' : 'portrait';\n      setOrientation(orientation_);\n    }\n  }, [publication]);\n\n  return {\n    publication,\n    isMuted,\n    isSubscribed,\n    track,\n    elementProps: mergeProps(options.props, {\n      className,\n      'data-lk-local-participant': observerOptions.participant.isLocal,\n      'data-lk-source': publication?.source,\n      ...(publication?.kind === 'video' && { 'data-lk-orientation': orientation }),\n    }),\n  };\n}\n","import type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { log, sortTrackReferences, updatePages } from '@livekit/components-core';\nimport * as React from 'react';\n\n/** @public */\nexport interface UseVisualStableUpdateOptions {\n  /** Overwrites the default sort function. */\n  customSortFunction?: (\n    trackReferences: TrackReferenceOrPlaceholder[],\n  ) => TrackReferenceOrPlaceholder[];\n}\n\n/**\n * The useVisualStableUpdate hook tries to keep visual updates of the TackBundles array to a minimum,\n * while still trying to display important tiles such as speaking participants or screen shares.\n *\n * Updating works with pagination. For example, if a participant starts speaking on the second page,\n * they will be moved to the first page by replacing the least active/interesting participant on the first page.\n *\n * @beta\n */\nexport function useVisualStableUpdate(\n  /** `TrackReference`s to display in the grid.  */\n  trackReferences: TrackReferenceOrPlaceholder[],\n  maxItemsOnPage: number,\n  options: UseVisualStableUpdateOptions = {},\n): TrackReferenceOrPlaceholder[] {\n  const lastTrackRefs = React.useRef<TrackReferenceOrPlaceholder[]>([]);\n  const lastMaxItemsOnPage = React.useRef<number>(-1);\n  const layoutChanged = maxItemsOnPage !== lastMaxItemsOnPage.current;\n\n  const sortedTrackRefs =\n    typeof options.customSortFunction === 'function'\n      ? options.customSortFunction(trackReferences)\n      : sortTrackReferences(trackReferences);\n\n  let updatedTrackRefs: TrackReferenceOrPlaceholder[] = [...sortedTrackRefs];\n  if (layoutChanged === false) {\n    try {\n      updatedTrackRefs = updatePages(lastTrackRefs.current, sortedTrackRefs, maxItemsOnPage);\n    } catch (error) {\n      log.error('Error while running updatePages(): ', error);\n    }\n  }\n\n  // Save info for to compare against in the next update cycle.\n  if (layoutChanged) {\n    lastTrackRefs.current = sortedTrackRefs;\n  } else {\n    lastTrackRefs.current = updatedTrackRefs;\n  }\n  lastMaxItemsOnPage.current = maxItemsOnPage;\n\n  return updatedTrackRefs;\n}\n","import type { ParticipantClickEvent } from '@livekit/components-core';\nimport { setupParticipantTile } from '@livekit/components-core';\nimport type { TrackPublication, Participant } from 'livekit-client';\nimport { Track } from 'livekit-client';\nimport * as React from 'react';\nimport { useEnsureParticipant } from '../context';\nimport { mergeProps } from '../mergeProps';\nimport { useFacingMode } from './useFacingMode';\nimport { useIsMuted } from './useIsMuted';\nimport { useIsSpeaking } from './useIsSpeaking';\n\n/** @public */\nexport interface UseParticipantTileProps<T extends HTMLElement> extends React.HTMLAttributes<T> {\n  disableSpeakingIndicator?: boolean;\n  publication?: TrackPublication;\n  onParticipantClick?: (event: ParticipantClickEvent) => void;\n  htmlProps: React.HTMLAttributes<T>;\n  source: Track.Source;\n  participant: Participant;\n}\n\n/** @public */\nexport function useParticipantTile<T extends HTMLElement>({\n  participant,\n  source,\n  publication,\n  onParticipantClick,\n  disableSpeakingIndicator,\n  htmlProps,\n}: UseParticipantTileProps<T>) {\n  const p = useEnsureParticipant(participant);\n  const mergedProps = React.useMemo(() => {\n    const { className } = setupParticipantTile();\n    return mergeProps(htmlProps, {\n      className,\n      onClick: (event: React.MouseEvent<T, MouseEvent>) => {\n        htmlProps.onClick?.(event);\n        if (typeof onParticipantClick === 'function') {\n          const track = publication ?? p.getTrack(source);\n          onParticipantClick({ participant: p, track });\n        }\n      },\n    });\n  }, [htmlProps, source, onParticipantClick, p, publication]);\n  const isVideoMuted = useIsMuted(Track.Source.Camera, { participant });\n  const isAudioMuted = useIsMuted(Track.Source.Microphone, { participant });\n  const isSpeaking = useIsSpeaking(participant);\n  const facingMode = useFacingMode({ participant, publication, source });\n  return {\n    elementProps: {\n      'data-lk-audio-muted': isAudioMuted,\n      'data-lk-video-muted': isVideoMuted,\n      'data-lk-speaking': disableSpeakingIndicator === true ? false : isSpeaking,\n      'data-lk-local-participant': participant.isLocal,\n      'data-lk-source': source,\n      'data-lk-facing-mode': facingMode,\n      ...mergedProps,\n    } as React.HTMLAttributes<T>,\n  };\n}\n","import { prefixClass } from '../styles-interface';\n\nexport function setupParticipantTile() {\n  const className: string = prefixClass('participant-tile');\n  return {\n    className,\n  };\n}\n","import type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { LocalTrackPublication, facingModeFromLocalTrack } from 'livekit-client';\n\n/**\n * Try to determine the `facingMode` of a local participant video track.\n * @remarks\n * Works only on local video tracks.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/facingMode | MDN docs on facingMode}\n * @alpha\n */\nexport function useFacingMode(\n  trackReference: TrackReferenceOrPlaceholder,\n): 'user' | 'environment' | 'left' | 'right' | 'undefined' {\n  if (trackReference.publication instanceof LocalTrackPublication) {\n    const localTrack = trackReference.publication.track;\n    if (localTrack) {\n      const { facingMode } = facingModeFromLocalTrack(localTrack);\n      return facingMode;\n    }\n  }\n  return 'undefined';\n}\n","import type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport * as React from 'react';\nimport type { LayoutContextType } from '../context';\nimport { useEnsureLayoutContext } from '../context';\n\n/** @public */\nexport function usePinnedTracks(layoutContext?: LayoutContextType): TrackReferenceOrPlaceholder[] {\n  layoutContext = useEnsureLayoutContext(layoutContext);\n  return React.useMemo(() => {\n    if (layoutContext?.pin.state !== undefined && layoutContext.pin.state.length >= 1) {\n      return layoutContext.pin.state;\n    }\n    return [];\n  }, [layoutContext.pin.state]);\n}\n","import { setupStartAudio } from '@livekit/components-core';\nimport type { Room } from 'livekit-client';\nimport * as React from 'react';\nimport { useEnsureRoom } from '../context';\nimport { mergeProps } from '../mergeProps';\nimport { useObservableState } from './internal';\n\n/** @alpha */\nexport interface UseStartAudioProps {\n  room?: Room;\n  props: React.ButtonHTMLAttributes<HTMLButtonElement>;\n}\n\n/**\n * In many browsers to start audio playback, the user must perform a user-initiated event such as clicking a button.\n * The `useStatAudio` hook returns an object with a boolean `canPlayAudio` flag\n * that indicates whether audio playback is allowed in the current context,\n * as well as a `startAudio` function that can be called in a button `onClick` callback to start audio playback in the current context.\n *\n * @see Autoplay policy on MDN web docs for more info: {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Best_practices#autoplay_policy}\n * @alpha\n */\nexport function useStartAudio({ room, props }: UseStartAudioProps) {\n  const roomEnsured = useEnsureRoom(room);\n  const { className, roomAudioPlaybackAllowedObservable, handleStartAudioPlayback } = React.useMemo(\n    () => setupStartAudio(),\n    [],\n  );\n  const observable = React.useMemo(\n    () => roomAudioPlaybackAllowedObservable(roomEnsured),\n    [roomEnsured, roomAudioPlaybackAllowedObservable],\n  );\n  const { canPlayAudio } = useObservableState(observable, { canPlayAudio: false });\n\n  const mergedProps = React.useMemo(\n    () =>\n      mergeProps(props, {\n        className,\n        onClick: () => {\n          handleStartAudioPlayback(roomEnsured);\n        },\n        style: { display: canPlayAudio ? 'none' : 'block' },\n      }),\n    [props, className, canPlayAudio, handleStartAudioPlayback, roomEnsured],\n  );\n\n  return { mergedProps, canPlayAudio };\n}\n","import type { Room } from 'livekit-client';\nimport { log } from '../logger';\nimport { roomAudioPlaybackAllowedObservable } from '../observables/room';\nimport { prefixClass } from '../styles-interface';\n\nexport function setupStartAudio() {\n  const handleStartAudioPlayback = async (room: Room) => {\n    log.info('Start Audio for room: ', room);\n    await room.startAudio();\n  };\n  const className: string = prefixClass('start-audio-button');\n  return { className, roomAudioPlaybackAllowedObservable, handleStartAudioPlayback };\n}\n","import { setupChatToggle } from '@livekit/components-core';\nimport { useLayoutContext } from '../context';\nimport { mergeProps } from '../mergeProps';\nimport * as React from 'react';\n\n/** @public */\nexport interface UseChatToggleProps {\n  props: React.ButtonHTMLAttributes<HTMLButtonElement>;\n}\n\n/** @public */\nexport function useChatToggle({ props }: UseChatToggleProps) {\n  const { dispatch, state } = useLayoutContext().widget;\n  const { className } = React.useMemo(() => setupChatToggle(), []);\n\n  const mergedProps = React.useMemo(() => {\n    return mergeProps(props, {\n      className,\n      onClick: () => {\n        if (dispatch) dispatch({ msg: 'toggle_chat' });\n      },\n      'aria-pressed': state?.showChat ? 'true' : 'false',\n      'data-lk-unread-msgs': state\n        ? state.unreadMessages < 10\n          ? state.unreadMessages.toFixed(0)\n          : '9+'\n        : '0',\n    });\n  }, [props, className, dispatch, state]);\n\n  return { mergedProps };\n}\n","import { prefixClass } from '../styles-interface';\n\nexport function setupChatToggle() {\n  const className: string = [prefixClass('button'), prefixClass('chat-toggle')].join(' ');\n  return { className };\n}\n","import { log } from '@livekit/components-core';\nimport * as React from 'react';\n\n/** @public */\nexport interface UserInfo {\n  identity?: string;\n  name?: string;\n  metadata?: string;\n}\n\n/** @public */\nexport interface UseTokenOptions {\n  userInfo?: UserInfo;\n}\n\n/** @public */\nexport function useToken(\n  tokenEndpoint: string | undefined,\n  roomName: string,\n  options: UseTokenOptions = {},\n) {\n  const [token, setToken] = React.useState<string | undefined>(undefined);\n\n  React.useEffect(() => {\n    if (tokenEndpoint === undefined) {\n      throw Error('token endpoint needs to be defined');\n    }\n    if (options.userInfo?.identity === undefined) {\n      return;\n    }\n    const tokenFetcher = async () => {\n      log.debug('fetching token');\n      const params = new URLSearchParams({ ...options.userInfo, roomName });\n      const res = await fetch(`${tokenEndpoint}?${params.toString()}`);\n      const { accessToken } = await res.json();\n      setToken(accessToken);\n    };\n    tokenFetcher();\n  }, [tokenEndpoint, roomName, options]);\n  return token;\n}\n","import { setupTrackMutedIndicator } from '@livekit/components-core';\nimport type { Participant, Track } from 'livekit-client';\nimport * as React from 'react';\nimport { useEnsureParticipant } from '../context';\nimport { useObservableState } from './internal';\n\n/** @public */\nexport interface UseTrackMutedIndicatorOptions {\n  participant?: Participant;\n}\n\n/** @public */\nexport function useTrackMutedIndicator(\n  source: Track.Source,\n  options: UseTrackMutedIndicatorOptions = {},\n) {\n  const p = useEnsureParticipant(options.participant);\n  const { className, mediaMutedObserver } = React.useMemo(\n    () => setupTrackMutedIndicator(p, source),\n    [p, source],\n  );\n\n  const isMuted = useObservableState(mediaMutedObserver, !!p.getTrack(source)?.isMuted);\n\n  return { isMuted, className };\n}\n","import type { Styles } from '@livekit/components-styles/dist/types_unprefixed/index.scss';\nimport type { Participant } from 'livekit-client';\nimport { Track } from 'livekit-client';\nimport { mutedObserver } from '../observables/participant';\nimport { prefixClass } from '../styles-interface';\n\nexport function setupTrackMutedIndicator(participant: Participant, source: Track.Source) {\n  let classForSource: keyof Styles = 'track-muted-indicator-camera';\n  switch (source) {\n    case Track.Source.Camera:\n      classForSource = 'track-muted-indicator-camera';\n      break;\n    case Track.Source.Microphone:\n      classForSource = 'track-muted-indicator-microphone';\n      break;\n\n    default:\n      break;\n  }\n  const className: string = prefixClass(classForSource);\n  const mediaMutedObserver = mutedObserver(participant, source);\n\n  return { className, mediaMutedObserver };\n}\n","import type { ToggleSource } from '@livekit/components-core';\nimport { setupMediaToggle, setupManualToggle, log } from '@livekit/components-core';\nimport * as React from 'react';\nimport type { TrackToggleProps } from '../components';\nimport { useMaybeRoomContext } from '../context';\nimport { mergeProps } from '../mergeProps';\nimport { useObservableState } from './internal';\n\n/** @public */\nexport interface UseTrackToggleProps<T extends ToggleSource>\n  extends Omit<TrackToggleProps<T>, 'showIcon'> {}\n\n/** @public */\nexport function useTrackToggle<T extends ToggleSource>({\n  source,\n  onChange,\n  initialState,\n  captureOptions,\n  ...rest\n}: UseTrackToggleProps<T>) {\n  const room = useMaybeRoomContext();\n  const track = room?.localParticipant?.getTrack(source);\n\n  const { toggle, className, pendingObserver, enabledObserver } = React.useMemo(\n    () => (room ? setupMediaToggle<T>(source, room, captureOptions) : setupManualToggle()),\n    [room, source, JSON.stringify(captureOptions)],\n  );\n\n  const pending = useObservableState(pendingObserver, false);\n  const enabled = useObservableState(enabledObserver, initialState ?? !!track?.isEnabled);\n\n  React.useEffect(() => {\n    onChange?.(enabled);\n  }, [enabled, onChange]);\n\n  React.useEffect(() => {\n    if (initialState !== undefined) {\n      log.debug('forcing initial toggle state', source, initialState);\n      toggle(initialState);\n    }\n    // only execute once at the beginning\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const newProps = React.useMemo(() => mergeProps(rest, { className }), [rest, className]);\n\n  const clickHandler: React.MouseEventHandler<HTMLButtonElement> = React.useCallback(\n    (evt) => {\n      toggle();\n      rest.onClick?.(evt);\n    },\n    [rest, toggle],\n  );\n\n  return {\n    toggle,\n    enabled,\n    pending,\n    track,\n    buttonProps: {\n      ...newProps,\n      'aria-pressed': enabled,\n      'data-lk-source': source,\n      'data-lk-enabled': enabled,\n      disabled: pending,\n      onClick: clickHandler,\n    } as React.ButtonHTMLAttributes<HTMLButtonElement>,\n  };\n}\n","import type {\n  AudioCaptureOptions,\n  LocalParticipant,\n  Room,\n  ScreenShareCaptureOptions,\n  VideoCaptureOptions,\n} from 'livekit-client';\nimport { Track } from 'livekit-client';\nimport type { Observable } from 'rxjs';\nimport { Subject, map, startWith } from 'rxjs';\nimport { observeParticipantMedia } from '../observables/participant';\nimport { prefixClass } from '../styles-interface';\n\nexport type CaptureOptionsBySource<T extends ToggleSource> = T extends Track.Source.Camera\n  ? VideoCaptureOptions\n  : T extends Track.Source.Microphone\n  ? AudioCaptureOptions\n  : T extends Track.Source.ScreenShare\n  ? ScreenShareCaptureOptions\n  : never;\n\nexport type MediaToggleType<T extends ToggleSource> = {\n  pendingObserver: Observable<boolean>;\n  toggle: (forceState?: boolean, captureOptions?: CaptureOptionsBySource<T>) => Promise<void>;\n  className: string;\n  enabledObserver: Observable<boolean>;\n};\n\nexport type ToggleSource = Exclude<\n  Track.Source,\n  Track.Source.ScreenShareAudio | Track.Source.Unknown\n>;\n\nexport function setupMediaToggle<T extends ToggleSource>(\n  source: T,\n  room: Room,\n  options?: CaptureOptionsBySource<T>,\n): MediaToggleType<T> {\n  const { localParticipant } = room;\n\n  const getSourceEnabled = (source: ToggleSource, localParticipant: LocalParticipant) => {\n    let isEnabled = false;\n    switch (source) {\n      case Track.Source.Camera:\n        isEnabled = localParticipant.isCameraEnabled;\n        break;\n      case Track.Source.Microphone:\n        isEnabled = localParticipant.isMicrophoneEnabled;\n        break;\n      case Track.Source.ScreenShare:\n        isEnabled = localParticipant.isScreenShareEnabled;\n        break;\n      default:\n        break;\n    }\n    return isEnabled;\n  };\n\n  const enabledObserver = observeParticipantMedia(localParticipant).pipe(\n    map((media) => {\n      return getSourceEnabled(source, media.participant as LocalParticipant);\n    }),\n    startWith(getSourceEnabled(source, localParticipant)),\n  );\n\n  const pendingSubject = new Subject<boolean>();\n  const toggle = async (forceState?: boolean, captureOptions?: CaptureOptionsBySource<T>) => {\n    try {\n      captureOptions ??= options;\n      // trigger observable update\n      pendingSubject.next(true);\n      switch (source) {\n        case Track.Source.Camera:\n          await localParticipant.setCameraEnabled(\n            forceState ?? !localParticipant.isCameraEnabled,\n            captureOptions as VideoCaptureOptions,\n          );\n          break;\n        case Track.Source.Microphone:\n          await localParticipant.setMicrophoneEnabled(\n            forceState ?? !localParticipant.isMicrophoneEnabled,\n            captureOptions as AudioCaptureOptions,\n          );\n          break;\n        case Track.Source.ScreenShare:\n          await localParticipant.setScreenShareEnabled(\n            forceState ?? !localParticipant.isScreenShareEnabled,\n            captureOptions as ScreenShareCaptureOptions,\n          );\n          break;\n        default:\n          break;\n      }\n    } finally {\n      pendingSubject.next(false);\n      // trigger observable update\n    }\n  };\n\n  const className: string = prefixClass('button');\n  return {\n    className,\n    toggle,\n    enabledObserver,\n    pendingObserver: pendingSubject.asObservable(),\n  };\n}\n\nexport function setupManualToggle() {\n  let state = false;\n\n  const enabledSubject = new Subject<boolean>();\n\n  const pendingSubject = new Subject<boolean>();\n\n  const toggle = (forceState?: boolean) => {\n    pendingSubject.next(true);\n    state = forceState ?? !state;\n    enabledSubject.next(state);\n    pendingSubject.next(false);\n  };\n  const className: string = prefixClass('button');\n  return {\n    className,\n    toggle,\n    enabledObserver: enabledSubject.asObservable(),\n    pendingObserver: pendingSubject.asObservable(),\n  };\n}\n","import type {\n  SourcesArray,\n  TrackReference,\n  TrackReferenceOrPlaceholder,\n  TrackSourceWithOptions,\n  TrackReferencePlaceholder,\n} from '@livekit/components-core';\nimport {\n  isSourcesWithOptions,\n  isSourceWitOptions,\n  log,\n  trackReferencesObservable,\n} from '@livekit/components-core';\nimport type { Participant, Room, RoomEvent } from 'livekit-client';\nimport { Track } from 'livekit-client';\nimport * as React from 'react';\nimport { useEnsureRoom } from '../context';\n\n/** @public */\nexport type UseTracksOptions = {\n  updateOnlyOn?: RoomEvent[];\n  onlySubscribed?: boolean;\n  room?: Room;\n};\n\n/** @public */\nexport type UseTracksHookReturnType<T> = T extends Track.Source[]\n  ? TrackReference[]\n  : T extends TrackSourceWithOptions[]\n  ? TrackReferenceOrPlaceholder[]\n  : never;\n\n/**\n * The `useTracks` hook returns an array of `TrackReference` or `TrackReferenceOrPlaceholder` depending on the provided `sources` property.\n * If only subscribed tracks are desired, set the `onlySubscribed` property to `true`.\n * @example\n * ```ts\n * // Return all camera track publications.\n * const trackReferences: TrackReference[] = useTracks([Track.Source.Camera])\n * ```\n * @example\n * ```ts\n * // Return all subscribed camera tracks as well as placeholders for\n * // participants without a camera subscription.\n * const trackReferencesWithPlaceholders: TrackReferenceOrPlaceholder[] = useTracks([{source: Track.Source.Camera, withPlaceholder: true}])\n * ```\n * @public\n */\nexport function useTracks<T extends SourcesArray = Track.Source[]>(\n  sources: T = [\n    Track.Source.Camera,\n    Track.Source.Microphone,\n    Track.Source.ScreenShare,\n    Track.Source.ScreenShareAudio,\n    Track.Source.Unknown,\n  ] as T,\n  options: UseTracksOptions = {},\n): UseTracksHookReturnType<T> {\n  const room = useEnsureRoom(options.room);\n  const [trackReferences, setTrackReferences] = React.useState<TrackReference[]>([]);\n  const [participants, setParticipants] = React.useState<Participant[]>([]);\n\n  const sources_ = React.useMemo(() => {\n    return sources.map((s) => (isSourceWitOptions(s) ? s.source : s));\n  }, [JSON.stringify(sources)]);\n\n  React.useEffect(() => {\n    const subscription = trackReferencesObservable(room, sources_, {\n      additionalRoomEvents: options.updateOnlyOn,\n      onlySubscribed: options.onlySubscribed,\n    }).subscribe(({ trackReferences, participants }) => {\n      log.debug('setting track bundles', trackReferences, participants);\n      setTrackReferences(trackReferences);\n      setParticipants(participants);\n    });\n    return () => subscription.unsubscribe();\n  }, [room, JSON.stringify(options.updateOnlyOn), JSON.stringify(sources)]);\n\n  const maybeTrackReferences = React.useMemo(() => {\n    if (isSourcesWithOptions(sources)) {\n      const requirePlaceholder = requiredPlaceholders(sources, participants);\n      const trackReferencesWithPlaceholders: TrackReferenceOrPlaceholder[] =\n        Array.from(trackReferences);\n      participants.forEach((participant) => {\n        if (requirePlaceholder.has(participant.identity)) {\n          const sourcesToAddPlaceholder = requirePlaceholder.get(participant.identity) ?? [];\n          sourcesToAddPlaceholder.forEach((placeholderSource) => {\n            if (\n              trackReferences.find(\n                ({ participant: p, publication }) =>\n                  participant.identity === p.identity && publication.source === placeholderSource,\n              )\n            ) {\n              return;\n            }\n            log.debug(\n              `Add ${placeholderSource} placeholder for participant ${participant.identity}.`,\n            );\n            const placeholder: TrackReferencePlaceholder = {\n              participant,\n              source: placeholderSource,\n            };\n            trackReferencesWithPlaceholders.push(placeholder);\n          });\n        }\n      });\n      return trackReferencesWithPlaceholders;\n    } else {\n      return trackReferences;\n    }\n  }, [trackReferences, participants, sources]);\n\n  return maybeTrackReferences as UseTracksHookReturnType<T>;\n}\n\nfunction difference<T>(setA: Set<T>, setB: Set<T>): Set<T> {\n  const _difference = new Set(setA);\n  for (const elem of setB) {\n    _difference.delete(elem);\n  }\n  return _difference;\n}\n\nexport function requiredPlaceholders<T extends SourcesArray>(\n  sources: T,\n  participants: Participant[],\n): Map<Participant['identity'], Track.Source[]> {\n  const placeholderMap = new Map<Participant['identity'], Track.Source[]>();\n  if (isSourcesWithOptions(sources)) {\n    const sourcesThatNeedPlaceholder = sources\n      .filter((sourceWithOption) => sourceWithOption.withPlaceholder)\n      .map((sourceWithOption) => sourceWithOption.source);\n\n    participants.forEach((participant) => {\n      const sourcesOfSubscribedTracks = participant\n        .getTracks()\n        .map((pub) => pub.track?.source)\n        .filter((trackSource): trackSource is Track.Source => trackSource !== undefined);\n      const placeholderNeededForThisParticipant = Array.from(\n        difference(new Set(sourcesThatNeedPlaceholder), new Set(sourcesOfSubscribedTracks)),\n      );\n      // If the participant needs placeholder add it to the placeholder map.\n      if (placeholderNeededForThisParticipant.length > 0) {\n        placeholderMap.set(participant.identity, placeholderNeededForThisParticipant);\n      }\n    });\n  }\n  return placeholderMap;\n}\n","import * as React from 'react';\nimport { useChatToggle } from '../../hooks';\n\n/** @public */\nexport interface ChatToggleProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {}\n\n/**\n * The ChatToggle component toggles the visibility of the chat component.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <ToggleChat />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function ChatToggle(props: ChatToggleProps) {\n  const { mergedProps } = useChatToggle({ props });\n\n  return <button {...mergedProps}>{props.children}</button>;\n}\n","import * as React from 'react';\nimport { useDisconnectButton } from '../../hooks';\n\n/** @public */\nexport interface DisconnectButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  stopTracks?: boolean;\n}\n\n/**\n * The DisconnectButton is a basic html button with the added ability to disconnect from a LiveKit room.\n * Normally, it is used by end-users to leave a video or audio call.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <DisconnectButton>Leave room</DisconnectButton>\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function DisconnectButton(props: DisconnectButtonProps) {\n  const { buttonProps } = useDisconnectButton(props);\n  return <button {...buttonProps}>{props.children}</button>;\n}\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgCameraDisabledIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <path d=\"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z\" />\n    <path d=\"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" />\n  </svg>\n);\nexport default SvgCameraDisabledIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgCameraIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <path d=\"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" />\n  </svg>\n);\nexport default SvgCameraIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgChatIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={18} fill=\"none\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgChatIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgChevron = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentcolor\"\n      fillRule=\"evenodd\"\n      d=\"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgChevron;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgFocusToggleIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <g stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5}>\n      <path d=\"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9\" />\n    </g>\n  </svg>\n);\nexport default SvgFocusToggleIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgLeaveIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgLeaveIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgMicDisabledIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <path d=\"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z\" />\n    <path d=\"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z\" />\n  </svg>\n);\nexport default SvgMicDisabledIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgMicIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <path\n      fillRule=\"evenodd\"\n      d=\"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z\"\n      clipRule=\"evenodd\"\n    />\n    <path d=\"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z\" />\n  </svg>\n);\nexport default SvgMicIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgQualityExcellentIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentcolor\" {...props}>\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n  </svg>\n);\nexport default SvgQualityExcellentIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgQualityGoodIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentcolor\" {...props}>\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <g opacity={0.25}>\n      <path d=\"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n      <path d=\"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    </g>\n  </svg>\n);\nexport default SvgQualityGoodIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgQualityPoorIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentcolor\" {...props}>\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <g opacity={0.25}>\n      <path d=\"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n      <path d=\"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n      <path d=\"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    </g>\n  </svg>\n);\nexport default SvgQualityPoorIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgQualityUnknownIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <g opacity={0.25}>\n      <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" />\n      <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" />\n    </g>\n  </svg>\n);\nexport default SvgQualityUnknownIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgScreenShareIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={20} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgScreenShareIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgScreenShareStopIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={20} height={16} fill=\"none\" {...props}>\n    <g fill=\"currentColor\">\n      <path d=\"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z\" />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z\"\n        clipRule=\"evenodd\"\n      />\n    </g>\n  </svg>\n);\nexport default SvgScreenShareStopIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgSpinnerIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z\"\n      clipRule=\"evenodd\"\n      opacity={0.7}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z\"\n      clipRule=\"evenodd\"\n      opacity={0.6}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z\"\n      clipRule=\"evenodd\"\n      opacity={0.5}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z\"\n      clipRule=\"evenodd\"\n      opacity={0.4}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z\"\n      clipRule=\"evenodd\"\n      opacity={0.9}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z\"\n      clipRule=\"evenodd\"\n      opacity={0.3}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z\"\n      clipRule=\"evenodd\"\n      opacity={0.8}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z\"\n      clipRule=\"evenodd\"\n      opacity={0.2}\n    />\n  </svg>\n);\nexport default SvgSpinnerIcon;\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgUnfocusToggleIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <g stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5}>\n      <path d=\"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25\" />\n    </g>\n  </svg>\n);\nexport default SvgUnfocusToggleIcon;\n","import type { Participant, Track } from 'livekit-client';\nimport * as React from 'react';\nimport { LayoutContext } from '../../context';\nimport { FocusToggleIcon, UnfocusToggleIcon } from '../../assets/icons';\nimport { useFocusToggle } from '../../hooks';\n\n/** @public */\nexport interface FocusToggleProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  trackSource: Track.Source;\n  participant?: Participant;\n}\n\n/**\n * The FocusToggle puts the ParticipantTile in focus or removes it from focus.\n *\n * @example\n * ```tsx\n * <ParticipantTile>\n *   <FocusToggle />\n * </ParticipantTile>\n * ```\n * @public\n */\nexport function FocusToggle({ trackSource, participant, ...props }: FocusToggleProps) {\n  const { mergedProps, inFocus } = useFocusToggle({ trackSource, participant, props });\n\n  return (\n    <LayoutContext.Consumer>\n      {(layoutContext) =>\n        layoutContext !== undefined && (\n          <button {...mergedProps}>\n            {props.children ? (\n              props.children\n            ) : inFocus ? (\n              <UnfocusToggleIcon />\n            ) : (\n              <FocusToggleIcon />\n            )}\n          </button>\n        )\n      }\n    </LayoutContext.Consumer>\n  );\n}\n","import * as React from 'react';\nimport { useMaybeRoomContext } from '../../context';\nimport { mergeProps } from '../../utils';\nimport type { LocalAudioTrack, LocalVideoTrack } from 'livekit-client';\nimport { useMediaDeviceSelect } from '../../hooks';\n\n/** @public */\nexport interface MediaDeviceSelectProps extends React.HTMLAttributes<HTMLUListElement> {\n  kind: MediaDeviceKind;\n  onActiveDeviceChange?: (deviceId: string) => void;\n  onDeviceListChange?: (devices: MediaDeviceInfo[]) => void;\n  onDeviceSelectError?: (e: Error) => void;\n  initialSelection?: string;\n  /** will force the browser to only return the specified device\n   * will call `onDeviceSelectError` with the error in case this fails\n   */\n  exactMatch?: boolean;\n  track?: LocalAudioTrack | LocalVideoTrack;\n  /**\n   * this will call getUserMedia if the permissions are not yet given to enumerate the devices with device labels.\n   * in some browsers multiple calls to getUserMedia result in multiple permission prompts.\n   * It's generally advised only flip this to true, once a (preview) track has been acquired successfully with the\n   * appropriate permissions.\n   *\n   * @see {@link MediaDeviceMenu}\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices | MDN enumerateDevices}\n   */\n  requestPermissions?: boolean;\n}\n\n/**\n * The MediaDeviceSelect list all media devices of one kind.\n * Clicking on one of the listed devices make it the active media device.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <MediaDeviceSelect kind='audioinput' />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function MediaDeviceSelect({\n  kind,\n  initialSelection,\n  onActiveDeviceChange,\n  onDeviceListChange,\n  onDeviceSelectError,\n  exactMatch,\n  track,\n  requestPermissions,\n  ...props\n}: MediaDeviceSelectProps) {\n  const room = useMaybeRoomContext();\n  const { devices, activeDeviceId, setActiveMediaDevice, className } = useMediaDeviceSelect({\n    kind,\n    room,\n    track,\n    requestPermissions,\n  });\n  React.useEffect(() => {\n    if (initialSelection !== undefined) {\n      setActiveMediaDevice(initialSelection);\n    }\n  }, [setActiveMediaDevice]);\n\n  React.useEffect(() => {\n    if (typeof onDeviceListChange === 'function') {\n      onDeviceListChange(devices);\n    }\n  }, [onDeviceListChange, devices]);\n\n  React.useEffect(() => {\n    if (activeDeviceId && activeDeviceId !== '') {\n      onActiveDeviceChange?.(activeDeviceId);\n    }\n  }, [activeDeviceId]);\n\n  const handleActiveDeviceChange = async (deviceId: string) => {\n    try {\n      await setActiveMediaDevice(deviceId, { exact: exactMatch });\n    } catch (e) {\n      if (e instanceof Error) {\n        onDeviceSelectError?.(e);\n      } else {\n        throw e;\n      }\n    }\n  };\n  // Merge Props\n  const mergedProps = React.useMemo(\n    () => mergeProps(props, { className }, { className: 'lk-list' }),\n    [className, props],\n  );\n\n  function isActive(deviceId: string, activeDeviceId: string, index: number) {\n    return deviceId === activeDeviceId || (index === 0 && activeDeviceId === 'default');\n  }\n\n  return (\n    <ul {...mergedProps}>\n      {devices.map((device, index) => (\n        <li\n          key={device.deviceId}\n          id={device.deviceId}\n          data-lk-active={isActive(device.deviceId, activeDeviceId, index)}\n          aria-selected={isActive(device.deviceId, activeDeviceId, index)}\n          role=\"option\"\n        >\n          <button className=\"lk-button\" onClick={() => handleActiveDeviceChange(device.deviceId)}>\n            {device.label}\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { createMediaDeviceObserver, setupDeviceSelector, log } from '@livekit/components-core';\nimport type { LocalAudioTrack, LocalVideoTrack, Room } from 'livekit-client';\nimport * as React from 'react';\nimport { useMaybeRoomContext } from '../context';\nimport { useObservableState } from './internal';\n\n/** @public */\nexport interface UseMediaDeviceSelectProps {\n  kind: MediaDeviceKind;\n  room?: Room;\n  track?: LocalAudioTrack | LocalVideoTrack;\n  /**\n   * this will call getUserMedia if the permissions are not yet given to enumerate the devices with device labels.\n   * in some browsers multiple calls to getUserMedia result in multiple permission prompts.\n   * It's generally advised only flip this to true, once a (preview) track has been acquired successfully with the\n   * appropriate permissions.\n   *\n   * @see {@link MediaDeviceMenu}\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices | MDN enumerateDevices}\n   */\n  requestPermissions?: boolean;\n}\n\n/** @public */\nexport function useMediaDeviceSelect({\n  kind,\n  room,\n  track,\n  requestPermissions,\n}: UseMediaDeviceSelectProps) {\n  const roomContext = useMaybeRoomContext();\n  // List of all devices.\n  const deviceObserver = React.useMemo(\n    () => createMediaDeviceObserver(kind, requestPermissions),\n    [kind, requestPermissions],\n  );\n  const devices = useObservableState(deviceObserver, []);\n  // Active device management.\n  const [currentDeviceId, setCurrentDeviceId] = React.useState<string>('');\n  const { className, activeDeviceObservable, setActiveMediaDevice } = React.useMemo(\n    () => setupDeviceSelector(kind, room ?? roomContext, track),\n    [kind, room, roomContext, track],\n  );\n\n  React.useEffect(() => {\n    const listener = activeDeviceObservable.subscribe((deviceId) => {\n      log.info('setCurrentDeviceId', deviceId);\n      if (deviceId) setCurrentDeviceId(deviceId);\n    });\n    return () => {\n      listener?.unsubscribe();\n    };\n  }, [activeDeviceObservable]);\n\n  return { devices, className, activeDeviceId: currentDeviceId, setActiveMediaDevice };\n}\n","import * as React from 'react';\nimport { useRoomContext } from '../../context';\nimport { useStartAudio } from '../../hooks';\n\n/** @public */\nexport interface AllowAudioPlaybackProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  label: string;\n}\n\n/**\n * The StartAudio component is only visible when the browser blocks audio playback. This is due to some browser implemented autoplay policies.\n * To start audio playback, the user must perform a user-initiated event such as clicking this button.\n * As soon as audio playback starts, the button hides itself again.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <StartAudio label=\"Click to allow audio playback\" />\n * </LiveKitRoom>\n * ```\n *\n * @see Autoplay policy on MDN web docs: {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Best_practices#autoplay_policy}\n * @public\n */\nexport function StartAudio({ label = 'Allow Audio', ...props }: AllowAudioPlaybackProps) {\n  const room = useRoomContext();\n  const { mergedProps } = useStartAudio({ room, props });\n\n  return <button {...mergedProps}>{label}</button>;\n}\n","import * as React from 'react';\nimport { ConnectionQuality, Track } from 'livekit-client';\n\nimport {\n  MicIcon,\n  MicDisabledIcon,\n  CameraIcon,\n  CameraDisabledIcon,\n  QualityUnknownIcon,\n  QualityExcellentIcon,\n  QualityGoodIcon,\n  QualityPoorIcon,\n  ScreenShareIcon,\n  ScreenShareStopIcon,\n} from './index';\n\n/**\n * @internal\n */\nexport function getSourceIcon(source: Track.Source, enabled: boolean) {\n  switch (source) {\n    case Track.Source.Microphone:\n      return enabled ? <MicIcon /> : <MicDisabledIcon />;\n    case Track.Source.Camera:\n      return enabled ? <CameraIcon /> : <CameraDisabledIcon />;\n    case Track.Source.ScreenShare:\n      return enabled ? <ScreenShareStopIcon /> : <ScreenShareIcon />;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * @internal\n */\nexport function getConnectionQualityIcon(quality: ConnectionQuality) {\n  switch (quality) {\n    case ConnectionQuality.Excellent:\n      return <QualityExcellentIcon />;\n    case ConnectionQuality.Good:\n      return <QualityGoodIcon />;\n    case ConnectionQuality.Poor:\n      return <QualityPoorIcon />;\n    default:\n      return <QualityUnknownIcon />;\n  }\n}\n","import type { CaptureOptionsBySource, ToggleSource } from '@livekit/components-core';\nimport * as React from 'react';\nimport { getSourceIcon } from '../../assets/icons/util';\nimport { useTrackToggle } from '../../hooks';\n\n/** @public */\nexport interface TrackToggleProps<T extends ToggleSource>\n  extends Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'onChange'> {\n  source: T;\n  showIcon?: boolean;\n  initialState?: boolean;\n  onChange?: (enabled: boolean) => void;\n  captureOptions?: CaptureOptionsBySource<T>;\n}\n\n/**\n * With the TrackToggle component it is possible to mute and unmute your camera and microphone.\n * The component uses an html button element under the hood so you can treat it like a button.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <TrackToggle source={Track.Source.Microphone} />\n *   <TrackToggle source={Track.Source.Camera} />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function TrackToggle<T extends ToggleSource>({ showIcon, ...props }: TrackToggleProps<T>) {\n  const { buttonProps, enabled } = useTrackToggle(props);\n  return (\n    <button {...buttonProps}>\n      {(showIcon ?? true) && getSourceIcon(props.source, enabled)}\n      {props.children}\n    </button>\n  );\n}\n","import * as React from 'react';\nimport { mergeProps } from '../../utils';\nimport { getConnectionQualityIcon } from '../../assets/icons/util';\nimport type { ConnectionQualityIndicatorOptions } from '../../hooks';\nimport { useConnectionQualityIndicator } from '../../hooks';\n\n/** @public */\nexport interface ConnectionQualityIndicatorProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    ConnectionQualityIndicatorOptions {}\n\n/**\n * The ConnectionQualityIndicator shows the individual connection quality of a participant.\n *\n * @example\n * ```tsx\n * <ConnectionQualityIndicator />\n * ```\n * @public\n */\nexport function ConnectionQualityIndicator(props: ConnectionQualityIndicatorProps) {\n  const { className, quality } = useConnectionQualityIndicator(props);\n  const elementProps = React.useMemo(() => {\n    return { ...mergeProps(props, { className: className as string }), 'data-lk-quality': quality };\n  }, [quality, props, className]);\n  return <div {...elementProps}>{props.children ?? getConnectionQualityIcon(quality)}</div>;\n}\n","import { setupConnectionQualityIndicator } from '@livekit/components-core';\nimport type { Participant } from 'livekit-client';\nimport { ConnectionQuality } from 'livekit-client';\nimport * as React from 'react';\nimport { useEnsureParticipant } from '../context';\nimport { useObservableState } from './internal';\n\n/** @public */\nexport interface ConnectionQualityIndicatorOptions {\n  participant?: Participant;\n}\n\n/** @public */\nexport function useConnectionQualityIndicator(options: ConnectionQualityIndicatorOptions = {}) {\n  const p = useEnsureParticipant(options.participant);\n\n  const { className, connectionQualityObserver } = React.useMemo(\n    () => setupConnectionQualityIndicator(p),\n    [p],\n  );\n\n  const quality = useObservableState(connectionQualityObserver, ConnectionQuality.Unknown);\n\n  return { className, quality };\n}\n","import { setupParticipantName } from '@livekit/components-core';\nimport * as React from 'react';\nimport { useEnsureParticipant } from '../../context';\nimport { useObservableState } from '../../hooks/internal/useObservableState';\nimport { mergeProps } from '../../utils';\nimport type { UseParticipantInfoOptions } from '../../hooks';\n\n/** @public */\nexport interface ParticipantNameProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    UseParticipantInfoOptions {}\n\n/**\n * The ParticipantName component displays the name of the participant as a string within an HTML span element.\n * If no participant name is undefined the participant identity string is displayed.\n *\n * @example\n * ```tsx\n * <ParticipantName />\n * ```\n * @public\n */\nexport function ParticipantName({ participant, ...props }: ParticipantNameProps) {\n  const p = useEnsureParticipant(participant);\n\n  const { className, infoObserver } = React.useMemo(() => {\n    return setupParticipantName(p);\n  }, [p]);\n\n  const { identity, name } = useObservableState(infoObserver, {\n    name: p.name,\n    identity: p.identity,\n    metadata: p.metadata,\n  });\n\n  const mergedProps = React.useMemo(() => {\n    return mergeProps(props, { className, 'data-lk-participant-name': name });\n  }, [props, className, name]);\n\n  return (\n    <span {...mergedProps}>\n      {name !== '' ? name : identity}\n      {props.children}\n    </span>\n  );\n}\n","import * as React from 'react';\nimport { mergeProps } from '../../utils';\nimport type { Participant, Track } from 'livekit-client';\nimport { getSourceIcon } from '../../assets/icons/util';\nimport { useTrackMutedIndicator } from '../../hooks';\n\n/** @public */\nexport interface TrackMutedIndicatorProps extends React.HTMLAttributes<HTMLDivElement> {\n  source: Track.Source;\n  participant?: Participant;\n  show?: 'always' | 'muted' | 'unmuted';\n}\n\n/**\n * The TrackMutedIndicator shows whether the participant's camera or microphone is muted or not.\n *\n * @example\n * ```tsx\n * <TrackMutedIndicator source={Track.Source.Camera} />\n * <TrackMutedIndicator source={Track.Source.Microphone} />\n * ```\n * @public\n */\nexport function TrackMutedIndicator({\n  source,\n  participant,\n  show = 'always',\n  ...props\n}: TrackMutedIndicatorProps) {\n  const { className, isMuted } = useTrackMutedIndicator(source, { participant });\n\n  const showIndicator =\n    show === 'always' || (show === 'muted' && isMuted) || (show === 'unmuted' && !isMuted);\n\n  const htmlProps = React.useMemo(\n    () =>\n      mergeProps(props, {\n        className,\n      }),\n    [className, props],\n  );\n\n  if (!showIndicator) {\n    return null;\n  }\n\n  return (\n    <div {...htmlProps} data-lk-muted={isMuted}>\n      {props.children ?? getSourceIcon(source, !isMuted)}\n    </div>\n  );\n}\n","import * as React from 'react';\nimport type { SVGProps } from 'react';\nconst SvgParticipantPlaceholder = (props: SVGProps<SVGSVGElement>) => (\n  <svg\n    width={320}\n    height={320}\n    viewBox=\"0 0 320 320\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z\"\n      fill=\"white\"\n      fillOpacity={0.25}\n    />\n    <path\n      d=\"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z\"\n      fill=\"white\"\n      fillOpacity={0.25}\n    />\n  </svg>\n);\nexport default SvgParticipantPlaceholder;\n","import type { Participant, Track, TrackPublication } from 'livekit-client';\nimport * as React from 'react';\nimport { useMediaTrackBySourceOrName } from '../../hooks/useMediaTrackBySourceOrName';\nimport type { ParticipantClickEvent } from '@livekit/components-core';\nimport { useEnsureParticipant } from '../../context';\n\n/** @public */\nexport interface VideoTrackProps extends React.HTMLAttributes<HTMLVideoElement> {\n  source: Track.Source;\n  name?: string;\n  participant?: Participant;\n  publication?: TrackPublication;\n  onTrackClick?: (evt: ParticipantClickEvent) => void;\n  onSubscriptionStatusChanged?: (subscribed: boolean) => void;\n}\n\n/**\n * The VideoTrack component is responsible for rendering participant video tracks like `camera` and `screen_share`.\n * This component must have access to the participant's context, or alternatively pass it a `Participant` as a property.\n *\n * @example\n * ```tsx\n * <VideoTrack source={Track.Source.Camera} />\n * ```\n * @see {@link @livekit/components-react#ParticipantTile |ParticipantTile}\n * @public\n */\nexport function VideoTrack({\n  onTrackClick,\n  onClick,\n  onSubscriptionStatusChanged,\n  name,\n  publication,\n  source,\n  participant: p,\n  ...props\n}: VideoTrackProps) {\n  const mediaEl = React.useRef<HTMLVideoElement>(null);\n  const participant = useEnsureParticipant(p);\n  const {\n    elementProps,\n    publication: pub,\n    isSubscribed,\n  } = useMediaTrackBySourceOrName(\n    { participant, name, source, publication },\n    {\n      element: mediaEl,\n      props,\n    },\n  );\n\n  React.useEffect(() => {\n    onSubscriptionStatusChanged?.(!!isSubscribed);\n  }, [isSubscribed, onSubscriptionStatusChanged]);\n\n  const clickHandler = (evt: React.MouseEvent<HTMLVideoElement, MouseEvent>) => {\n    onClick?.(evt);\n    onTrackClick?.({ participant, track: pub });\n  };\n\n  return <video ref={mediaEl} {...elementProps} muted={true} onClick={clickHandler}></video>;\n}\n","import type { Participant, Track, TrackPublication } from 'livekit-client';\nimport * as React from 'react';\nimport { useMediaTrackBySourceOrName } from '../../hooks/useMediaTrackBySourceOrName';\nimport { log } from '@livekit/components-core';\nimport { useEnsureParticipant } from '../../context';\nimport { RemoteAudioTrack } from 'livekit-client';\n\n/** @public */\nexport interface AudioTrackProps<T extends HTMLMediaElement = HTMLMediaElement>\n  extends React.HTMLAttributes<T> {\n  source: Track.Source;\n  name?: string;\n  participant?: Participant;\n  publication?: TrackPublication;\n  onSubscriptionStatusChanged?: (subscribed: boolean) => void;\n  /** by the default the range is between 0 and 1 */\n  volume?: number;\n}\n\n/**\n * The AudioTrack component is responsible for rendering participant audio tracks.\n * This component must have access to the participant's context, or alternatively pass it a `Participant` as a property.\n *\n * @example\n * ```tsx\n *   <ParticipantTile>\n *     <AudioTrack source={Track.Source.Microphone} />\n *   </ParticipantTile>\n * ```\n *\n * @see `ParticipantTile` component\n * @public\n */\nexport function AudioTrack({\n  onSubscriptionStatusChanged,\n  volume,\n  source,\n  name,\n  publication,\n  participant: p,\n  ...props\n}: AudioTrackProps) {\n  const mediaEl = React.useRef<HTMLAudioElement>(null);\n  const participant = useEnsureParticipant(p);\n\n  const { elementProps, isSubscribed, track } = useMediaTrackBySourceOrName(\n    { source, name, participant, publication },\n    {\n      element: mediaEl,\n      props,\n    },\n  );\n\n  React.useEffect(() => {\n    onSubscriptionStatusChanged?.(!!isSubscribed);\n  }, [isSubscribed, onSubscriptionStatusChanged]);\n\n  React.useEffect(() => {\n    if (track === undefined || volume === undefined) {\n      return;\n    }\n    if (track instanceof RemoteAudioTrack) {\n      track.setVolume(volume);\n    } else {\n      log.warn('volume can only be set on remote audio tracks');\n    }\n  }, [volume, track]);\n\n  return <audio ref={mediaEl} {...elementProps} />;\n}\n","import * as React from 'react';\nimport type { Participant, TrackPublication } from 'livekit-client';\nimport { Track } from 'livekit-client';\nimport type { ParticipantClickEvent, TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { isParticipantSourcePinned } from '@livekit/components-core';\nimport { ConnectionQualityIndicator } from './ConnectionQualityIndicator';\nimport { ParticipantName } from './ParticipantName';\nimport { TrackMutedIndicator } from './TrackMutedIndicator';\nimport {\n  ParticipantContext,\n  useEnsureParticipant,\n  useMaybeLayoutContext,\n  useMaybeParticipantContext,\n  useMaybeTrackContext,\n} from '../../context';\nimport { FocusToggle } from '../controls/FocusToggle';\nimport { ParticipantPlaceholder } from '../../assets/images';\nimport { ScreenShareIcon } from '../../assets/icons';\nimport { VideoTrack } from './VideoTrack';\nimport { AudioTrack } from './AudioTrack';\nimport { useParticipantTile } from '../../hooks';\n\n/** @public */\nexport function ParticipantContextIfNeeded(\n  props: React.PropsWithChildren<{\n    participant?: Participant;\n  }>,\n) {\n  const hasContext = !!useMaybeParticipantContext();\n  return props.participant && !hasContext ? (\n    <ParticipantContext.Provider value={props.participant}>\n      {props.children}\n    </ParticipantContext.Provider>\n  ) : (\n    <>{props.children}</>\n  );\n}\n\n/** @public */\nexport interface ParticipantTileProps extends React.HTMLAttributes<HTMLDivElement> {\n  disableSpeakingIndicator?: boolean;\n  participant?: Participant;\n  source?: Track.Source;\n  publication?: TrackPublication;\n  onParticipantClick?: (event: ParticipantClickEvent) => void;\n}\n\n/**\n * The ParticipantTile component is the base utility wrapper for displaying a visual representation of a participant.\n * This component can be used as a child of the `TrackLoop` component or by spreading a track reference as properties.\n *\n * @example\n * ```tsx\n * <ParticipantTile source={Track.Source.Camera} />\n *\n * <ParticipantTile {...trackReference} />\n * ```\n * @public\n */\nexport function ParticipantTile({\n  participant,\n  children,\n  source = Track.Source.Camera,\n  onParticipantClick,\n  publication,\n  disableSpeakingIndicator,\n  ...htmlProps\n}: ParticipantTileProps) {\n  const p = useEnsureParticipant(participant);\n  const trackRef: TrackReferenceOrPlaceholder = useMaybeTrackContext() ?? {\n    participant: p,\n    source,\n    publication,\n  };\n\n  const { elementProps } = useParticipantTile<HTMLDivElement>({\n    participant: trackRef.participant,\n    htmlProps,\n    source: trackRef.source,\n    publication: trackRef.publication,\n    disableSpeakingIndicator,\n    onParticipantClick,\n  });\n\n  const layoutContext = useMaybeLayoutContext();\n\n  const handleSubscribe = React.useCallback(\n    (subscribed: boolean) => {\n      if (\n        trackRef.source &&\n        !subscribed &&\n        layoutContext &&\n        layoutContext.pin.dispatch &&\n        isParticipantSourcePinned(trackRef.participant, trackRef.source, layoutContext.pin.state)\n      ) {\n        layoutContext.pin.dispatch({ msg: 'clear_pin' });\n      }\n    },\n    [trackRef.participant, layoutContext, trackRef.source],\n  );\n\n  return (\n    <div style={{ position: 'relative' }} {...elementProps}>\n      <ParticipantContextIfNeeded participant={trackRef.participant}>\n        {children ?? (\n          <>\n            {trackRef.publication?.kind === 'video' ||\n            trackRef.source === Track.Source.Camera ||\n            trackRef.source === Track.Source.ScreenShare ? (\n              <VideoTrack\n                participant={trackRef.participant}\n                source={trackRef.source}\n                publication={trackRef.publication}\n                onSubscriptionStatusChanged={handleSubscribe}\n              />\n            ) : (\n              <AudioTrack\n                participant={trackRef.participant}\n                source={trackRef.source}\n                publication={trackRef.publication}\n                onSubscriptionStatusChanged={handleSubscribe}\n              />\n            )}\n            <div className=\"lk-participant-placeholder\">\n              <ParticipantPlaceholder />\n            </div>\n            <div className=\"lk-participant-metadata\">\n              <div className=\"lk-participant-metadata-item\">\n                {trackRef.source === Track.Source.Camera ? (\n                  <>\n                    <TrackMutedIndicator\n                      source={Track.Source.Microphone}\n                      show={'muted'}\n                    ></TrackMutedIndicator>\n                    <ParticipantName />\n                  </>\n                ) : (\n                  <>\n                    <ScreenShareIcon style={{ marginRight: '0.25rem' }} />\n                    <ParticipantName>&apos;s screen</ParticipantName>\n                  </>\n                )}\n              </div>\n              <ConnectionQualityIndicator className=\"lk-participant-metadata-item\" />\n            </div>\n          </>\n        )}\n        <FocusToggle trackSource={trackRef.source} />\n      </ParticipantContextIfNeeded>\n    </div>\n  );\n}\n","import type { Participant } from 'livekit-client';\nimport * as React from 'react';\nimport { mergeProps } from '../../utils';\nimport type { TrackReference, TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { ParticipantTile } from '../participant/ParticipantTile';\nimport type { ParticipantClickEvent } from '@livekit/components-core';\n\n/** @public */\nexport interface FocusLayoutContainerProps extends React.HTMLAttributes<HTMLDivElement> {\n  focusTrack?: TrackReference;\n  participants?: Array<Participant>;\n}\n\n/** @public */\nexport function FocusLayoutContainer(props: FocusLayoutContainerProps) {\n  const elementProps = mergeProps(props, { className: 'lk-focus-layout' });\n\n  return <div {...elementProps}>{props.children}</div>;\n}\n\n/** @public */\nexport interface FocusLayoutProps extends React.HTMLAttributes<HTMLElement> {\n  track?: TrackReferenceOrPlaceholder;\n  onParticipantClick?: (evt: ParticipantClickEvent) => void;\n}\n\n/** @public */\nexport function FocusLayout({ track, ...htmlProps }: FocusLayoutProps) {\n  return <ParticipantTile {...track} {...htmlProps} />;\n}\n","import type { TrackReference, TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { isTrackReference } from '@livekit/components-core';\nimport * as React from 'react';\nimport { TrackContext } from '../context/track-context';\nimport { cloneSingleChild } from '../utils';\n\n/** @public */\nexport interface TrackLoopProps {\n  /** Track references to loop over. */\n  tracks: TrackReference[] | TrackReferenceOrPlaceholder[];\n  /** The template component to be used in the loop. */\n  children: React.ReactNode;\n}\n\n/**\n * The TrackLoop component loops over tracks. It is for example a easy way to loop over all participant camera and screen share tracks.\n * TrackLoop creates a TrackContext for each track that you can use to e.g. render the track.\n *\n * @example\n * ```tsx\n * const tracks = useTracks([Track.Source.Camera]);\n * <TrackLoop tracks={tracks} >\n *  <TrackContext.Consumer>\n *    {(track) => track && <VideoTrack {...track}/>}\n *  </TrackContext.Consumer>\n * <TrackLoop />\n * ```\n * @public\n */\nexport function TrackLoop({ tracks, ...props }: TrackLoopProps) {\n  return (\n    <>\n      {tracks.map((trackReference) => {\n        const trackSource = isTrackReference(trackReference)\n          ? trackReference.publication.source\n          : trackReference.source;\n        return (\n          <TrackContext.Provider\n            value={trackReference}\n            key={`${trackReference.participant.identity}_${trackSource}`}\n          >\n            {cloneSingleChild(props.children)}\n          </TrackContext.Provider>\n        );\n      })}\n    </>\n  );\n}\n","import * as React from 'react';\nimport SvgChevron from '../../assets/icons/Chevron';\nimport type { usePagination } from '../../hooks';\nimport { createInteractingObservable } from '@livekit/components-core';\n\nexport interface PaginationControlProps\n  extends Pick<\n    ReturnType<typeof usePagination>,\n    'totalPageCount' | 'nextPage' | 'prevPage' | 'currentPage'\n  > {\n  /** Reference to an HTML element that holds the pages, while interacting (`mouseover`)\n   *  with it, the pagination controls will appear for a while. */\n  pagesContainer?: React.RefObject<HTMLElement>;\n}\n\nexport function PaginationControl({\n  totalPageCount,\n  nextPage,\n  prevPage,\n  currentPage,\n  pagesContainer: connectedElement,\n}: PaginationControlProps) {\n  const [interactive, setInteractive] = React.useState(false);\n  React.useEffect(() => {\n    let subscription:\n      | ReturnType<ReturnType<typeof createInteractingObservable>['subscribe']>\n      | undefined;\n    if (connectedElement) {\n      subscription = createInteractingObservable(connectedElement.current, 2000).subscribe(\n        setInteractive,\n      );\n    }\n    return () => {\n      if (subscription) {\n        subscription.unsubscribe();\n      }\n    };\n  }, [connectedElement]);\n\n  return (\n    <div className=\"lk-pagination-control\" data-lk-user-interaction={interactive}>\n      <button className=\"lk-button\" onClick={prevPage}>\n        <SvgChevron />\n      </button>\n      <span className=\"lk-pagination-count\">{`${currentPage} of ${totalPageCount}`}</span>\n      <button className=\"lk-button\" onClick={nextPage}>\n        <SvgChevron />\n      </button>\n    </div>\n  );\n}\n","import * as React from 'react';\n\nexport interface PaginationIndicatorProps {\n  totalPageCount: number;\n  currentPage: number;\n}\n\nexport function PaginationIndicator({ totalPageCount, currentPage }: PaginationIndicatorProps) {\n  const bubbles = new Array(totalPageCount).fill('').map((_, index) => {\n    if (index + 1 === currentPage) {\n      return <span data-lk-active key={index} />;\n    } else {\n      return <span key={index} />;\n    }\n  });\n\n  return <div className=\"lk-pagination-indicator\">{bubbles}</div>;\n}\n","import * as React from 'react';\nimport type { UseParticipantsOptions } from '../../hooks';\nimport { useGridLayout, usePagination, useSwipe } from '../../hooks';\nimport { mergeProps } from '../../utils';\nimport type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { TrackLoop } from '../TrackLoop';\nimport { PaginationControl } from '../controls/PaginationControl';\nimport { PaginationIndicator } from '../controls/PaginationIndicator';\n\n/** @public */\nexport interface GridLayoutProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    Pick<UseParticipantsOptions, 'updateOnlyOn'> {\n  children: React.ReactNode;\n  tracks: TrackReferenceOrPlaceholder[];\n}\n\n/**\n * The GridLayout component displays the nested participants in a grid where every participants has the same size.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <GridLayout tracks={tracks}>\n *     <ParticipantTile />\n *   </GridLayout>\n * <LiveKitRoom>\n * ```\n * @public\n */\nexport function GridLayout({ tracks, ...props }: GridLayoutProps) {\n  const gridEl = React.createRef<HTMLDivElement>();\n\n  const elementProps = React.useMemo(\n    () => mergeProps(props, { className: 'lk-grid-layout' }),\n    [props],\n  );\n  const { layout } = useGridLayout(gridEl, tracks.length);\n  const pagination = usePagination(layout.maxTiles, tracks);\n\n  useSwipe(gridEl, {\n    onLeftSwipe: pagination.nextPage,\n    onRightSwipe: pagination.prevPage,\n  });\n\n  return (\n    <div ref={gridEl} data-lk-pagination={pagination.totalPageCount > 1} {...elementProps}>\n      <TrackLoop tracks={pagination.tracks}>{props.children}</TrackLoop>\n      {tracks.length > layout.maxTiles && (\n        <>\n          <PaginationIndicator\n            totalPageCount={pagination.totalPageCount}\n            currentPage={pagination.currentPage}\n          />\n          <PaginationControl pagesContainer={gridEl} {...pagination} />\n        </>\n      )}\n    </div>\n  );\n}\n","import type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport * as React from 'react';\nimport { useVisualStableUpdate } from './useVisualStableUpdate';\n\n/**\n * The `usePagination` hook implements simple pagination logic for use with arrays.\n * @example\n * ```tsx\n * const tracks = useTracks();\n * const pagination = usePagination(4, tracks);\n *\n * <TrackLoop tracks={pagination.tracks} />\n * ```\n * @alpha\n */\nexport function usePagination(itemPerPage: number, trackReferences: TrackReferenceOrPlaceholder[]) {\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const totalPageCount = Math.max(Math.ceil(trackReferences.length / itemPerPage), 1);\n  if (currentPage > totalPageCount) {\n    setCurrentPage(totalPageCount);\n  }\n  const lastItemIndex = currentPage * itemPerPage;\n  const firstItemIndex = lastItemIndex - itemPerPage;\n\n  const changePage = (direction: 'next' | 'previous') => {\n    setCurrentPage((state) => {\n      if (direction === 'next') {\n        if (state === totalPageCount) {\n          return state;\n        }\n        return state + 1;\n      } else {\n        if (state === 1) {\n          return state;\n        }\n        return state - 1;\n      }\n    });\n  };\n\n  const goToPage = (num: number) => {\n    if (num > totalPageCount) {\n      setCurrentPage(totalPageCount);\n    } else if (num < 1) {\n      setCurrentPage(1);\n    } else {\n      setCurrentPage(num);\n    }\n  };\n\n  const updatedTrackReferences = useVisualStableUpdate(trackReferences, itemPerPage);\n\n  return {\n    totalPageCount,\n    nextPage: () => changePage('next'),\n    prevPage: () => changePage('previous'),\n    setPage: goToPage,\n    firstItemIndex,\n    lastItemIndex,\n    tracks: updatedTrackReferences.slice(firstItemIndex, lastItemIndex),\n    currentPage,\n  };\n}\n\nexport default usePagination;\n","import * as React from 'react';\n\n/**\n * @alpha\n */\nexport type UseSwipeOptions = {\n  minSwipeDistance?: number;\n  onLeftSwipe?: () => void;\n  onRightSwipe?: () => void;\n};\n\n/**\n * Simple implementation to detect horizontal swipe actions.\n * Accepts callbacks for on right and left swipes.\n * @example\n * ```tsx\n *  <div\n      onTouchStart={onTouchStart}\n      onTouchMove={onTouchMove}\n      onTouchEnd={onTouchEnd}\n    >\n * ```\n * @alpha\n */\nexport function useSwipe(element: React.RefObject<HTMLElement>, options: UseSwipeOptions = {}) {\n  const touchStart = React.useRef<number | null>(null);\n  const touchEnd = React.useRef<number | null>(null);\n\n  // The required distance between touchStart and touchEnd to be detected as a swipe.\n  const minSwipeDistance = options.minSwipeDistance ?? 50;\n\n  const onTouchStart = (event: TouchEvent) => {\n    touchEnd.current = null; // Otherwise the swipe is fired even with usual touch events.\n    touchStart.current = event.targetTouches[0].clientX;\n  };\n\n  const onTouchMove = (event: TouchEvent) => {\n    touchEnd.current = event.targetTouches[0].clientX;\n  };\n\n  const onTouchEnd = React.useCallback(() => {\n    if (!touchStart.current || !touchEnd.current) {\n      return;\n    }\n    const distance = touchStart.current - touchEnd.current;\n    const isLeftSwipe = distance > minSwipeDistance;\n    const isRightSwipe = distance < -minSwipeDistance;\n\n    if (isLeftSwipe && options.onLeftSwipe) options.onLeftSwipe();\n    if (isRightSwipe && options.onRightSwipe) options.onRightSwipe();\n  }, [minSwipeDistance, options]);\n\n  React.useEffect(() => {\n    const elementCopy = element.current;\n    if (elementCopy) {\n      elementCopy.addEventListener('touchstart', onTouchStart, { passive: true });\n      elementCopy.addEventListener('touchmove', onTouchMove, { passive: true });\n      elementCopy.addEventListener('touchend', onTouchEnd, { passive: true });\n    }\n    return () => {\n      if (elementCopy) {\n        elementCopy.removeEventListener('touchstart', onTouchStart);\n        elementCopy.removeEventListener('touchmove', onTouchMove);\n        elementCopy.removeEventListener('touchend', onTouchEnd);\n      }\n    };\n  }, [element, onTouchEnd]);\n}\n","import type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { getScrollBarWidth } from '@livekit/components-core';\nimport * as React from 'react';\nimport { useSize } from '../../hooks/internal';\nimport { useVisualStableUpdate } from '../../hooks';\nimport { TrackLoop } from '../TrackLoop';\n\nconst MIN_HEIGHT = 130;\nconst MIN_WIDTH = 140;\nconst MIN_VISIBLE_TILES = 1;\nconst ASPECT_RATIO = 16 / 10;\nconst ASPECT_RATIO_INVERT = (1 - ASPECT_RATIO) * -1;\n\n/** @public */\nexport interface CarouselLayoutProps extends React.HTMLAttributes<HTMLMediaElement> {\n  tracks: TrackReferenceOrPlaceholder[];\n  children: React.ReactNode;\n  /** Place the tiles vertically or horizontally next to each other.\n   * If undefined orientation is guessed by the dimensions of the container. */\n  orientation?: 'vertical' | 'horizontal';\n}\n\n/**\n * @deprecated Renamed to [[CarouselLayout]]\n */\nexport const CarouselView = CarouselLayout;\n\n/**\n * The `CarouselLayout` displays a list of tracks horizontally or vertically.\n * Depending on the size of the container, the carousel will display as many tiles as possible and overflows the rest.\n * The CarouselLayout uses the `useVisualStableUpdate` hook to ensure that tile reordering due to track updates\n * is visually stable but still moves the important tiles (speaking participants) to the front.\n *\n * @example\n * ```tsx\n * const tracks = useTracks();\n * <CarouselLayout tracks={tracks}>\n *   <ParticipantTile />\n * </CarouselLayout>\n * ```\n * @public\n */\nexport function CarouselLayout({ tracks, orientation, ...props }: CarouselLayoutProps) {\n  const asideEl = React.useRef<HTMLDivElement>(null);\n  const [prevTiles, setPrevTiles] = React.useState(0);\n  const { width, height } = useSize(asideEl);\n  const carouselOrientation = orientation\n    ? orientation\n    : height >= width\n    ? 'vertical'\n    : 'horizontal';\n\n  const tileSpan =\n    carouselOrientation === 'vertical'\n      ? Math.max(width * ASPECT_RATIO_INVERT, MIN_HEIGHT)\n      : Math.max(height * ASPECT_RATIO, MIN_WIDTH);\n  const scrollBarWidth = getScrollBarWidth();\n\n  const tilesThatFit =\n    carouselOrientation === 'vertical'\n      ? Math.max((height - scrollBarWidth) / tileSpan, MIN_VISIBLE_TILES)\n      : Math.max((width - scrollBarWidth) / tileSpan, MIN_VISIBLE_TILES);\n\n  let maxVisibleTiles = Math.round(tilesThatFit);\n  if (Math.abs(tilesThatFit - prevTiles) < 0.5) {\n    maxVisibleTiles = Math.round(prevTiles);\n  } else if (prevTiles !== tilesThatFit) {\n    setPrevTiles(tilesThatFit);\n  }\n\n  const sortedTiles = useVisualStableUpdate(tracks, maxVisibleTiles);\n\n  React.useLayoutEffect(() => {\n    if (asideEl.current) {\n      asideEl.current.dataset.lkOrientation = carouselOrientation;\n      asideEl.current.style.setProperty('--lk-max-visible-tiles', maxVisibleTiles.toString());\n    }\n  }, [maxVisibleTiles, carouselOrientation]);\n\n  return (\n    <aside key={carouselOrientation} className=\"lk-carousel\" ref={asideEl} {...props}>\n      <TrackLoop tracks={sortedTiles}>{props.children}</TrackLoop>\n    </aside>\n  );\n}\n","import type { PinState, WidgetState } from '@livekit/components-core';\nimport { log } from '@livekit/components-core';\nimport * as React from 'react';\nimport type { LayoutContextType } from '../../context';\nimport { LayoutContext, useEnsureCreateLayoutContext } from '../../context';\n\n/** @alpha */\nexport interface LayoutContextProviderProps {\n  value?: LayoutContextType;\n  onPinChange?: (state: PinState) => void;\n  onWidgetChange?: (state: WidgetState) => void;\n}\n\n/** @alpha */\nexport function LayoutContextProvider({\n  value,\n  onPinChange,\n  onWidgetChange,\n  children,\n}: React.PropsWithChildren<LayoutContextProviderProps>) {\n  const layoutContextValue = useEnsureCreateLayoutContext(value);\n\n  React.useEffect(() => {\n    log.debug('PinState Updated', { state: layoutContextValue.pin.state });\n    if (onPinChange && layoutContextValue.pin.state) onPinChange(layoutContextValue.pin.state);\n  }, [layoutContextValue.pin.state, onPinChange]);\n\n  React.useEffect(() => {\n    log.debug('Widget Updated', { widgetState: layoutContextValue.widget.state });\n    if (onWidgetChange && layoutContextValue.widget.state) {\n      onWidgetChange(layoutContextValue.widget.state);\n    }\n  }, [onWidgetChange, layoutContextValue.widget.state]);\n\n  return <LayoutContext.Provider value={layoutContextValue}>{children}</LayoutContext.Provider>;\n}\n","import type {\n  AudioCaptureOptions,\n  RoomConnectOptions,\n  RoomOptions,\n  ScreenShareCaptureOptions,\n  VideoCaptureOptions,\n} from 'livekit-client';\nimport type { MediaDeviceFailure, Room } from 'livekit-client';\nimport * as React from 'react';\nimport { RoomContext } from '../context';\nimport { useLiveKitRoom } from '../hooks';\n\n/** @public */\nexport interface LiveKitRoomProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onError'> {\n  /**\n   * URL to the LiveKit server.\n   * For example: `wss://<domain>.livekit.cloud`\n   * To simplify the implementation, `undefined` is also accepted as an intermediate value, but only with a valid string url can the connection be established.\n   */\n  serverUrl: string | undefined;\n  /**\n   * A user specific access token for a client to authenticate to the room.\n   * This token is necessary to establish a connection to the room.\n   * To simplify the implementation, `undefined` is also accepted as an intermediate value, but only with a valid string token can the connection be established.\n   *\n   * @see https://docs.livekit.io/cloud/project-management/keys-and-tokens/#generating-access-tokens\n   */\n  token: string | undefined;\n  /**\n   * Publish audio immediately after connecting to your LiveKit room.\n   * @defaultValue `false`\n   * @see https://docs.livekit.io/client-sdk-js/interfaces/AudioCaptureOptions.html\n   */\n  audio?: AudioCaptureOptions | boolean;\n  /**\n   * Publish video immediately after connecting to your LiveKit room.\n   * @defaultValue `false`\n   * @see https://docs.livekit.io/client-sdk-js/interfaces/VideoCaptureOptions.html\n   */\n  video?: VideoCaptureOptions | boolean;\n  /**\n   * Publish screen share immediately after connecting to your LiveKit room.\n   * @defaultValue `false`\n   * @see https://docs.livekit.io/client-sdk-js/interfaces/ScreenShareCaptureOptions.html\n   */\n  screen?: ScreenShareCaptureOptions | boolean;\n  /**\n   * If set to true a connection to LiveKit room is initiated.\n   * @defaultValue `false`\n   */\n  connect?: boolean;\n  /**\n   * Options for when creating a new room.\n   * When you pass your own room instance to this component, these options have no effect.\n   * Instead, set the options directly in the room instance.\n   *\n   * @see https://docs.livekit.io/client-sdk-js/interfaces/RoomOptions.html\n   */\n  options?: RoomOptions;\n  /**\n   * Define options how to connect to the LiveKit server.\n   *\n   * @see https://docs.livekit.io/client-sdk-js/interfaces/RoomConnectOptions.html\n   */\n  connectOptions?: RoomConnectOptions;\n  onConnected?: () => void;\n  onDisconnected?: () => void;\n  onError?: (error: Error) => void;\n  onMediaDeviceFailure?: (failure?: MediaDeviceFailure) => void;\n  /**\n   * Optional room instance.\n   * By passing your own room instance you overwrite the `options` parameter,\n   * make sure to set the options directly on the room instance itself.\n   */\n  room?: Room;\n\n  simulateParticipants?: number | undefined;\n}\n\n// type RoomContextState = {\n//   room: Room;\n//   connectionState: ConnectionState;\n//   participants: Participant[];\n//   audioTracks: AudioTrack[];\n// };\n\n/**\n * The LiveKitRoom component provides the room context to all its child components.\n * It is generally the starting point of your LiveKit app and the root of the LiveKit component tree.\n * It provides the room state as a React context to all child components, so you don't have to pass it yourself.\n *\n * @example\n * ```tsx\n * <LiveKitRoom\n *  token='<livekit-token>'\n *  serverUrl='<url-to-livekit-server>'\n *  connect={true}\n * >\n *     ...\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function LiveKitRoom(props: React.PropsWithChildren<LiveKitRoomProps>) {\n  const { room, htmlProps } = useLiveKitRoom(props);\n  return (\n    <div {...htmlProps}>\n      {room && <RoomContext.Provider value={room}>{props.children}</RoomContext.Provider>}\n    </div>\n  );\n}\n","export function setupLiveKitRoom() {\n  const className = 'lk-room-container';\n  return { className };\n}\n","import { isLocal } from '@livekit/components-core';\nimport { Track } from 'livekit-client';\nimport * as React from 'react';\nimport { useTracks } from '../hooks';\nimport { AudioTrack } from './participant/AudioTrack';\n\n/**\n * The RoomAudioRenderer component is a drop-in solution for adding audio to your LiveKit app.\n * It takes care of handling remote participants audio tracks and makes sure that microphones and screen share are audible.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <RoomAudioRenderer />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function RoomAudioRenderer() {\n  const tracks = useTracks([Track.Source.Microphone, Track.Source.ScreenShareAudio], {\n    updateOnlyOn: [],\n  }).filter((ref) => !isLocal(ref.participant));\n  return (\n    <div style={{ display: 'none' }}>\n      {tracks.map((trackRef) => (\n        <AudioTrack key={trackRef.publication.trackSid} {...trackRef} />\n      ))}\n    </div>\n  );\n}\n","import type { Room } from 'livekit-client';\nimport { ConnectionState } from 'livekit-client';\nimport * as React from 'react';\nimport { SpinnerIcon } from '../assets/icons';\nimport { mergeProps } from '../utils';\nimport { useConnectionState } from '../hooks';\n\n/** @public */\nexport function Toast(props: React.HTMLAttributes<HTMLDivElement>) {\n  const htmlProps = React.useMemo(() => mergeProps(props, { className: 'lk-toast' }), [props]);\n  return <div {...htmlProps}>{props.children}</div>;\n}\n\n/** @public */\nexport interface ConnectionStateToastProps extends React.HTMLAttributes<HTMLDivElement> {\n  room?: Room;\n}\n\n/** @public */\nexport function ConnectionStateToast(props: ConnectionStateToastProps) {\n  const [notification, setNotification] = React.useState<React.ReactElement | undefined>(undefined);\n  const state = useConnectionState(props.room);\n\n  React.useEffect(() => {\n    switch (state) {\n      case ConnectionState.Reconnecting:\n        setNotification(\n          <>\n            <SpinnerIcon className=\"lk-spinner\" /> Reconnecting\n          </>,\n        );\n        break;\n      case ConnectionState.Connecting:\n        setNotification(\n          <>\n            <SpinnerIcon className=\"lk-spinner\" /> Connecting\n          </>,\n        );\n        break;\n      case ConnectionState.Disconnected:\n        setNotification(<>Disconnected</>);\n        break;\n      default:\n        setNotification(undefined);\n        break;\n    }\n  }, [state]);\n  return notification ? <Toast className=\"lk-toast-connection-state\">{notification}</Toast> : <></>;\n}\n","import type { ReceivedChatMessage } from '@livekit/components-core';\nimport { tokenize, createDefaultGrammar } from '@livekit/components-core';\nimport * as React from 'react';\n\n/** @public */\nexport type MessageFormatter = (message: string) => React.ReactNode;\n\n/**\n * ChatEntry composes the HTML div element under the hood, so you can pass all its props.\n * These are the props specific to the ChatEntry component:\n * @public\n */\nexport interface ChatEntryProps extends React.HTMLAttributes<HTMLLIElement> {\n  /** The chat massage object to display. */\n  entry: ReceivedChatMessage;\n  /** Hide sender name. Useful when displaying multiple consecutive chat messages from the same person. */\n  hideName?: boolean;\n  /** Hide message timestamp. */\n  hideTimestamp?: boolean;\n  /** An optional formatter for the message body. */\n  messageFormatter?: MessageFormatter;\n}\n\n/**\n * The `ChatEntry` component holds and displays one chat message.\n *\n * @example\n * ```tsx\n * <Chat>\n *   <ChatEntry />\n * </Chat>\n * ```\n * @see `Chat`\n * @public\n */\nexport function ChatEntry({\n  entry,\n  hideName = false,\n  hideTimestamp = false,\n  messageFormatter,\n  ...props\n}: ChatEntryProps) {\n  const formattedMessage = React.useMemo(() => {\n    return messageFormatter ? messageFormatter(entry.message) : entry.message;\n  }, [entry.message, messageFormatter]);\n  const time = new Date(entry.timestamp);\n  const locale = navigator ? navigator.language : 'en-US';\n\n  return (\n    <li\n      className=\"lk-chat-entry\"\n      title={time.toLocaleTimeString(locale, { timeStyle: 'full' })}\n      data-lk-message-origin={entry.from?.isLocal ? 'local' : 'remote'}\n      {...props}\n    >\n      {(!hideTimestamp || !hideName) && (\n        <span className=\"lk-meta-data\">\n          {!hideName && (\n            <strong className=\"lk-participant-name\">\n              {entry.from?.name ?? entry.from?.identity}\n            </strong>\n          )}\n          {!hideTimestamp && (\n            <span className=\"lk-timestamp\">\n              {time.toLocaleTimeString(locale, { timeStyle: 'short' })}\n            </span>\n          )}\n        </span>\n      )}\n      <span className=\"lk-message-body\">{formattedMessage}</span>\n    </li>\n  );\n}\n\n/** @public */\nexport function formatChatMessageLinks(message: string): React.ReactNode {\n  return tokenize(message, createDefaultGrammar()).map((tok, i) => {\n    if (typeof tok === `string`) {\n      return tok;\n    } else {\n      const content = tok.content.toString();\n      const href =\n        tok.type === `url`\n          ? /^http(s?):\\/\\//.test(content)\n            ? content\n            : `https://${content}`\n          : `mailto:${content}`;\n      return (\n        <a className=\"lk-chat-link\" key={i} href={href} target=\"_blank\" rel=\"noreferrer\">\n          {content}\n        </a>\n      );\n    }\n  });\n}\n","import { createEmailRegExp } from './emailRegex';\nimport { createUrlRegExp } from './urlRegex';\n\nexport type TokenizeGrammar = { [type: string]: RegExp };\n\nexport const createDefaultGrammar = () => {\n  return {\n    email: createEmailRegExp(),\n    url: createUrlRegExp({ strict: false }),\n  } satisfies TokenizeGrammar;\n};\n\nexport function tokenize<T extends TokenizeGrammar>(input: string, grammar: T) {\n  const matches = Object.entries(grammar)\n    .map(([type, rx], weight) =>\n      Array.from(input.matchAll(rx)).map(({ index, 0: content }) => ({\n        type: type as keyof T,\n        weight,\n        content,\n        index: index ?? 0,\n      })),\n    )\n    .flat()\n    .sort((a, b) => {\n      const d = a.index - b.index;\n      return d !== 0 ? d : a.weight - b.weight;\n    })\n    .filter(({ index }, i, arr) => {\n      if (i === 0) return true;\n      const prev = arr[i - 1];\n      return prev.index + prev.content.length <= index;\n    });\n\n  const tokens = [];\n  let pos = 0;\n  for (const { type, content, index } of matches) {\n    if (index > pos) tokens.push(input.substring(pos, index));\n    tokens.push({ type, content });\n    pos = index + content.length;\n  }\n  if (input.length > pos) tokens.push(input.substring(pos));\n  return tokens;\n}\n","import type { ChatMessage, ReceivedChatMessage } from '@livekit/components-core';\nimport { setupChat } from '@livekit/components-core';\nimport * as React from 'react';\nimport { useMaybeLayoutContext, useRoomContext } from '../context';\nimport { useObservableState } from '../hooks/internal/useObservableState';\nimport { cloneSingleChild } from '../utils';\nimport type { MessageFormatter } from '../components/ChatEntry';\nimport { ChatEntry } from '../components/ChatEntry';\n\nexport type { ChatMessage, ReceivedChatMessage };\n\n/** @public */\nexport interface ChatProps extends React.HTMLAttributes<HTMLDivElement> {\n  messageFormatter?: MessageFormatter;\n}\n\n/** @public */\nexport function useChat() {\n  const room = useRoomContext();\n  const [setup, setSetup] = React.useState<ReturnType<typeof setupChat>>();\n  const isSending = useObservableState(setup?.isSendingObservable, false);\n  const chatMessages = useObservableState(setup?.messageObservable, []);\n\n  React.useEffect(() => {\n    const setupChatReturn = setupChat(room);\n    setSetup(setupChatReturn);\n    return setupChatReturn.destroy;\n  }, [room]);\n\n  return { send: setup?.send, chatMessages, isSending };\n}\n\n/**\n * The Chat component adds a basis chat functionality to the LiveKit room. The messages are distributed to all participants\n * in the room. Only users who are in the room at the time of dispatch will receive the message.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <Chat />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function Chat({ messageFormatter, ...props }: ChatProps) {\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const ulRef = React.useRef<HTMLUListElement>(null);\n  const { send, chatMessages, isSending } = useChat();\n  const layoutContext = useMaybeLayoutContext();\n  const lastReadMsgAt = React.useRef<ChatMessage['timestamp']>(0);\n\n  async function handleSubmit(event: React.FormEvent) {\n    event.preventDefault();\n    if (inputRef.current && inputRef.current.value.trim() !== '') {\n      if (send) {\n        await send(inputRef.current.value);\n        inputRef.current.value = '';\n        inputRef.current.focus();\n      }\n    }\n  }\n\n  React.useEffect(() => {\n    if (ulRef) {\n      ulRef.current?.scrollTo({ top: ulRef.current.scrollHeight });\n    }\n  }, [ulRef, chatMessages]);\n\n  React.useEffect(() => {\n    if (!layoutContext || chatMessages.length === 0) {\n      return;\n    }\n\n    if (\n      layoutContext.widget.state?.showChat &&\n      chatMessages.length > 0 &&\n      lastReadMsgAt.current !== chatMessages[chatMessages.length - 1]?.timestamp\n    ) {\n      lastReadMsgAt.current = chatMessages[chatMessages.length - 1]?.timestamp;\n      return;\n    }\n\n    const unreadMessageCount = chatMessages.filter(\n      (msg) => !lastReadMsgAt.current || msg.timestamp > lastReadMsgAt.current,\n    ).length;\n\n    const { widget } = layoutContext;\n    if (unreadMessageCount > 0 && widget.state?.unreadMessages !== unreadMessageCount) {\n      widget.dispatch?.({ msg: 'unread_msg', count: unreadMessageCount });\n    }\n  }, [chatMessages, layoutContext?.widget]);\n\n  return (\n    <div {...props} className=\"lk-chat\">\n      <ul className=\"lk-list lk-chat-messages\" ref={ulRef}>\n        {props.children\n          ? chatMessages.map((msg, idx) =>\n              cloneSingleChild(props.children, {\n                entry: msg,\n                key: idx,\n                messageFormatter,\n              }),\n            )\n          : chatMessages.map((msg, idx, allMsg) => {\n              const hideName = idx >= 1 && allMsg[idx - 1].from === msg.from;\n              // If the time delta between two messages is bigger than 60s show timestamp.\n              const hideTimestamp = idx >= 1 && msg.timestamp - allMsg[idx - 1].timestamp < 60_000;\n\n              return (\n                <ChatEntry\n                  key={idx}\n                  hideName={hideName}\n                  hideTimestamp={hideName === false ? false : hideTimestamp} // If we show the name always show the timestamp as well.\n                  entry={msg}\n                  messageFormatter={messageFormatter}\n                />\n              );\n            })}\n      </ul>\n      <form className=\"lk-chat-form\" onSubmit={handleSubmit}>\n        <input\n          className=\"lk-form-control lk-chat-form-input\"\n          disabled={isSending}\n          ref={inputRef}\n          type=\"text\"\n          placeholder=\"Enter a message...\"\n        />\n        <button type=\"submit\" className=\"lk-button lk-chat-form-button\" disabled={isSending}>\n          Send\n        </button>\n      </form>\n    </div>\n  );\n}\n","import { computeMenuPosition, wasClickOutside } from '@livekit/components-core';\nimport * as React from 'react';\nimport { MediaDeviceSelect } from '../components/controls/MediaDeviceSelect';\nimport { log } from '@livekit/components-core';\nimport type { LocalAudioTrack, LocalVideoTrack } from 'livekit-client';\n\n/** @public */\nexport interface MediaDeviceMenuProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  kind?: MediaDeviceKind;\n  initialSelection?: string;\n  onActiveDeviceChange?: (kind: MediaDeviceKind, deviceId: string) => void;\n  tracks?: Partial<Record<MediaDeviceKind, LocalAudioTrack | LocalVideoTrack | undefined>>;\n  /**\n   * this will call getUserMedia if the permissions are not yet given to enumerate the devices with device labels.\n   * in some browsers multiple calls to getUserMedia result in multiple permission prompts.\n   * It's generally advised only flip this to true, once a (preview) track has been acquired successfully with the\n   * appropriate permissions.\n   *\n   * @see {@link PreJoin}\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices | MDN enumerateDevices}\n   */\n  requestPermissions?: boolean;\n}\n\n/**\n * The MediaDeviceMenu prefab component is a button that opens a menu that lists\n * all media devices and allows the user to select them.\n *\n * @remarks\n * This component is implemented with the `MediaDeviceSelect` LiveKit components.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <MediaDeviceMenu />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function MediaDeviceMenu({\n  kind,\n  initialSelection,\n  onActiveDeviceChange,\n  tracks,\n  requestPermissions = false,\n  ...props\n}: MediaDeviceMenuProps) {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [devices, setDevices] = React.useState<MediaDeviceInfo[]>([]);\n  const [updateRequired, setUpdateRequired] = React.useState<boolean>(true);\n\n  const handleActiveDeviceChange = (kind: MediaDeviceKind, deviceId: string) => {\n    log.debug('handle device change');\n    setIsOpen(false);\n    onActiveDeviceChange?.(kind, deviceId);\n  };\n\n  const button = React.useRef<HTMLButtonElement>(null);\n  const tooltip = React.useRef<HTMLDivElement>(null);\n\n  React.useLayoutEffect(() => {\n    if (button.current && tooltip.current && (devices || updateRequired)) {\n      computeMenuPosition(button.current, tooltip.current).then(({ x, y }) => {\n        if (tooltip.current) {\n          Object.assign(tooltip.current.style, { left: `${x}px`, top: `${y}px` });\n        }\n      });\n    }\n    setUpdateRequired(false);\n  }, [button, tooltip, devices, updateRequired]);\n\n  const handleClickOutside = React.useCallback(\n    (event: MouseEvent) => {\n      if (!tooltip.current) {\n        return;\n      }\n      if (event.target === button.current) {\n        return;\n      }\n      if (isOpen && wasClickOutside(tooltip.current, event)) {\n        setIsOpen(false);\n      }\n    },\n    [isOpen, tooltip, button],\n  );\n\n  React.useEffect(() => {\n    document.addEventListener<'click'>('click', handleClickOutside);\n    window.addEventListener<'resize'>('resize', () => setUpdateRequired(true));\n    return () => {\n      document.removeEventListener<'click'>('click', handleClickOutside);\n      window.removeEventListener<'resize'>('resize', () => setUpdateRequired(true));\n    };\n  }, [handleClickOutside, setUpdateRequired]);\n\n  return (\n    <>\n      <button\n        className=\"lk-button lk-button-menu\"\n        aria-pressed={isOpen}\n        {...props}\n        onClick={() => setIsOpen(!isOpen)}\n        ref={button}\n      >\n        {props.children}\n      </button>\n      {/** only render when enabled in order to make sure that the permissions are requested only if the menu is enabled */}\n      {!props.disabled && (\n        <div\n          className=\"lk-device-menu\"\n          ref={tooltip}\n          style={{ visibility: isOpen ? 'visible' : 'hidden' }}\n        >\n          {kind ? (\n            <MediaDeviceSelect\n              initialSelection={initialSelection}\n              onActiveDeviceChange={(deviceId) => handleActiveDeviceChange(kind, deviceId)}\n              onDeviceListChange={setDevices}\n              kind={kind}\n              track={tracks?.[kind]}\n              requestPermissions={requestPermissions}\n            />\n          ) : (\n            <>\n              <div className=\"lk-device-menu-heading\">Audio inputs</div>\n              <MediaDeviceSelect\n                kind=\"audioinput\"\n                onActiveDeviceChange={(deviceId) =>\n                  handleActiveDeviceChange('audioinput', deviceId)\n                }\n                onDeviceListChange={setDevices}\n                track={tracks?.audioinput}\n                requestPermissions={requestPermissions}\n              />\n              <div className=\"lk-device-menu-heading\">Video inputs</div>\n              <MediaDeviceSelect\n                kind=\"videoinput\"\n                onActiveDeviceChange={(deviceId) =>\n                  handleActiveDeviceChange('videoinput', deviceId)\n                }\n                onDeviceListChange={setDevices}\n                track={tracks?.videoinput}\n                requestPermissions={requestPermissions}\n              />\n            </>\n          )}\n        </div>\n      )}\n    </>\n  );\n}\n","import type {\n  CreateLocalTracksOptions,\n  LocalAudioTrack,\n  LocalTrack,\n  LocalVideoTrack,\n} from 'livekit-client';\nimport {\n  createLocalAudioTrack,\n  createLocalTracks,\n  createLocalVideoTrack,\n  facingModeFromLocalTrack,\n  Track,\n  VideoPresets,\n} from 'livekit-client';\nimport * as React from 'react';\nimport { MediaDeviceMenu } from './MediaDeviceMenu';\nimport { TrackToggle } from '../components/controls/TrackToggle';\nimport { log } from '@livekit/components-core';\nimport { ParticipantPlaceholder } from '../assets/images';\nimport { useMediaDevices } from '../hooks';\n\n/** @public */\nexport type LocalUserChoices = {\n  username: string;\n  videoEnabled: boolean;\n  audioEnabled: boolean;\n  videoDeviceId: string;\n  audioDeviceId: string;\n};\n\nconst DEFAULT_USER_CHOICES = {\n  username: '',\n  videoEnabled: true,\n  audioEnabled: true,\n  videoDeviceId: 'default',\n  audioDeviceId: 'default',\n};\n\n/** @public */\nexport interface PreJoinProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onSubmit' | 'onError'> {\n  /** This function is called with the `LocalUserChoices` if validation is passed. */\n  onSubmit?: (values: LocalUserChoices) => void;\n  /**\n   * Provide your custom validation function. Only if validation is successful the user choices are past to the onSubmit callback.\n   */\n  onValidate?: (values: LocalUserChoices) => boolean;\n  onError?: (error: Error) => void;\n  /** Prefill the input form with initial values. */\n  defaults?: Partial<LocalUserChoices>;\n  /** Display a debug window for your convenience. */\n  debug?: boolean;\n  joinLabel?: string;\n  micLabel?: string;\n  camLabel?: string;\n  userLabel?: string;\n}\n\n/** @alpha */\nexport function usePreviewTracks(\n  options: CreateLocalTracksOptions,\n  onError?: (err: Error) => void,\n) {\n  const [tracks, setTracks] = React.useState<LocalTrack[]>();\n\n  React.useEffect(() => {\n    let trackPromise: Promise<LocalTrack[]> | undefined = undefined;\n    let needsCleanup = false;\n    if (options.audio || options.video) {\n      trackPromise = createLocalTracks(options);\n      trackPromise\n        .then((tracks) => {\n          if (needsCleanup) {\n            tracks.forEach((tr) => tr.stop());\n          } else {\n            setTracks(tracks);\n          }\n        })\n        .catch(onError);\n    }\n\n    return () => {\n      needsCleanup = true;\n      trackPromise?.then((tracks) =>\n        tracks.forEach((track) => {\n          track.stop();\n        }),\n      );\n    };\n  }, [JSON.stringify(options)]);\n\n  return tracks;\n}\n\n/** @public */\nexport function usePreviewDevice<T extends LocalVideoTrack | LocalAudioTrack>(\n  enabled: boolean,\n  deviceId: string,\n  kind: 'videoinput' | 'audioinput',\n) {\n  const [deviceError, setDeviceError] = React.useState<Error | null>(null);\n  const [isCreatingTrack, setIsCreatingTrack] = React.useState<boolean>(false);\n\n  const devices = useMediaDevices({ kind });\n  const [selectedDevice, setSelectedDevice] = React.useState<MediaDeviceInfo | undefined>(\n    undefined,\n  );\n\n  const [localTrack, setLocalTrack] = React.useState<T>();\n  const [localDeviceId, setLocalDeviceId] = React.useState<string>(deviceId);\n\n  React.useEffect(() => {\n    setLocalDeviceId(deviceId);\n  }, [deviceId]);\n\n  const createTrack = async (deviceId: string, kind: 'videoinput' | 'audioinput') => {\n    try {\n      const track =\n        kind === 'videoinput'\n          ? await createLocalVideoTrack({\n              deviceId: deviceId,\n              resolution: VideoPresets.h720.resolution,\n            })\n          : await createLocalAudioTrack({ deviceId });\n\n      const newDeviceId = await track.getDeviceId();\n      if (newDeviceId && deviceId !== newDeviceId) {\n        prevDeviceId.current = newDeviceId;\n        setLocalDeviceId(newDeviceId);\n      }\n      setLocalTrack(track as T);\n    } catch (e) {\n      if (e instanceof Error) {\n        setDeviceError(e);\n      }\n    }\n  };\n\n  const switchDevice = async (track: LocalVideoTrack | LocalAudioTrack, id: string) => {\n    await track.setDeviceId(id);\n    prevDeviceId.current = id;\n  };\n\n  const prevDeviceId = React.useRef(localDeviceId);\n\n  React.useEffect(() => {\n    if (enabled && !localTrack && !deviceError && !isCreatingTrack) {\n      log.debug('creating track', kind);\n      setIsCreatingTrack(true);\n      createTrack(localDeviceId, kind).finally(() => {\n        setIsCreatingTrack(false);\n      });\n    }\n  }, [enabled, localTrack, deviceError, isCreatingTrack]);\n\n  // switch camera device\n  React.useEffect(() => {\n    if (!localTrack) {\n      return;\n    }\n    if (!enabled) {\n      log.debug(`muting ${kind} track`);\n      localTrack.mute().then(() => log.debug(localTrack.mediaStreamTrack));\n    } else if (selectedDevice?.deviceId && prevDeviceId.current !== selectedDevice?.deviceId) {\n      log.debug(`switching ${kind} device from`, prevDeviceId.current, selectedDevice.deviceId);\n      switchDevice(localTrack, selectedDevice.deviceId);\n    } else {\n      log.debug(`unmuting local ${kind} track`);\n      localTrack.unmute();\n    }\n  }, [localTrack, selectedDevice, enabled, kind]);\n\n  React.useEffect(() => {\n    return () => {\n      if (localTrack) {\n        log.debug(`stopping local ${kind} track`);\n        localTrack.stop();\n        localTrack.mute();\n      }\n    };\n  }, []);\n\n  React.useEffect(() => {\n    setSelectedDevice(devices.find((dev) => dev.deviceId === localDeviceId));\n  }, [localDeviceId, devices]);\n\n  return {\n    selectedDevice,\n    localTrack,\n    deviceError,\n  };\n}\n\n/**\n * The PreJoin prefab component is normally presented to the user before he enters a room.\n * This component allows the user to check and select the preferred media device (camera und microphone).\n * On submit the user decisions are returned, which can then be passed on to the LiveKitRoom so that the user enters the room with the correct media devices.\n *\n * @remarks\n * This component is independent from the LiveKitRoom component and don't has to be nested inside it.\n * Because it only access the local media tracks this component is self contained and works without connection to the LiveKit server.\n *\n * @example\n * ```tsx\n * <PreJoin />\n * ```\n * @public\n */\nexport function PreJoin({\n  defaults = {},\n  onValidate,\n  onSubmit,\n  onError,\n  debug,\n  joinLabel = 'Join Room',\n  micLabel = 'Microphone',\n  camLabel = 'Camera',\n  userLabel = 'Username',\n  ...htmlProps\n}: PreJoinProps) {\n  const [userChoices, setUserChoices] = React.useState(DEFAULT_USER_CHOICES);\n  const [username, setUsername] = React.useState(\n    defaults.username ?? DEFAULT_USER_CHOICES.username,\n  );\n  const [videoEnabled, setVideoEnabled] = React.useState<boolean>(\n    defaults.videoEnabled ?? DEFAULT_USER_CHOICES.videoEnabled,\n  );\n  const initialVideoDeviceId = defaults.videoDeviceId ?? DEFAULT_USER_CHOICES.videoDeviceId;\n  const [videoDeviceId, setVideoDeviceId] = React.useState<string>(initialVideoDeviceId);\n  const initialAudioDeviceId = defaults.audioDeviceId ?? DEFAULT_USER_CHOICES.audioDeviceId;\n  const [audioEnabled, setAudioEnabled] = React.useState<boolean>(\n    defaults.audioEnabled ?? DEFAULT_USER_CHOICES.audioEnabled,\n  );\n  const [audioDeviceId, setAudioDeviceId] = React.useState<string>(initialAudioDeviceId);\n\n  const tracks = usePreviewTracks(\n    {\n      audio: audioEnabled ? { deviceId: initialAudioDeviceId } : false,\n      video: videoEnabled ? { deviceId: initialVideoDeviceId } : false,\n    },\n    onError,\n  );\n\n  const videoEl = React.useRef(null);\n\n  const videoTrack = React.useMemo(\n    () => tracks?.filter((track) => track.kind === Track.Kind.Video)[0] as LocalVideoTrack,\n    [tracks],\n  );\n\n  const facingMode = React.useMemo(() => {\n    if (videoTrack) {\n      const { facingMode } = facingModeFromLocalTrack(videoTrack);\n      return facingMode;\n    } else {\n      return 'undefined';\n    }\n  }, [videoTrack]);\n\n  const audioTrack = React.useMemo(\n    () => tracks?.filter((track) => track.kind === Track.Kind.Audio)[0] as LocalAudioTrack,\n    [tracks],\n  );\n\n  React.useEffect(() => {\n    if (videoEl.current && videoTrack) {\n      videoTrack.unmute();\n      videoTrack.attach(videoEl.current);\n    }\n\n    return () => {\n      videoTrack?.detach();\n    };\n  }, [videoTrack]);\n\n  const [isValid, setIsValid] = React.useState<boolean>();\n\n  const handleValidation = React.useCallback(\n    (values: LocalUserChoices) => {\n      if (typeof onValidate === 'function') {\n        return onValidate(values);\n      } else {\n        return values.username !== '';\n      }\n    },\n    [onValidate],\n  );\n\n  React.useEffect(() => {\n    const newUserChoices = {\n      username: username,\n      videoEnabled: videoEnabled,\n      videoDeviceId: videoDeviceId,\n      audioEnabled: audioEnabled,\n      audioDeviceId: audioDeviceId,\n    };\n    setUserChoices(newUserChoices);\n    setIsValid(handleValidation(newUserChoices));\n  }, [username, videoEnabled, handleValidation, audioEnabled, audioDeviceId, videoDeviceId]);\n\n  function handleSubmit(event: React.FormEvent) {\n    event.preventDefault();\n    if (handleValidation(userChoices)) {\n      if (typeof onSubmit === 'function') {\n        onSubmit(userChoices);\n      }\n    } else {\n      log.warn('Validation failed with: ', userChoices);\n    }\n  }\n\n  return (\n    <div className=\"lk-prejoin\" {...htmlProps}>\n      <div className=\"lk-video-container\">\n        {videoTrack && (\n          <video ref={videoEl} width=\"1280\" height=\"720\" data-lk-facing-mode={facingMode} />\n        )}\n        {(!videoTrack || !videoEnabled) && (\n          <div className=\"lk-camera-off-note\">\n            <ParticipantPlaceholder />\n          </div>\n        )}\n      </div>\n      <div className=\"lk-button-group-container\">\n        <div className=\"lk-button-group audio\">\n          <TrackToggle\n            initialState={audioEnabled}\n            source={Track.Source.Microphone}\n            onChange={(enabled) => setAudioEnabled(enabled)}\n          >\n            {micLabel}\n          </TrackToggle>\n          <div className=\"lk-button-group-menu\">\n            <MediaDeviceMenu\n              initialSelection={audioDeviceId}\n              kind=\"audioinput\"\n              disabled={!audioTrack}\n              tracks={{ audioinput: audioTrack }}\n              onActiveDeviceChange={(_, id) => setAudioDeviceId(id)}\n            />\n          </div>\n        </div>\n        <div className=\"lk-button-group video\">\n          <TrackToggle\n            initialState={videoEnabled}\n            source={Track.Source.Camera}\n            onChange={(enabled) => setVideoEnabled(enabled)}\n          >\n            {camLabel}\n          </TrackToggle>\n          <div className=\"lk-button-group-menu\">\n            <MediaDeviceMenu\n              initialSelection={videoDeviceId}\n              kind=\"videoinput\"\n              disabled={!videoTrack}\n              tracks={{ videoinput: videoTrack }}\n              onActiveDeviceChange={(_, id) => setVideoDeviceId(id)}\n            />\n          </div>\n        </div>\n      </div>\n\n      <form className=\"lk-username-container\">\n        <input\n          className=\"lk-form-control\"\n          id=\"username\"\n          name=\"username\"\n          type=\"text\"\n          defaultValue={username}\n          placeholder={userLabel}\n          onChange={(inputEl) => setUsername(inputEl.target.value)}\n          autoComplete=\"off\"\n        />\n        <button\n          className=\"lk-button lk-join-button\"\n          type=\"submit\"\n          onClick={handleSubmit}\n          disabled={!isValid}\n        >\n          {joinLabel}\n        </button>\n      </form>\n\n      {debug && (\n        <>\n          <strong>User Choices:</strong>\n          <ul className=\"lk-list\" style={{ overflow: 'hidden', maxWidth: '15rem' }}>\n            <li>Username: {`${userChoices.username}`}</li>\n            <li>Video Enabled: {`${userChoices.videoEnabled}`}</li>\n            <li>Audio Enabled: {`${userChoices.audioEnabled}`}</li>\n            <li>Video Device: {`${userChoices.videoDeviceId}`}</li>\n            <li>Audio Device: {`${userChoices.audioDeviceId}`}</li>\n          </ul>\n        </>\n      )}\n    </div>\n  );\n}\n","import { Track } from 'livekit-client';\nimport * as React from 'react';\nimport { MediaDeviceMenu } from './MediaDeviceMenu';\nimport { DisconnectButton } from '../components/controls/DisconnectButton';\nimport { TrackToggle } from '../components/controls/TrackToggle';\nimport { StartAudio } from '../components/controls/StartAudio';\nimport { ChatIcon, LeaveIcon } from '../assets/icons';\nimport { ChatToggle } from '../components/controls/ChatToggle';\nimport { useLocalParticipantPermissions } from '../hooks';\nimport { useMediaQuery } from '../hooks/internal';\nimport { useMaybeLayoutContext } from '../context';\nimport { supportsScreenSharing } from '@livekit/components-core';\nimport { mergeProps } from '../utils';\n\n/** @public */\nexport type ControlBarControls = {\n  microphone?: boolean;\n  camera?: boolean;\n  chat?: boolean;\n  screenShare?: boolean;\n  leave?: boolean;\n};\n\n/** @public */\nexport interface ControlBarProps extends React.HTMLAttributes<HTMLDivElement> {\n  variation?: 'minimal' | 'verbose' | 'textOnly';\n  controls?: ControlBarControls;\n}\n\n/**\n * The ControlBar prefab component gives the user the basic user interface\n * to control their media devices and leave the room.\n *\n * @remarks\n * This component is build with other LiveKit components like `TrackToggle`,\n * `DeviceSelectorButton`, `DisconnectButton` and `StartAudio`.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <ControlBar />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function ControlBar({ variation, controls, ...props }: ControlBarProps) {\n  const [isChatOpen, setIsChatOpen] = React.useState(false);\n  const layoutContext = useMaybeLayoutContext();\n  React.useEffect(() => {\n    if (layoutContext?.widget.state?.showChat !== undefined) {\n      setIsChatOpen(layoutContext?.widget.state?.showChat);\n    }\n  }, [layoutContext?.widget.state?.showChat]);\n  const isTooLittleSpace = useMediaQuery(`(max-width: ${isChatOpen ? 1000 : 760}px)`);\n\n  const defaultVariation = isTooLittleSpace ? 'minimal' : 'verbose';\n  variation ??= defaultVariation;\n\n  const visibleControls = { leave: true, ...controls };\n\n  const localPermissions = useLocalParticipantPermissions();\n\n  if (!localPermissions) {\n    visibleControls.camera = false;\n    visibleControls.chat = false;\n    visibleControls.microphone = false;\n    visibleControls.screenShare = false;\n  } else {\n    visibleControls.camera ??= localPermissions.canPublish;\n    visibleControls.microphone ??= localPermissions.canPublish;\n    visibleControls.screenShare ??= localPermissions.canPublish;\n    visibleControls.chat ??= localPermissions.canPublishData && controls?.chat;\n  }\n\n  const showIcon = React.useMemo(\n    () => variation === 'minimal' || variation === 'verbose',\n    [variation],\n  );\n  const showText = React.useMemo(\n    () => variation === 'textOnly' || variation === 'verbose',\n    [variation],\n  );\n\n  const browserSupportsScreenSharing = supportsScreenSharing();\n\n  const [isScreenShareEnabled, setIsScreenShareEnabled] = React.useState(false);\n\n  const onScreenShareChange = (enabled: boolean) => {\n    setIsScreenShareEnabled(enabled);\n  };\n\n  const htmlProps = mergeProps({ className: 'lk-control-bar' }, props);\n\n  return (\n    <div {...htmlProps}>\n      {visibleControls.microphone && (\n        <div className=\"lk-button-group\">\n          <TrackToggle source={Track.Source.Microphone} showIcon={showIcon}>\n            {showText && 'Microphone'}\n          </TrackToggle>\n          <div className=\"lk-button-group-menu\">\n            <MediaDeviceMenu kind=\"audioinput\" />\n          </div>\n        </div>\n      )}\n      {visibleControls.camera && (\n        <div className=\"lk-button-group\">\n          <TrackToggle source={Track.Source.Camera} showIcon={showIcon}>\n            {showText && 'Camera'}\n          </TrackToggle>\n          <div className=\"lk-button-group-menu\">\n            <MediaDeviceMenu kind=\"videoinput\" />\n          </div>\n        </div>\n      )}\n      {visibleControls.screenShare && browserSupportsScreenSharing && (\n        <TrackToggle\n          source={Track.Source.ScreenShare}\n          captureOptions={{ audio: true, selfBrowserSurface: 'include' }}\n          showIcon={showIcon}\n          onChange={onScreenShareChange}\n        >\n          {showText && (isScreenShareEnabled ? 'Stop screen share' : 'Share screen')}\n        </TrackToggle>\n      )}\n      {visibleControls.chat && (\n        <ChatToggle>\n          {showIcon && <ChatIcon />}\n          {showText && 'Chat'}\n        </ChatToggle>\n      )}\n      {visibleControls.leave && (\n        <DisconnectButton>\n          {showIcon && <LeaveIcon />}\n          {showText && 'Leave'}\n        </DisconnectButton>\n      )}\n      <StartAudio label=\"Start Audio\" />\n    </div>\n  );\n}\n","import * as React from 'react';\n/**\n * Implementation used from https://github.com/juliencrn/usehooks-ts\n *\n * @internal\n */\nexport function useMediaQuery(query: string): boolean {\n  const getMatches = (query: string): boolean => {\n    // Prevents SSR issues\n    if (typeof window !== 'undefined') {\n      return window.matchMedia(query).matches;\n    }\n    return false;\n  };\n\n  const [matches, setMatches] = React.useState<boolean>(getMatches(query));\n\n  function handleChange() {\n    setMatches(getMatches(query));\n  }\n\n  React.useEffect(() => {\n    const matchMedia = window.matchMedia(query);\n\n    // Triggered at the first client-side load and if query changes\n    handleChange();\n\n    // Listen matchMedia\n    if (matchMedia.addListener) {\n      matchMedia.addListener(handleChange);\n    } else {\n      matchMedia.addEventListener('change', handleChange);\n    }\n\n    return () => {\n      if (matchMedia.removeListener) {\n        matchMedia.removeListener(handleChange);\n      } else {\n        matchMedia.removeEventListener('change', handleChange);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  return matches;\n}\n","/**\n * Returns `true` if the browser supports screen sharing.\n */\nexport function supportsScreenSharing(): boolean {\n  return (\n    typeof navigator !== 'undefined' &&\n    navigator.mediaDevices &&\n    !!navigator.mediaDevices.getDisplayMedia\n  );\n}\n","import * as React from 'react';\nimport { LayoutContextProvider } from '../components/layout/LayoutContextProvider';\nimport { RoomAudioRenderer } from '../components/RoomAudioRenderer';\nimport { ControlBar } from './ControlBar';\nimport { FocusLayout, FocusLayoutContainer } from '../components/layout/FocusLayout';\nimport { GridLayout } from '../components/layout/GridLayout';\nimport type { WidgetState } from '@livekit/components-core';\nimport { isEqualTrackRef, isTrackReference, log, isWeb } from '@livekit/components-core';\nimport { Chat } from './Chat';\nimport { ConnectionStateToast } from '../components/Toast';\nimport type { MessageFormatter } from '../components/ChatEntry';\nimport { RoomEvent, Track } from 'livekit-client';\nimport { useTracks } from '../hooks/useTracks';\nimport { usePinnedTracks } from '../hooks/usePinnedTracks';\nimport { CarouselLayout } from '../components/layout/CarouselLayout';\nimport { useCreateLayoutContext } from '../context/layout-context';\nimport { ParticipantTile } from '../components';\nimport type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\n\n/**\n * @public\n */\nexport interface VideoConferenceProps extends React.HTMLAttributes<HTMLDivElement> {\n  chatMessageFormatter?: MessageFormatter;\n}\n\n/**\n * This component is the default setup of a classic LiveKit video conferencing app.\n * It provides functionality like switching between participant grid view and focus view.\n *\n * @remarks\n * The component is implemented with other LiveKit components like `FocusContextProvider`,\n * `GridLayout`, `ControlBar`, `FocusLayoutContainer` and `FocusLayout`.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <VideoConference />\n * <LiveKitRoom>\n * ```\n * @public\n */\nexport function VideoConference({ chatMessageFormatter, ...props }: VideoConferenceProps) {\n  const [widgetState, setWidgetState] = React.useState<WidgetState>({\n    showChat: false,\n    unreadMessages: 0,\n  });\n  const lastAutoFocusedScreenShareTrack = React.useRef<TrackReferenceOrPlaceholder | null>(null);\n\n  const tracks = useTracks(\n    [\n      { source: Track.Source.Camera, withPlaceholder: true },\n      { source: Track.Source.ScreenShare, withPlaceholder: false },\n    ],\n    { updateOnlyOn: [RoomEvent.ActiveSpeakersChanged] },\n  );\n\n  const widgetUpdate = (state: WidgetState) => {\n    log.debug('updating widget state', state);\n    setWidgetState(state);\n  };\n\n  const layoutContext = useCreateLayoutContext();\n\n  const screenShareTracks = tracks\n    .filter(isTrackReference)\n    .filter((track) => track.publication.source === Track.Source.ScreenShare);\n\n  const focusTrack = usePinnedTracks(layoutContext)?.[0];\n  const carouselTracks = tracks.filter((track) => !isEqualTrackRef(track, focusTrack));\n\n  React.useEffect(() => {\n    // If screen share tracks are published, and no pin is set explicitly, auto set the screen share.\n    if (screenShareTracks.length > 0 && lastAutoFocusedScreenShareTrack.current === null) {\n      log.debug('Auto set screen share focus:', { newScreenShareTrack: screenShareTracks[0] });\n      layoutContext.pin.dispatch?.({ msg: 'set_pin', trackReference: screenShareTracks[0] });\n      lastAutoFocusedScreenShareTrack.current = screenShareTracks[0];\n    } else if (\n      lastAutoFocusedScreenShareTrack.current &&\n      !screenShareTracks.some(\n        (track) =>\n          track.publication.trackSid ===\n          lastAutoFocusedScreenShareTrack.current?.publication?.trackSid,\n      )\n    ) {\n      log.debug('Auto clearing screen share focus.');\n      layoutContext.pin.dispatch?.({ msg: 'clear_pin' });\n      lastAutoFocusedScreenShareTrack.current = null;\n    }\n  }, [\n    screenShareTracks.map((ref) => ref.publication.trackSid).join(),\n    focusTrack?.publication?.trackSid,\n  ]);\n\n  return (\n    <div className=\"lk-video-conference\" {...props}>\n      {isWeb() && (\n        <LayoutContextProvider\n          value={layoutContext}\n          // onPinChange={handleFocusStateChange}\n          onWidgetChange={widgetUpdate}\n        >\n          <div className=\"lk-video-conference-inner\">\n            {!focusTrack ? (\n              <div className=\"lk-grid-layout-wrapper\">\n                <GridLayout tracks={tracks}>\n                  <ParticipantTile />\n                </GridLayout>\n              </div>\n            ) : (\n              <div className=\"lk-focus-layout-wrapper\">\n                <FocusLayoutContainer>\n                  <CarouselLayout tracks={carouselTracks}>\n                    <ParticipantTile />\n                  </CarouselLayout>\n                  {focusTrack && <FocusLayout track={focusTrack} />}\n                </FocusLayoutContainer>\n              </div>\n            )}\n            <ControlBar controls={{ chat: true }} />\n          </div>\n          <Chat\n            style={{ display: widgetState.showChat ? 'flex' : 'none' }}\n            messageFormatter={chatMessageFormatter}\n          />\n        </LayoutContextProvider>\n      )}\n      <RoomAudioRenderer />\n      <ConnectionStateToast />\n    </div>\n  );\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","import arrayWithHoles from './_array_with_holes.mjs';\nimport iterableToArrayLimit from './_iterable_to_array.mjs';\nimport nonIterableRest from './_non_iterable_rest.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","import _arrayLikeToArray from './_array_like_to_array.mjs';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n"],"names":["exports","root","definition","noop","undefinedType","isIE","window","navigator","test","userAgent","logMethods","bindMethod","obj","methodName","method","bind","Function","prototype","call","e","apply","arguments","traceForIE","console","log","trace","realMethod","undefined","replaceLoggingMethods","level","loggerName","i","length","this","methodFactory","debug","enableLoggingWhenConsoleArrives","defaultMethodFactory","Logger","name","defaultLevel","factory","currentLevel","self","storageKey","persistLevelIfPossible","levelNum","levelName","toUpperCase","localStorage","ignore","document","cookie","encodeURIComponent","getPersistedLevel","storedLevel","location","indexOf","exec","slice","levels","clearPersistedLevel","removeItem","getLevel","setLevel","persist","SILENT","setDefaultLevel","resetLevel","enableAll","TRACE","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","TypeError","logger","_log","noConflict","getLoggers","ref","ref1","module","g","process","env","r","n","t","defaultSetTimout","Error","defaultClearTimeout","runTimeout","setTimeout","clearTimeout","u","o","a","cleanUpNextTick","concat","drainQueue","run","runClearTimeout","Item","fun","array","nextTick","Array","push","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","__nccwpck_require__","ab","__dirname","platform","getModifierState","includes","trim","split","map","pop","timeout","Object","keys","c","Map","f","KeyboardEvent","forEach","get","key","code","find","delete","set","clear","event","addEventListener","removeEventListener","current","storedValue","regex","emailRegex","exact","RegExp","reference","l","floating","s","x","width","y","height","m","d","p","async","placement","strategy","middleware","filter","Boolean","isRTL","getElementRects","fn","h","data","w","reset","v","initialPlacement","middlewareData","rects","elements","top","right","bottom","left","boundary","rootBoundary","elementContext","altBoundary","padding","getClippingRect","element","isElement","contextElement","getDocumentElement","getOffsetParent","b","getScale","R","convertOffsetParentRelativeRectToViewportRelativeRect","rect","offsetParent","Math","min","max","reduce","replace","main","cross","start","end","options","mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","A","P","T","O","D","E","L","flip","overflows","every","k","index","B","sort","alignmentAxis","limiter","ownerDocument","defaultView","getComputedStyle","nodeName","toLowerCase","userAgentData","isArray","brands","brand","join","HTMLElement","Element","Node","ShadowRoot","overflow","overflowX","overflowY","display","backdropFilter","WebkitBackdropFilter","transform","perspective","willChange","some","contain","round","parseFloat","offsetWidth","offsetHeight","fallback","getBoundingClientRect","Number","isFinite","visualViewport","offsetLeft","offsetTop","frameElement","clientLeft","paddingLeft","clientTop","paddingTop","documentElement","scrollLeft","scrollTop","pageXOffset","pageYOffset","C","F","W","assignedSlot","parentNode","host","position","S","body","H","clientWidth","clientHeight","scrollWidth","scrollHeight","direction","_c","getDimensions","getClientRects","from","value","operate","init","source","lift","hasLift","liftedSource","err","error","extendStatics","setPrototypeOf","__proto__","hasOwnProperty","__extends","String","__","constructor","create","__awaiter","thisArg","_arguments","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","_","label","sent","trys","ops","verb","Symbol","iterator","op","__values","__read","ar","__spreadArray","to","pack","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncValues","createErrorClass","createImpl","ctorFunc","instance","stack","UnsubscriptionError","_super","errors","message","toString","arrRemove","arr","item","splice","Subscription","initialTeardown","closed","_parentage","_finalizers","unsubscribe","e_1","_a","e_2","_b","_parentage_1","_parentage_1_1","remove","e_1_1","return","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","e_2_1","add","teardown","_hasParent","_addParent","parent","_removeParent","EMPTY","empty","EMPTY_SUBSCRIPTION","isSubscription","config","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","handler","args","_i","delegate","handle","reportUnhandledError","COMPLETE_NOTIFICATION","createNotification","kind","context","errorContext","cb","isRoot","errorThrown","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","_bind","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","notification","subscriber","createOperatorSubscriber","onNext","onComplete","onError","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","project","subscribe","isArrayLike","isPromise","observable","identity","pipeFromArray","fns","input","prev","Observable","_subscribe","operator","isObserver","_trySubscribe","sink","promiseCtor","getPromiseCtor","pipe","operations","toPromise","isInteropObservable","isAsyncIterable","createInvalidObservableTypeError","isIterable","readableStreamLikeToAsyncGenerator","readableStream","reader","getReader","read","releaseLock","isReadableStreamLike","innerFrom","obs","promise","fromAsyncIterable","iterable","iterable_1","iterable_1_1","asyncIterable","asyncIterable_1","asyncIterable_1_1","catch","executeSchedule","parentSubscription","scheduler","work","delay","repeat","scheduleSubscription","schedule","mergeMap","resultSelector","concurrent","Infinity","ii","onBeforeNext","expand","innerSubScheduler","additionalFinalizer","buffer","active","isComplete","checkComplete","outerNext","doInnerSub","innerComplete","innerValue","_loop_1","bufferedValue","mergeInternals","concatAll","last","popScheduler","observeOn","subscribeOn","scheduleAsyncIterable","scheduled","scheduleObservable","scheduleArray","schedulePromise","scheduleIterable","scheduleReadableStreamLike","values","ObjectUnsubscribedError","Subject","currentObservers","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","defineProperty","enumerable","configurable","_checkFinalizedStatuses","_innerSubscribe","asObservable","predicate","BehaviorSubject","_value","getValue","subscription","takeUntil","notifier","scanInternals","accumulator","seed","hasSeed","emitOnNext","emitBeforeComplete","hasState","state","of","mapOneOrManyArgs","callOrApply","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","target","eventName","isEventTarget","isNodeStyleEventEmitter","toCommonHandlerRegistry","isJQueryStyleEventEmitter","subTarget","Action","intervalProvider","setInterval","clearInterval","AsyncAction","pending","id","recycleAsyncId","requestAsyncId","_id","flush","_scheduler","execute","_execute","_delay","errorValue","errored","actions","dateTimestampProvider","now","Date","Scheduler","schedulerActionCtor","asyncScheduler","AsyncScheduler","SchedulerAction","_active","action","TimeoutError","info","schedulerArg","isNaN","first","each","with","_with","timeoutErrorFactory","_d","meta","originalSourceSubscription","timerSubscription","lastValue","seen","startTimer","defaultCompare","isLocal","isWeb","createUrlRegExp","protocol","strict","ip","tld","computeMenuPosition","button","menu","allParticipantRoomEvents","loglevel","GRID_LAYOUTS","columns","rows","minTiles","maxTiles","minWidth","minHeight","selectGridLayout","layouts","participantCount","currentLayoutIndex","layout","layout_","allLayouts","isBiggerLayoutAvailable","findIndex","layoutIsBiggerThanCurrent","layoutFitsSameAmountOfParticipants","warn","smallerLayout","PIN_DEFAULT_STATE","WIDGET_DEFAULT_STATE","showChat","unreadMessages","isSourceWitOptions","isSourcesWithOptions","sources","isTrackReference","trackReference","publication","track","isTrackReferenceSubscribed","isTrackReferencePublished","isTrackReferencePlaceholder","getTrackReferenceId","participant","sortParticipantsByAudioLevel","audioLevel","sortParticipantsByIsSpeaking","isSpeaking","sortParticipantsByLastSpokenAT","lastSpokeAt","getTime","sortParticipantsByJoinedAt","joinedAt","sortTrackReferences","tracks","localTracks","screenShareTracks","cameraTracks","undefinedTracks","trackRef","LocalParticipant","sortedScreenShareTracks","localScreenShares","remoteScreenShares","sortScreenShareTracks","sortedCameraTracks","cameraTrackReferences","localCameraTracks","remoteCameraTracks","sortTrackReferencesByType","isCameraEnabled","aVideo","sortTrackRefsByIsCameraEnabled","sortCameraTracks","zip","a1","a2","resultLength","fill","_val","idx","differenceBy","by","flatTrackReferenceArray","list","trackReferences","indexToReplace","trackReference_","divideIntoPages","maxElementsOnPage","size","updatePages","currentList","nextList","maxItemsOnPage","updatedList","currentItem","updateForCurrentItem","newItem_","refreshList","addedItems","currentPage","nextPage","pageIndex","updatedPage","changes","dropped","added","listNeedsUpdating","moveForward","moveBack","indexReplaceWith","swapItems","itemToDrop","indexOfElementToDrop","dropItem","itemToAdd","missingItems","observeRoomEvents","room","events","onRoomUpdate","evt","roomEventSelector","update","params","createMediaDeviceObserver","requestPermissions","onDeviceChange","newDevices","deviceSubject","callback","mediaDevices","isSecureContext","canPlayAudio","canPlaybackAudio","prefixClass","unprefixedClassName","getTrackByIdentifier","getTracks","pub","trackName","getTrackByName","getTrack","observeParticipantEvents","onParticipantUpdate","participantObserver","isMicrophoneEnabled","isScreenShareEnabled","microphoneTrack","cameraTrack","participantEventSelector","mutedObserver","isMuted","setupDeviceSelector","localTrack","activeDeviceSubject","activeDeviceObservable","kindOfDevice","deviceId","getActiveDevice","createActiveDeviceObservable","className","setActiveMediaDevice","switchActiveDevice","actualDeviceId","targetTrack","localParticipant","useDefault","mediaStreamTrack","startsWith","setDeviceId","actualId","getDeviceId","setupConnectionQualityIndicator","connectionQualityObserver","quality","connectionQuality","createConnectionQualityObserver","setupParticipantName","infoObserver","observer","metadata","DataTopic","sendMessage","payload","topic","publishData","onMessage","messageObservable","createDataObserver","messageTopic","msg","isSendingSubscriber","isSendingObservable","send","encoder","TextEncoder","decoder","TextDecoder","setupChat","onDestroyObservable","messageSubject","messagesObservable","parsedMessage","JSON","parse","decode","newMessage","scan","acc","isSending$","timestamp","encodedMsg","encode","stringify","destroy","getTrackReferences","onlySubscribedTracks","allParticipants","participants","sourceReferences","createInteractingObservable","htmlElement","inactiveAfter","move$","passive","moveAndStop$","taking","skipSubscriber","keySelector","comparator","previousKey","currentKey","_resizeObserver","getResizeObserver","ticking","allEntries","callbacks","ResizeObserver","entries","requestAnimationFrame","triggered","Set","has","cbs","observe","unobserve","cbIndex","createResizeObserver","useSize","setSize","useState","useLayoutEffect","resizeCallback","useCallback","entry","contentRect","resizeObserver","storedCallback","didUnsubscribe","targetEl","useResizeObserver","useObservableState","startWith","setState","useEffect","chatReducer","newState","count","pinReducer","LayoutContext","createContext","useLayoutContext","layoutContext","useContext","useMaybeLayoutContext","TrackContext","useMaybeTrackContext","ParticipantContext","useMaybeParticipantContext","useEnsureParticipant","trackContext","RoomContext","useRoomContext","ctx","useMaybeRoomContext","useEnsureRoom","chain","mergeProps","props","charCodeAt","useConnectionState","useMemo","connectionState","connectionStateObserver","useDisconnectButton","buttonProps","disconnect","stopTracks","setupDisconnectButton","onClick","disabled","useFocusToggle","trackSource","inFocus","pin","pinState","pinnedTrackReference","trackSid","mergedProps","dispatch","useGridLayout","gridElement","trackCount","style","setProperty","useIsMuted","setIsMuted","listener","useIsSpeaking","createIsSpeakingObserver","defaultRoomProps","connect","audio","video","useLocalParticipantPermissions","participantPermissionObserver","permissions","isProp","prop","cloneSingleChild","children","Children","child","isValidElement","cloneElement","useMediaTrackBySourceOrName","observerOptions","setPublication","setMuted","isSubscribed","setSubscribed","setTrack","orientation","setOrientation","previousElement","useRef","trackObserver","trackIdentifier","initialPub","setupMediaTrack","detach","attach","dimensions","orientation_","elementProps","useVisualStableUpdate","lastTrackRefs","lastMaxItemsOnPage","layoutChanged","sortedTrackRefs","customSortFunction","updatedTrackRefs","useParticipantTile","onParticipantClick","disableSpeakingIndicator","htmlProps","isVideoMuted","isAudioMuted","facingMode","useFacingMode","usePinnedTracks","useEnsureLayoutContext","useStartAudio","roomEnsured","roomAudioPlaybackAllowedObservable","handleStartAudioPlayback","startAudio","setupStartAudio","useChatToggle","widget","toFixed","useToken","tokenEndpoint","roomName","token","setToken","userInfo","URLSearchParams","res","fetch","accessToken","json","tokenFetcher","useTrackMutedIndicator","mediaMutedObserver","classForSource","setupTrackMutedIndicator","useTrackToggle","onChange","initialState","captureOptions","rest","toggle","pendingObserver","enabledObserver","getSourceEnabled","isEnabled","media","pendingSubject","forceState","setCameraEnabled","setMicrophoneEnabled","setScreenShareEnabled","setupMediaToggle","enabledSubject","setupManualToggle","enabled","newProps","clickHandler","useTracks","setTrackReferences","setParticipants","sources_","additionalRoomEvents","onlySubscribed","trackReferencesObservable","updateOnlyOn","maybeTrackReferences","requirePlaceholder","placeholderMap","sourcesThatNeedPlaceholder","sourceWithOption","withPlaceholder","sourcesOfSubscribedTracks","placeholderNeededForThisParticipant","setA","setB","_difference","elem","difference","requiredPlaceholders","trackReferencesWithPlaceholders","placeholderSource","placeholder","ChatToggle","DisconnectButton","xmlns","fillRule","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","opacity","FocusToggle","Consumer","MediaDeviceSelect","initialSelection","onActiveDeviceChange","onDeviceListChange","onDeviceSelectError","exactMatch","devices","activeDeviceId","roomContext","currentDeviceId","setCurrentDeviceId","useMediaDeviceSelect","handleActiveDeviceChange","isActive","device","role","StartAudio","getSourceIcon","TrackToggle","showIcon","ConnectionQualityIndicator","useConnectionQualityIndicator","getConnectionQualityIcon","ParticipantName","TrackMutedIndicator","show","showIndicator","viewBox","preserveAspectRatio","fillOpacity","VideoTrack","onTrackClick","onSubscriptionStatusChanged","mediaEl","muted","AudioTrack","volume","setVolume","ParticipantContextIfNeeded","hasContext","Provider","ParticipantTile","handleSubscribe","subscribed","pinnedSource","pinnedParticipant","isParticipantSourcePinned","marginRight","FocusLayoutContainer","FocusLayout","TrackLoop","PaginationControl","totalPageCount","prevPage","pagesContainer","connectedElement","interactive","setInteractive","PaginationIndicator","bubbles","GridLayout","gridEl","createRef","pagination","itemPerPage","setCurrentPage","ceil","lastItemIndex","firstItemIndex","changePage","updatedTrackReferences","setPage","num","usePagination","touchStart","touchEnd","minSwipeDistance","onTouchStart","targetTouches","clientX","onTouchMove","onTouchEnd","distance","isRightSwipe","onLeftSwipe","onRightSwipe","elementCopy","useSwipe","CarouselLayout","asideEl","prevTiles","setPrevTiles","carouselOrientation","tileSpan","scrollBarWidth","inner","createElement","outer","visibility","appendChild","w1","w2","removeChild","getScrollBarWidth","tilesThatFit","maxVisibleTiles","abs","sortedTiles","dataset","lkOrientation","LayoutContextProvider","onPinChange","onWidgetChange","layoutContextValue","pinDispatch","useReducer","widgetState","widgetDispatch","useEnsureCreateLayoutContext","LiveKitRoom","serverUrl","passedRoom","connectOptions","screen","onConnected","onDisconnected","onMediaDeviceFailure","simulateParticipants","setRoom","onSignalConnected","localP","all","onMediaDeviceError","mediaDeviceFailure","publish","useRealTracks","connectionStateChangeListener","useLiveKitRoom","RoomAudioRenderer","Toast","ConnectionStateToast","setNotification","ChatEntry","hideName","hideTimestamp","messageFormatter","formattedMessage","time","locale","language","toLocaleTimeString","timeStyle","formatChatMessageLinks","grammar","matches","type","rx","weight","matchAll","content","flat","tokens","pos","substring","tokenize","email","url","tok","href","rel","Chat","inputRef","ulRef","chatMessages","isSending","setup","setSetup","setupChatReturn","useChat","lastReadMsgAt","scrollTo","unreadMessageCount","allMsg","onSubmit","preventDefault","focus","MediaDeviceMenu","isOpen","setIsOpen","setDevices","updateRequired","setUpdateRequired","tooltip","assign","handleClickOutside","insideElement","contains","wasClickOutside","audioinput","videoinput","DEFAULT_USER_CHOICES","username","videoEnabled","audioEnabled","videoDeviceId","audioDeviceId","PreJoin","defaults","onValidate","joinLabel","micLabel","camLabel","userLabel","userChoices","setUserChoices","setUsername","setVideoEnabled","initialVideoDeviceId","setVideoDeviceId","initialAudioDeviceId","setAudioEnabled","setAudioDeviceId","setTracks","trackPromise","needsCleanup","tr","stop","usePreviewTracks","videoEl","videoTrack","audioTrack","unmute","isValid","setIsValid","handleValidation","newUserChoices","defaultValue","inputEl","autoComplete","maxWidth","ControlBar","variation","controls","isChatOpen","setIsChatOpen","isTooLittleSpace","query","getMatches","matchMedia","setMatches","handleChange","useMediaQuery","visibleControls","leave","localPermissions","camera","canPublish","microphone","screenShare","chat","canPublishData","showText","browserSupportsScreenSharing","getDisplayMedia","setIsScreenShareEnabled","selfBrowserSurface","VideoConference","chatMessageFormatter","setWidgetState","lastAutoFocusedScreenShareTrack","useCreateLayoutContext","focusTrack","carouselTracks","isEqualTrackRef","newScreenShareTrack","_arrayLikeToArray","len","arr2","_slicedToArray","iter","minLen"],"sourceRoot":""}